function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r={exports:{}},i={},o={exports:{}},a={},s=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||b}function _(){}function x(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=S.prototype;var O=x.prototype=new _;O.constructor=x,w(O,S.prototype),O.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,I={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:I.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var N=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s:case l:a=!0}}if(a)return i=i(a=e),e=""===r?"."+j(a,0):r,T(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),R(i,t,n,"",function(e){return e})):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",T(e))for(var u=0;u<e.length;u++){var c=r+j(o=e[u],u);a+=R(o,t,n,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)a+=R(o=o.value,t,n,c=r+j(o,u++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function M(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},U={transition:null},F={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:U,ReactCurrentOwner:I};function V(){throw Error("act(...) is not supported in production builds of React.")}a.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a.Component=S,a.Fragment=u,a.Profiler=d,a.PureComponent=x,a.StrictMode=c,a.Suspense=m,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,a.act=V,a.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=w({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)A.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:s,type:e.type,key:i,ref:o,props:r,_owner:a}},a.createContext=function(e){return(e={$$typeof:f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},a.createElement=k,a.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},a.createRef=function(){return{current:null}},a.forwardRef=function(e){return{$$typeof:p,render:e}},a.isValidElement=P,a.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:D}},a.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},a.startTransition=function(e){var t=U.transition;U.transition={};try{e()}finally{U.transition=t}},a.unstable_act=V,a.useCallback=function(e,t){return L.current.useCallback(e,t)},a.useContext=function(e){return L.current.useContext(e)},a.useDebugValue=function(){},a.useDeferredValue=function(e){return L.current.useDeferredValue(e)},a.useEffect=function(e,t){return L.current.useEffect(e,t)},a.useId=function(){return L.current.useId()},a.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},a.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},a.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},a.useMemo=function(e,t){return L.current.useMemo(e,t)},a.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},a.useRef=function(e){return L.current.useRef(e)},a.useState=function(e){return L.current.useState(e)},a.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},a.useTransition=function(){return L.current.useTransition()},a.version="18.3.1",o.exports=a;var B=o.exports;const q=n(B),z=e({__proto__:null,default:q},[B]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var H=B,G=Symbol.for("react.element"),$=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,K=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J={key:!0,ref:!0,__self:!0,__source:!0};function Y(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)W.call(t,r)&&!J.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:G,type:e,key:o,ref:a,props:i,_owner:K.current}}i.Fragment=$,i.jsx=Y,i.jsxs=Y,r.exports=i;var X=r.exports,Q={},Z={exports:{}},ee={},te={exports:{}},ne={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,N(E);else{var t=n(u);null!==t&&j(w,t.startTime-e)}}function E(t,i){p=!1,m&&(m=!1,g(O),O=-1),f=!0;var o=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!I());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var y=n(u);null!==y&&j(w,y.startTime-i),c=!1}return c}finally{d=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,x=null,O=-1,T=5,A=-1;function I(){return!(e.unstable_now()-A<T)}function C(){if(null!==x){var t=e.unstable_now();A=t;var n=!0;try{n=x(!0,t)}finally{n?S():(_=!1,x=null)}}else _=!1}if("function"==typeof v)S=function(){v(C)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,P=k.port2;k.port1.onmessage=C,S=function(){P.postMessage(null)}}else S=function(){y(C,0)};function N(e){x=e,_||(_=!0,S())}function j(t,n){O=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,N(E))},e.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(m?(g(O),O=-1):m=!0,j(w,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,N(E))),r},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(ne),te.exports=ne;var re=te.exports,ie=B,oe=re;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=new Set,le={};function ue(e,t){ce(e,t),ce(e+"Capture",t)}function ce(e,t){for(le[e]=t,e=0;e<t.length;e++)se.add(t[e])}var de=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),he=Object.prototype.hasOwnProperty,fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe={},me={};function ye(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new ye(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new ye(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new ye(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new ye(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ge[e]=new ye(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ge[e]=new ye(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ge[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function we(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!he.call(me,e)||!he.call(pe,e)&&(fe.test(e)?me[e]=!0:(pe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)}),ge.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)});var Ee=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),_e=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),Me=Symbol.iterator;function De(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Me&&e[Me]||e["@@iterator"])?e:null}var Le,Ue=Object.assign;function Fe(e){if(void 0===Le)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||""}return"\n"+Le+e}var Ve=!1;function Be(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fe(e):""}function qe(e){switch(e.tag){case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return e=Be(e.type,!1);case 11:return e=Be(e.type.render,!1);case 1:return e=Be(e.type,!0);default:return""}}function ze(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case xe:return"Fragment";case _e:return"Portal";case Te:return"Profiler";case Oe:return"StrictMode";case ke:return"Suspense";case Pe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case Ae:return(e._context.displayName||"Context")+".Provider";case Ce:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return null!==(t=e.displayName||null)?t:ze(e.type)||"Memo";case je:t=e._payload,e=e._init;try{return ze(e(t))}catch(n){}}return null}function He(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(t);case 8:return t===Oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=$e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Je(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ye(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Qe(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function Ze(e,t){Qe(e,t);var n=Ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?tt(e,t.type,n):t.hasOwnProperty("defaultValue")&&tt(e,t.type,Ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function et(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function tt(e,t,n){"number"===t&&Je(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nt=Array.isArray;function rt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function it(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ae(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ot(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ae(92));if(nt(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ge(n)}}function at(e,t){var n=Ge(t.value),r=Ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function st(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function lt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?lt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ct,dt,ht=(dt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return dt(e,t)})}:dt);function ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];function yt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pt.hasOwnProperty(e)&&pt[e]?(""+t).trim():t+"px"}function gt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=yt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pt).forEach(function(e){mt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pt[t]=pt[e]})});var vt=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(e,t){if(t){if(vt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ae(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ae(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ae(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,xt=null,Ot=null;function Tt(e){if(e=Eo(e)){if("function"!=typeof _t)throw Error(ae(280));var t=e.stateNode;t&&(t=_o(t),_t(e.stateNode,e.type,t))}}function At(e){xt?Ot?Ot.push(e):Ot=[e]:xt=e}function It(){if(xt){var e=xt,t=Ot;if(Ot=xt=null,Tt(e),t)for(e=0;e<t.length;e++)Tt(t[e])}}function Ct(e,t){return e(t)}function kt(){}var Pt=!1;function Nt(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return Ct(e,t,n)}finally{Pt=!1,(null!==xt||null!==Ot)&&(kt(),It())}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=_o(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ae(231,t,typeof n));return n}var Rt=!1;if(de)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch(dt){Rt=!1}function Dt(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Lt=!1,Ut=null,Ft=!1,Vt=null,Bt={onError:function(e){Lt=!0,Ut=e}};function qt(e,t,n,r,i,o,a,s,l){Lt=!1,Ut=null,Dt.apply(Bt,arguments)}function zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ht(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Gt(e){if(zt(e)!==e)throw Error(ae(188))}function $t(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=zt(e)))throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gt(i),e;if(o===r)return Gt(i),t;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(3!==n.tag)throw Error(ae(188));return n.stateNode.current===n?e:t}(e))?Wt(e):null}function Wt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Wt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=oe.unstable_scheduleCallback,Jt=oe.unstable_cancelCallback,Yt=oe.unstable_shouldYield,Xt=oe.unstable_requestPaint,Qt=oe.unstable_now,Zt=oe.unstable_getCurrentPriorityLevel,en=oe.unstable_ImmediatePriority,tn=oe.unstable_UserBlockingPriority,nn=oe.unstable_NormalPriority,rn=oe.unstable_LowPriority,on=oe.unstable_IdlePriority,an=null,sn=null;var ln=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(un(e)/cn|0)|0},un=Math.log,cn=Math.LN2;var dn=64,hn=4194304;function fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=fn(s):0!==(o&=a)&&(r=fn(o))}else 0!==(a=n&~i)?r=fn(a):0!==o&&(r=fn(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ln(t)),r|=e[n],t&=~i;return r}function mn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function yn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function vn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ln(t)]=n}function wn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ln(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var En=0;function Sn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var _n,xn,On,Tn,An,In=!1,Cn=[],kn=null,Pn=null,Nn=null,jn=new Map,Rn=new Map,Mn=[],Dn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function Un(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Eo(t))&&xn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fn(e){var t=wo(e.target);if(null!==t){var n=zt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ht(n)))return e.blockedOn=t,void An(e.priority,function(){On(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Eo(n))&&xn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Et=r,n.target.dispatchEvent(r),Et=null,t.shift()}return!0}function Bn(e,t,n){Vn(e)&&n.delete(t)}function qn(){In=!1,null!==kn&&Vn(kn)&&(kn=null),null!==Pn&&Vn(Pn)&&(Pn=null),null!==Nn&&Vn(Nn)&&(Nn=null),jn.forEach(Bn),Rn.forEach(Bn)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,In||(In=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,qn)))}function Hn(e){function t(t){return zn(t,e)}if(0<Cn.length){zn(Cn[0],e);for(var n=1;n<Cn.length;n++){var r=Cn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kn&&zn(kn,e),null!==Pn&&zn(Pn,e),null!==Nn&&zn(Nn,e),jn.forEach(t),Rn.forEach(t),n=0;n<Mn.length;n++)(r=Mn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&null===(n=Mn[0]).blockedOn;)Fn(n),null===n.blockedOn&&Mn.shift()}var Gn=Ee.ReactCurrentBatchConfig,$n=!0;function Wn(e,t,n,r){var i=En,o=Gn.transition;Gn.transition=null;try{En=1,Jn(e,t,n,r)}finally{En=i,Gn.transition=o}}function Kn(e,t,n,r){var i=En,o=Gn.transition;Gn.transition=null;try{En=4,Jn(e,t,n,r)}finally{En=i,Gn.transition=o}}function Jn(e,t,n,r){if($n){var i=Xn(e,t,n,r);if(null===i)Gi(e,t,r,Yn,n),Ln(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kn=Un(kn,e,t,n,r,i),!0;case"dragenter":return Pn=Un(Pn,e,t,n,r,i),!0;case"mouseover":return Nn=Un(Nn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jn.set(o,Un(jn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rn.set(o,Un(Rn.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ln(e,r),4&t&&-1<Dn.indexOf(e)){for(;null!==i;){var o=Eo(i);if(null!==o&&_n(o),null===(o=Xn(e,t,n,r))&&Gi(e,t,r,Yn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gi(e,t,r,null,n)}}var Yn=null;function Xn(e,t,n,r){if(Yn=null,null!==(e=wo(e=St(r))))if(null===(t=zt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ht(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yn=e,null}function Qn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case en:return 1;case tn:return 4;case nn:case rn:return 16;case on:return 536870912;default:return 16}default:return 16}}var Zn=null,er=null,tr=null;function nr(){if(tr)return tr;var e,t,n=er,r=n.length,i="value"in Zn?Zn.value:Zn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tr=i.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function or(){return!1}function ar(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ir:or,this.isPropagationStopped=or,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var sr,lr,ur,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=ar(cr),hr=Ue({},cr,{view:0,detail:0}),fr=ar(hr),pr=Ue({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&"mousemove"===e.type?(sr=e.screenX-ur.screenX,lr=e.screenY-ur.screenY):lr=sr=0,ur=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),mr=ar(pr),yr=ar(Ue({},pr,{dataTransfer:0})),gr=ar(Ue({},hr,{relatedTarget:0})),vr=ar(Ue({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),br=Ue({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wr=ar(br),Er=ar(Ue({},cr,{data:0})),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Tr(){return Or}var Ar=Ue({},hr,{key:function(e){if(e.key){var t=Sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ir=ar(Ar),Cr=ar(Ue({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kr=ar(Ue({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr})),Pr=ar(Ue({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nr=Ue({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jr=ar(Nr),Rr=[9,13,27,32],Mr=de&&"CompositionEvent"in window,Dr=null;de&&"documentMode"in document&&(Dr=document.documentMode);var Lr=de&&"TextEvent"in window&&!Dr,Ur=de&&(!Mr||Dr&&8<Dr&&11>=Dr),Fr=String.fromCharCode(32),Vr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hr[e.type]:"textarea"===t}function $r(e,t,n,r){At(r),0<(t=Wi(t,"onChange")).length&&(n=new dr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wr=null,Kr=null;function Jr(e){Fi(e,0)}function Yr(e){if(Ke(So(e)))return e}function Xr(e,t){if("change"===e)return t}var Qr=!1;if(de){var Zr;if(de){var ei="oninput"in document;if(!ei){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),ei="function"==typeof ti.oninput}Zr=ei}else Zr=!1;Qr=Zr&&(!document.documentMode||9<document.documentMode)}function ni(){Wr&&(Wr.detachEvent("onpropertychange",ri),Kr=Wr=null)}function ri(e){if("value"===e.propertyName&&Yr(Kr)){var t=[];$r(t,Kr,e,St(e)),Nt(Jr,t)}}function ii(e,t,n){"focusin"===e?(ni(),Kr=n,(Wr=t).attachEvent("onpropertychange",ri)):"focusout"===e&&ni()}function oi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Kr)}function ai(e,t){if("click"===e)return Yr(t)}function si(e,t){if("input"===e||"change"===e)return Yr(t)}var li="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ui(e,t){if(li(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!he.call(t,i)||!li(e[i],t[i]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,r=ci(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ci(r)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=Je();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Je((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=fi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==r&&pi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=di(n,o);var a=di(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yi=de&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,bi=null,wi=!1;function Ei(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==gi||gi!==Je(r)||("selectionStart"in(r=gi)&&pi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},bi&&ui(bi,r)||(bi=r,0<(r=Wi(vi,"onSelect")).length&&(t=new dr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gi)))}function Si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},xi={},Oi={};function Ti(e){if(xi[e])return xi[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in Oi)return xi[e]=n[t];return e}de&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ai=Ti("animationend"),Ii=Ti("animationiteration"),Ci=Ti("animationstart"),ki=Ti("transitionend"),Pi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){Pi.set(e,t),ue(t,[e])}for(var Ri=0;Ri<Ni.length;Ri++){var Mi=Ni[Ri];ji(Mi.toLowerCase(),"on"+(Mi[0].toUpperCase()+Mi.slice(1)))}ji(Ai,"onAnimationEnd"),ji(Ii,"onAnimationIteration"),ji(Ci,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(ki,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Ui(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(qt.apply(this,arguments),Lt){if(!Lt)throw Error(ae(198));var u=Ut;Lt=!1,Ut=null,Ft||(Ft=!0,Vt=u)}}(r,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ui(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ui(i,s,u),o=l}}}if(Ft)throw e=Vt,Ft=!1,Vt=null,e}function Vi(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hi(t,e,2,!1),n.add(r))}function Bi(e,t,n){var r=0;t&&(r|=4),Hi(n,e,r,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[qi]){e[qi]=!0,se.forEach(function(t){"selectionchange"!==t&&(Li.has(t)||Bi(t,!1,e),Bi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qi]||(t[qi]=!0,Bi("selectionchange",!1,t))}}function Hi(e,t,n,r){switch(Qn(t)){case 1:var i=Wn;break;case 4:i=Kn;break;default:i=Jn}n=i.bind(null,t,n,e),i=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gi(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=wo(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Nt(function(){var r=o,i=St(n),a=[];e:{var s=Pi.get(e);if(void 0!==s){var l=dr,u=e;switch(e){case"keypress":if(0===rr(n))break e;case"keydown":case"keyup":l=Ir;break;case"focusin":u="focus",l=gr;break;case"focusout":u="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kr;break;case Ai:case Ii:case Ci:l=vr;break;case ki:l=Pr;break;case"scroll":l=fr;break;case"wheel":l=jr;break;case"copy":case"cut":case"paste":l=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=jt(p,h))&&c.push($i(p,m,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Et||!(u=n.relatedTarget||n.fromElement)||!wo(u)&&!u[yo])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?wo(u):null)&&(u!==(d=zt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:So(l),f=null==u?s:So(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,wo(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Ki(f))p++;for(f=0,m=h;m;m=Ki(m))f++;for(;0<p-f;)c=Ki(c),p--;for(;0<f-p;)h=Ki(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ki(c),h=Ki(h)}c=null}else c=null;null!==l&&Ji(a,s,l,c,!1),null!==u&&null!==d&&Ji(a,d,u,c,!0)}if("select"===(l=(s=r?So(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Xr;else if(Gr(s))if(Qr)y=si;else{y=oi;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ai);switch(y&&(y=y(e,r))?$r(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=r?So(r):window,e){case"focusin":(Gr(g)||"true"===g.contentEditable)&&(gi=g,vi=r,bi=null);break;case"focusout":bi=vi=gi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Ei(a,n,i);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Ei(a,n,i)}var v;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Br(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ur&&"ko"!==n.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(v=nr()):(er="value"in(Zn=i)?Zn.value:Zn.textContent,zr=!0)),0<(g=Wi(r,b)).length&&(b=new Er(b,e,null,n,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=qr(n))&&(b.data=v))),(v=Lr?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(Vr=!0,Fr);case"textInput":return(e=t.data)===Fr&&Vr?null:e;default:return null}}(e,n):function(e,t){if(zr)return"compositionend"===e||!Mr&&Br(e,t)?(e=nr(),tr=er=Zn=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wi(r,"onBeforeInput")).length&&(i=new Er("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fi(a,t)})}function $i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=jt(e,n))&&r.unshift($i(e,o,i)),null!=(o=jt(e,t))&&r.push($i(e,o,i))),e=e.return}return r}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ji(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=jt(n,o))&&a.unshift($i(n,l,s)):i||null!=(l=jt(n,o))&&a.push($i(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Qi(e){return("string"==typeof e?e:""+e).replace(Yi,"\n").replace(Xi,"")}function Zi(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(ae(425))}function eo(){}var to=null,no=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var io="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(lo)}:io;function lo(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Hn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Hn(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,mo="__reactProps$"+fo,yo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,bo="__reactHandles$"+fo;function wo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ho(e);null!==e;){if(n=e[po])return n;e=ho(e)}return t}n=(e=n).parentNode}return null}function Eo(e){return!(e=e[po]||e[yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function So(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ae(33))}function _o(e){return e[mo]||null}var xo=[],Oo=-1;function To(e){return{current:e}}function Ao(e){0>Oo||(e.current=xo[Oo],xo[Oo]=null,Oo--)}function Io(e,t){Oo++,xo[Oo]=e.current,e.current=t}var Co={},ko=To(Co),Po=To(!1),No=Co;function jo(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ro(e){return null!=(e=e.childContextTypes)}function Mo(){Ao(Po),Ao(ko)}function Do(e,t,n){if(ko.current!==Co)throw Error(ae(168));Io(ko,t),Io(Po,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(ae(108,He(e)||"Unknown",i));return Ue({},n,r)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,No=ko.current,Io(ko,e),Io(Po,Po.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=Lo(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,Ao(Po),Ao(ko),Io(ko,e)):Ao(Po),Io(Po,n)}var Vo=null,Bo=!1,qo=!1;function zo(e){null===Vo?Vo=[e]:Vo.push(e)}function Ho(){if(!qo&&null!==Vo){qo=!0;var e=0,t=En;try{var n=Vo;for(En=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vo=null,Bo=!1}catch(i){throw null!==Vo&&(Vo=Vo.slice(e+1)),Kt(en,Ho),i}finally{En=t,qo=!1}}return null}var Go=[],$o=0,Wo=null,Ko=0,Jo=[],Yo=0,Xo=null,Qo=1,Zo="";function ea(e,t){Go[$o++]=Ko,Go[$o++]=Wo,Wo=e,Ko=t}function ta(e,t,n){Jo[Yo++]=Qo,Jo[Yo++]=Zo,Jo[Yo++]=Xo,Xo=e;var r=Qo;e=Zo;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var o=32-ln(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qo=1<<32-ln(t)+i|n<<i|r,Zo=o+e}else Qo=1<<o|n<<i|r,Zo=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Wo;)Wo=Go[--$o],Go[$o]=null,Ko=Go[--$o],Go[$o]=null;for(;e===Xo;)Xo=Jo[--Yo],Jo[Yo]=null,Zo=Jo[--Yo],Jo[Yo]=null,Qo=Jo[--Yo],Jo[Yo]=null}var ia=null,oa=null,aa=!1,sa=null;function la(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ia=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ia=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xo?{id:Qo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ia=e,oa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function da(e){if(aa){var t=oa;if(t){var n=t;if(!ua(e,t)){if(ca(e))throw Error(ae(418));t=co(n.nextSibling);var r=ia;t&&ua(e,t)?la(r,n):(e.flags=-4097&e.flags|2,aa=!1,ia=e)}}else{if(ca(e))throw Error(ae(418));e.flags=-4097&e.flags|2,aa=!1,ia=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ia=e}function fa(e){if(e!==ia)return!1;if(!aa)return ha(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw pa(),Error(ae(418));for(;t;)la(e,t),t=co(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ia?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function ma(){oa=ia=null,aa=!1}function ya(e){null===sa?sa=[e]:sa.push(e)}var ga=Ee.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function Ea(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===xe?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===je&&wa(o)===t.type)?((r=i(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Se:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case _e:return(t=Uc(t,e.mode,n)).return=e,t;case je:return d(e,(0,t._init)(t._payload),n)}if(nt(t)||De(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Se:return n.key===i?l(e,t,n,r):null;case _e:return n.key===i?u(e,t,n,r):null;case je:return h(e,t,(i=n._init)(n._payload),r)}if(nt(n)||De(n))return null!==i?null:c(e,t,n,r,null);ba(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Se:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _e:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case je:return f(e,t,n,(0,r._init)(r._payload),i)}if(nt(r)||De(r))return c(t,e=e.get(n)||null,r,i,null);ba(t,r)}return null}return function s(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===xe&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Se:e:{for(var m=c.key,y=u;null!==y;){if(y.key===m){if((m=c.type)===xe){if(7===y.tag){n(l,y.sibling),(u=i(y,c.props.children)).return=l,l=u;break e}}else if(y.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===je&&wa(m)===y.type){n(l,y.sibling),(u=i(y,c.props)).ref=va(l,y,c),u.return=l,l=u;break e}n(l,y);break}t(l,y),y=y.sibling}c.type===xe?((u=Mc(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=Rc(c.type,c.key,c.props,null,l.mode,p)).ref=va(l,u,c),p.return=l,l=p)}return a(l);case _e:e:{for(y=c.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=Uc(c,l.mode,p)).return=l,l=u}return a(l);case je:return s(l,u,(y=c._init)(c._payload),p)}if(nt(c))return function(i,a,s,l){for(var u=null,c=null,p=a,m=a=0,y=null;null!==p&&m<s.length;m++){p.index>m?(y=p,p=null):y=p.sibling;var g=h(i,p,s[m],l);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(i,p),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,p=y}if(m===s.length)return n(i,p),aa&&ea(i,m),u;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],l))&&(a=o(p,a,m),null===c?u=p:c.sibling=p,c=p);return aa&&ea(i,m),u}for(p=r(i,p);m<s.length;m++)null!==(y=f(p,i,m,s[m],l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),u}(l,u,c,p);if(De(c))return function(i,a,s,l){var u=De(s);if("function"!=typeof u)throw Error(ae(150));if(null==(s=u.call(s)))throw Error(ae(151));for(var c=u=null,p=a,m=a=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var v=h(i,p,g.value,l);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,p=y}if(g.done)return n(i,p),aa&&ea(i,m),u;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,l))&&(a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return aa&&ea(i,m),u}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=f(p,i,m,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),u}(l,u,c,p);ba(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=Lc(c,l.mode,p)).return=l,l=u),a(l)):n(l,u)}}var Sa=Ea(!0),_a=Ea(!1),xa=To(null),Oa=null,Ta=null,Aa=null;function Ia(){Aa=Ta=Oa=null}function Ca(e){var t=xa.current;Ao(xa),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){Oa=e,Aa=Ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ta){if(null===Oa)throw Error(ae(308));Ta=e,Oa.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var ja=null;function Ra(e){null===ja?ja=[e]:ja.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Iu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function qa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;La=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=Ue({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Du|=a,e.lanes=a,e.memoizedState=d}}function Ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(ae(191,i));i.call(r)}}}var $a={},Wa=To($a),Ka=To($a),Ja=To($a);function Ya(e){if(e===$a)throw Error(ae(174));return e}function Xa(e,t){switch(Io(Ja,t),Io(Ka,e),Io(Wa,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ut(null,"");break;default:t=ut(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(Wa),Io(Wa,t)}function Qa(){Ao(Wa),Ao(Ka),Ao(Ja)}function Za(e){Ya(Ja.current);var t=Ya(Wa.current),n=ut(t,e.type);t!==n&&(Io(Ka,e),Io(Wa,n))}function es(e){Ka.current===e&&(Ao(Wa),Ao(Ka))}var ts=To(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=Ee.ReactCurrentDispatcher,as=Ee.ReactCurrentBatchConfig,ss=0,ls=null,us=null,cs=null,ds=!1,hs=!1,fs=0,ps=0;function ms(){throw Error(ae(321))}function ys(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!li(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,o){if(ss=o,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?el:tl,e=n(r,i),hs){o=0;do{if(hs=!1,fs=0,25<=o)throw Error(ae(301));o+=1,cs=us=null,t.updateQueue=null,os.current=nl,e=n(r,i)}while(hs)}if(os.current=Zs,t=null!==us&&null!==us.next,ss=0,cs=us=ls=null,ds=!1,t)throw Error(ae(300));return e}function vs(){var e=0!==fs;return fs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?ls.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===us){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=us.next;var t=null===cs?ls.memoizedState:cs.next;if(null!==t)cs=t,us=e;else{if(null===e)throw Error(ae(310));e={memoizedState:(us=e).memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},null===cs?ls.memoizedState=cs=e:cs=cs.next=e}return cs}function Es(e,t){return"function"==typeof t?t(e):t}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(ae(311));n.lastRenderedReducer=e;var r=us,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ss&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,ls.lanes|=c,Du|=c}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=s,li(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ls.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);li(o,t.memoizedState)||(bl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xs(){}function Os(e,t){var n=ls,r=ws(),i=t(),o=!li(r.memoizedState,i);if(o&&(r.memoizedState=i,bl=!0),r=r.queue,Ls(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ns(9,As.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(ae(349));30&ss||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&ks(e)}function Is(e,t,n){return n(function(){Cs(t)&&ks(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!li(e,n)}catch(r){return!0}}function ks(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=bs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,ls,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return ws().memoizedState}function Rs(e,t,n,r){var i=bs();ls.flags|=e,i.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==us){var a=us.memoizedState;if(o=a.destroy,null!==r&&ys(r,a.deps))return void(i.memoizedState=Ns(t,n,o,r))}ls.flags|=e,i.memoizedState=Ns(1|t,n,o,r)}function Ds(e,t){return Rs(8390656,8,e,t)}function Ls(e,t){return Ms(2048,8,e,t)}function Us(e,t){return Ms(4,2,e,t)}function Fs(e,t){return Ms(4,4,e,t)}function Vs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!=n?n.concat([e]):null,Ms(4,4,Vs.bind(null,t,e),n)}function qs(){}function zs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gs(e,t,n){return 21&ss?(li(n,t)||(n=gn(),ls.lanes|=n,Du|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function $s(e,t){var n=En;En=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{En=n,as.transition=r}}function Ws(){return ws().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Ma(e,t,n,r))){nc(n,e,r,ec()),Qs(n,t,r)}}function Js(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,li(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ma(e,t,i,r))&&(nc(n,e,r,i=ec()),Qs(n,t,r))}}function Ys(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Xs(e,t){hs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}var Zs={readContext:Na,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},el={readContext:Na,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Rs(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Ps,useDebugValue:qs,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=$s.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,i=bs();if(aa){if(void 0===n)throw Error(ae(407));n=n()}else{if(n=t(),null===Cu)throw Error(ae(349));30&ss||Ts(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ds(Is.bind(null,r,o,e),[e]),r.flags|=2048,Ns(9,As.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bs(),t=Cu.identifierPrefix;if(aa){var n=Zo;t=":"+t+"R"+(n=(Qo&~(1<<32-ln(Qo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tl={readContext:Na,useCallback:zs,useContext:Na,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:Ss,useRef:js,useState:function(){return Ss(Es)},useDebugValue:qs,useDeferredValue:function(e){return Gs(ws(),us.memoizedState,e)},useTransition:function(){return[Ss(Es)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:Os,useId:Ws,unstable_isNewReconciler:!1},nl={readContext:Na,useCallback:zs,useContext:Na,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:_s,useRef:js,useState:function(){return _s(Es)},useDebugValue:qs,useDeferredValue:function(e){var t=ws();return null===us?t.memoizedState=e:Gs(t,us.memoizedState,e)},useTransition:function(){return[_s(Es)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:Os,useId:Ws,unstable_isNewReconciler:!1};function rl(e,t){if(e&&e.defaultProps){for(var n in t=Ue({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function il(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Ue({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&zt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Va(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ba(e,o,i))&&(nc(t,e,i,r),qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Va(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ba(e,o,i))&&(nc(t,e,i,r),qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Va(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ba(e,i,r))&&(nc(t,e,r,n),qa(t,e,r))}};function al(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ui(n,r)||!ui(i,o))}function sl(e,t,n){var r=!1,i=Co,o=t.contextType;return"object"==typeof o&&null!==o?o=Na(o):(i=Ro(t)?No:ko.current,o=(r=null!=(r=t.contextTypes))?jo(e,i):Co),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ll(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function ul(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ua(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Na(o):(o=Ro(t)?No:ko.current,i.context=jo(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(il(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ol.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=qe(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var hl="function"==typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=Va(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r)},n}function pl(e,t,n){(n=Va(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===$u?$u=new Set([this]):$u.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Va(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e)}var vl=Ee.ReactCurrentOwner,bl=!1;function wl(e,t,n,r){t.child=null===e?_a(t,null,n,r):Sa(t,e.child,n,r)}function El(e,t,n,r,i){n=n.render;var o=t.ref;return Pa(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||bl?(aa&&n&&na(t),t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Sl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_l(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ui)(a,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=jc(o,r)).ref=t.ref,e.return=t,t.child=e}function _l(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ui(o,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);131072&e.flags&&(bl=!0)}}return Tl(e,t,n,r,i)}function xl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(ju,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Io(ju,Nu),Nu|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(ju,Nu),Nu|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Io(ju,Nu),Nu|=r;return wl(e,t,i,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,i){var o=Ro(n)?No:ko.current;return o=jo(t,o),Pa(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||bl?(aa&&r&&na(t),t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Al(e,t,n,r,i){if(Ro(n)){var o=!0;Uo(t)}else o=!1;if(Pa(t,i),null===t.stateNode)zl(e,t),sl(t,n,r),ul(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Na(u):u=jo(t,u=Ro(n)?No:ko.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ll(t,a,r,u),La=!1;var h=t.memoizedState;a.state=h,Ha(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Po.current||La?("function"==typeof c&&(il(t,n,c,r),l=t.memoizedState),(s=La||al(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:rl(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Na(l):l=jo(t,l=Ro(n)?No:ko.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ll(t,a,r,l),La=!1,h=t.memoizedState,a.state=h,Ha(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Po.current||La?("function"==typeof f&&(il(t,n,f,r),p=t.memoizedState),(u=La||al(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,i)}function Il(e,t,n,r,i,o){Ol(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Fo(t,n,!1),Hl(e,t,o);r=t.stateNode,vl.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Sa(t,e.child,null,o),t.child=Sa(t,null,s,o)):wl(e,t,s,o),t.memoizedState=r.state,i&&Fo(t,n,!0),t.child}function Cl(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Xa(e,t.containerInfo)}function kl(e,t,n,r,i){return ma(),ya(i),t.flags|=256,wl(e,t,n,r),t.child}var Pl,Nl,jl,Rl,Ml={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ll(e,t,n){var r,i=t.pendingProps,o=ts.current,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Io(ts,1&o),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},1&i||null===a?a=Dc(s,i,0,null):(a.childLanes=0,a.pendingProps=s),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Dl(n),t.memoizedState=Ml,e):Ul(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,a,r=dl(Error(ae(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&Sa(t,e.child,null,a),t.child.memoizedState=Dl(a),t.memoizedState=Ml,o);if(!(1&t.mode))return Fl(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Fl(e,t,a,r=dl(o=Error(ae(419)),r,void 0))}if(s=0!==(a&e.childLanes),bl||s){if(null!==(r=Cu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Da(e,i),nc(r,e,i,-1))}return mc(),Fl(e,t,a,r=dl(Error(ae(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,oa=co(i.nextSibling),ia=t,aa=!0,sa=null,null!==e&&(Jo[Yo++]=Qo,Jo[Yo++]=Zo,Jo[Yo++]=Xo,Qo=e.id,Zo=e.overflow,Xo=t),t=Ul(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(a){a=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&s||t.child===o?(i=jc(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?a=jc(r,a):(a=Mc(a,s,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=null===(s=e.child.memoizedState)?Dl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Ml,i}return e=(a=e.child).sibling,i=jc(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ul(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,r){return null!==r&&ya(r),Sa(t,e.child,null,n),(e=Ul(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Bl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ql(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),2&(r=ts.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vl(e,n,t);else if(19===e.tag)Vl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Io(ts,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bl(t,!0,n,null,o);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function zl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ae(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $l(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wl(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $l(t),null;case 1:case 17:return Ro(t.type)&&Mo(),$l(t),null;case 3:return r=t.stateNode,Qa(),Ao(Po),Ao(ko),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==sa&&(ac(sa),sa=null))),Nl(e,t),$l(t),null;case 5:es(t);var i=Ya(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)jl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(ae(166));return $l(t),null}if(e=Ya(Wa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[po]=t,r[mo]=o,e=!!(1&t.mode),n){case"dialog":Vi("cancel",r),Vi("close",r);break;case"iframe":case"object":case"embed":Vi("load",r);break;case"video":case"audio":for(i=0;i<Di.length;i++)Vi(Di[i],r);break;case"source":Vi("error",r);break;case"img":case"image":case"link":Vi("error",r),Vi("load",r);break;case"details":Vi("toggle",r);break;case"input":Xe(r,o),Vi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",r);break;case"textarea":ot(r,o),Vi("invalid",r)}for(var a in bt(n,o),i=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?r.textContent!==s&&(!0!==o.suppressHydrationWarning&&Zi(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==o.suppressHydrationWarning&&Zi(r.textContent,s,e),i=["children",""+s]):le.hasOwnProperty(a)&&null!=s&&"onScroll"===a&&Vi("scroll",r)}switch(n){case"input":We(r),et(r,o,!0);break;case"textarea":We(r),st(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=eo)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=lt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[po]=t,e[mo]=r,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(a=wt(n,r),n){case"dialog":Vi("cancel",e),Vi("close",e),i=r;break;case"iframe":case"object":case"embed":Vi("load",e),i=r;break;case"video":case"audio":for(i=0;i<Di.length;i++)Vi(Di[i],e);i=r;break;case"source":Vi("error",e),i=r;break;case"img":case"image":case"link":Vi("error",e),Vi("load",e),i=r;break;case"details":Vi("toggle",e),i=r;break;case"input":Xe(e,r),i=Ye(e,r),Vi("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Vi("invalid",e);break;case"textarea":ot(e,r),i=it(e,r),Vi("invalid",e)}for(o in bt(n,i),s=i)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?gt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ht(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&ft(e,l):"number"==typeof l&&ft(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(le.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vi("scroll",e):null!=l&&we(e,o,l,a))}switch(n){case"input":We(e),et(e,r,!1);break;case"textarea":We(e),st(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?rt(e,!!r.multiple,o,!1):null!=r.defaultValue&&rt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $l(t),null;case 6:if(e&&null!=t.stateNode)Rl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ae(166));if(n=Ya(Ja.current),Ya(Wa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(o=r.nodeValue!==n)&&null!==(e=ia))switch(e.tag){case 3:Zi(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return $l(t),null;case 13:if(Ao(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ma(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(ae(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(ae(317));o[po]=t}else ma(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$l(t),o=!1}else null!==sa&&(ac(sa),sa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ts.current?0===Ru&&(Ru=3):mc())),null!==t.updateQueue&&(t.flags|=4),$l(t),null);case 4:return Qa(),Nl(e,t),null===e&&zi(t.stateNode.containerInfo),$l(t),null;case 10:return Ca(t.type._context),$l(t),null;case 19:if(Ao(ts),null===(o=t.memoizedState))return $l(t),null;if(r=!!(128&t.flags),null===(a=o.rendering))if(r)Gl(o,!1);else{if(0!==Ru||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=ns(e))){for(t.flags|=128,Gl(o,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(ts,1&ts.current|2),t.child}e=e.sibling}null!==o.tail&&Qt()>qu&&(t.flags|=128,r=!0,Gl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!aa)return $l(t),null}else 2*Qt()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=o.last)?n.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qt(),t.sibling=null,n=ts.current,Io(ts,r?1&n|2:1&n),t):($l(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Nu)&&($l(t),6&t.subtreeFlags&&(t.flags|=8192)):$l(t),null;case 24:case 25:return null}throw Error(ae(156,t.tag))}function Kl(e,t){switch(ra(t),t.tag){case 1:return Ro(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ao(Po),Ao(ko),is(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ao(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ae(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(ts),null;case 4:return Qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Nl=function(){},jl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Wa.current);var o,a=null;switch(n){case"input":i=Ye(e,i),r=Ye(e,r),a=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),a=[];break;case"textarea":i=it(e,i),r=it(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=eo)}for(u in bt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(le.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(le.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vi("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jl=!1,Yl=!1,Xl="function"==typeof WeakSet?WeakSet:Set,Ql=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[mo],delete t[go],delete t[vo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=eo));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}var cu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(an,n)}catch(s){}switch(n.tag){case 5:Yl||Zl(n,t);case 6:var r=cu,i=du;cu=null,hu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?uo(e.parentNode,n):1===e.nodeType&&uo(e,n),Hn(e)):uo(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,hu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Yl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Yl=(r=Yl)||null!==n.memoizedState,hu(e,t,n),Yl=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:cu=s.stateNode,du=!1;break e;case 3:case 4:cu=s.stateNode.containerInfo,du=!0;break e}s=s.return}if(null===cu)throw Error(ae(160));fu(o,a,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){xc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){xc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{ft(i,"")}catch(m){xc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Qe(i,o),wt(s,a);var u=wt(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];"style"===c?gt(i,d):"dangerouslySetInnerHTML"===c?ht(i,d):"children"===c?ft(i,d):we(i,c,d,u)}switch(s){case"input":Ze(i,o);break;case"textarea":at(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?rt(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?rt(i,!!o.multiple,o.defaultValue,!0):rt(i,!!o.multiple,o.multiple?[]:"",!1))}i[mo]=o}catch(m){xc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(ae(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(m){xc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Qt())),4&r&&pu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(u=Yl)||c,mu(t,e),Yl=u):mu(t,e),gu(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(Ql=e,c=e.child;null!==c;){for(d=Ql=c;null!==Ql;){switch(f=(h=Ql).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zl(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){xc(r,n,m)}}break;case 5:Zl(h,h.return);break;case 22:if(null!==h.memoizedState){Eu(d);continue}}null!==f?(f.return=h,Ql=f):Eu(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=yt("display",a))}catch(m){xc(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){xc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),uu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,su(e),o);break;default:throw Error(ae(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ql=e,bu(e)}function bu(e,t,n){for(var r=!!(1&e.mode);null!==Ql;){var i=Ql,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jl;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Yl;s=Jl;var u=Yl;if(Jl=a,(Yl=l)&&!u)for(Ql=i;null!==Ql;)l=(a=Ql).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==l?(l.return=a,Ql=l):Su(i);for(;null!==o;)Ql=o,bu(o),o=o.sibling;Ql=i,Jl=s,Yl=u}wu(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Ql=o):wu(e)}}function wu(e){for(;null!==Ql;){var t=Ql;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yl||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ga(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ga(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Hn(d)}}}break;default:throw Error(ae(163))}Yl||512&t.flags&&iu(t)}catch(h){xc(t,t.return,h)}}if(t===e){Ql=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ql=n;break}Ql=t.return}}function Eu(e){for(;null!==Ql;){var t=Ql;if(t===e){Ql=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ql=n;break}Ql=t.return}}function Su(e){for(;null!==Ql;){var t=Ql;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var o=t.return;try{iu(t)}catch(l){xc(t,o,l)}break;case 5:var a=t.return;try{iu(t)}catch(l){xc(t,a,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Ql=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ql=s;break}Ql=t.return}}var _u,xu=Math.ceil,Ou=Ee.ReactCurrentDispatcher,Tu=Ee.ReactCurrentOwner,Au=Ee.ReactCurrentBatchConfig,Iu=0,Cu=null,ku=null,Pu=0,Nu=0,ju=To(0),Ru=0,Mu=null,Du=0,Lu=0,Uu=0,Fu=null,Vu=null,Bu=0,qu=1/0,zu=null,Hu=!1,Gu=null,$u=null,Wu=!1,Ku=null,Ju=0,Yu=0,Xu=null,Qu=-1,Zu=0;function ec(){return 6&Iu?Qt():-1!==Qu?Qu:Qu=Qt()}function tc(e){return 1&e.mode?2&Iu&&0!==Pu?Pu&-Pu:null!==ga.transition?(0===Zu&&(Zu=gn()),Zu):0!==(e=En)?e:e=void 0===(e=window.event)?16:Qn(e.type):1}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(ae(185));bn(e,n,r),2&Iu&&e===Cu||(e===Cu&&(!(2&Iu)&&(Lu|=n),4===Ru&&sc(e,Pu)),rc(e,r),1===n&&0===Iu&&!(1&t.mode)&&(qu=Qt()+500,Bo&&Ho()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ln(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=mn(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pn(e,e===Cu?Pu:0);if(0===r)null!==n&&Jt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Jt(n),1===t)0===e.tag?function(e){Bo=!0,zo(e)}(lc.bind(null,e)):zo(lc.bind(null,e)),so(function(){!(6&Iu)&&Ho()}),n=null;else{switch(Sn(r)){case 1:n=en;break;case 4:n=tn;break;case 16:default:n=nn;break;case 536870912:n=on}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Qu=-1,Zu=0,6&Iu)throw Error(ae(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pn(e,e===Cu?Pu:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Cu===e&&Pu===t||(zu=null,qu=Qt()+500,hc(e,t));;)try{vc();break}catch(s){fc(e,s)}Ia(),Ou.current=o,Iu=i,null!==ku?t=0:(Cu=null,Pu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=yn(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,hc(e,0),sc(e,r),rc(e,Qt()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!li(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=yc(e,r),2===t&&(o=yn(e),0!==o&&(r=o,t=oc(e,o))),1!==t)))throw n=Mu,hc(e,0),sc(e,r),rc(e,Qt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:case 5:Ec(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Qt())){if(0!==pn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=io(Ec.bind(null,e,Vu,zu),t);break}Ec(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ln(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=io(Ec.bind(null,e,Vu,zu),r);break}Ec(e,Vu,zu);break;default:throw Error(ae(329))}}}return rc(e,Qt()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&ac(t)),e}function ac(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Uu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Iu)throw Error(ae(327));Sc();var t=pn(e,0);if(!(1&t))return rc(e,Qt()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=yn(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,hc(e,0),sc(e,t),rc(e,Qt()),n;if(6===n)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vu,zu),rc(e,Qt()),null}function uc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Qt()+500,Bo&&Ho())}}function cc(e){null!==Ku&&0===Ku.tag&&!(6&Iu)&&Sc();var t=Iu;Iu|=1;var n=Au.transition,r=En;try{if(Au.transition=null,En=1,e)return e()}finally{En=r,Au.transition=n,!(6&(Iu=t))&&Ho()}}function dc(){Nu=ju.current,Ao(ju)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mo();break;case 3:Qa(),Ao(Po),Ao(ko),is();break;case 5:es(r);break;case 4:Qa();break;case 13:case 19:Ao(ts);break;case 10:Ca(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cu=e,ku=e=jc(e.current,null),Pu=Nu=t,Ru=0,Mu=null,Uu=Lu=Du=0,Vu=Fu=null,null!==ja){for(t=0;t<ja.length;t++)if(null!==(r=(n=ja[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ja=null}return e}function fc(e,t){for(;;){var n=ku;try{if(Ia(),os.current=Zs,ds){for(var r=ls.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(ss=0,cs=us=ls=null,hs=!1,fs=0,Tu.current=null,null===n||null===n.return){Ru=1,Mu=t,ku=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Pu,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=s,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=yl(a);if(null!==f){f.flags&=-257,gl(f,a,s,0,t),1&f.mode&&ml(o,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){ml(o,u,t),mc();break e}l=Error(ae(426))}else if(aa&&1&s.mode){var y=yl(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),gl(y,a,s,0,t),ya(cl(l,s));break e}}o=l=cl(l,s),4!==Ru&&(Ru=2),null===Fu?Fu=[o]:Fu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,fl(0,l,t));break e;case 1:s=l;var g=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof g.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==$u&&$u.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,pl(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,ku===n&&null!==n&&(ku=n=n.return);continue}break}}function pc(){var e=Ou.current;return Ou.current=Zs,null===e?Zs:e}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Cu||!(268435455&Du)&&!(268435455&Lu)||sc(Cu,Pu)}function yc(e,t){var n=Iu;Iu|=2;var r=pc();for(Cu===e&&Pu===t||(zu=null,hc(e,t));;)try{gc();break}catch(i){fc(e,i)}if(Ia(),Iu=n,Ou.current=r,null!==ku)throw Error(ae(261));return Cu=null,Pu=0,Ru}function gc(){for(;null!==ku;)bc(ku)}function vc(){for(;null!==ku&&!Yt();)bc(ku)}function bc(e){var t=_u(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?wc(e):ku=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Kl(n,t)))return n.flags&=32767,void(ku=n);if(null===e)return Ru=6,void(ku=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Wl(n,t,Nu)))return void(ku=n);if(null!==(t=t.sibling))return void(ku=t);ku=t=e}while(null!==t);0===Ru&&(Ru=5)}function Ec(e,t,n){var r=En,i=Au.transition;try{Au.transition=null,En=1,function(e,t,n,r){do{Sc()}while(null!==Ku);if(6&Iu)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ln(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Cu&&(ku=Cu=null,Pu=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Wu||(Wu=!0,Cc(nn,function(){return Sc(),null})),o=!!(15990&n.flags),!!(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var a=En;En=1;var s=Iu;Iu|=4,Tu.current=null,function(e,t){if(to=$n,pi(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(s=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(no={focusedElem:e,selectionRange:n},$n=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){t=Ql;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:rl(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(ae(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}p=tu,tu=!1}(e,n),yu(n,e),mi(no),$n=!!to,no=to=null,e.current=n,vu(n),Xt(),Iu=s,En=a,Au.transition=o}else e.current=n;if(Wu&&(Wu=!1,Ku=e,Ju=i),o=e.pendingLanes,0===o&&($u=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(an,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;!!(1&Ju)&&0!==e.tag&&Sc(),o=e.pendingLanes,1&o?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Ho()}(e,t,n,r)}finally{Au.transition=i,En=r}return null}function Sc(){if(null!==Ku){var e=Sn(Ju),t=Au.transition,n=En;try{if(Au.transition=null,En=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Ju=0,6&Iu)throw Error(ae(331));var i=Iu;for(Iu|=4,Ql=e.current;null!==Ql;){var o=Ql,a=o.child;if(16&Ql.flags){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(Ql=u;null!==Ql;){var c=Ql;switch(c.tag){case 0:case 11:case 15:nu(8,c,o)}var d=c.child;if(null!==d)d.return=c,Ql=d;else for(;null!==Ql;){var h=(c=Ql).sibling,f=c.return;if(ou(c),c===u){Ql=null;break}if(null!==h){h.return=f,Ql=h;break}Ql=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ql=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,Ql=a;else e:for(;null!==Ql;){if(2048&(o=Ql).flags)switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ql=g;break e}Ql=o.return}}var v=e.current;for(Ql=v;null!==Ql;){var b=(a=Ql).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,Ql=b;else e:for(a=v;null!==Ql;){if(2048&(s=Ql).flags)try{switch(s.tag){case 0:case 11:case 15:ru(9,s)}}catch(E){xc(s,s.return,E)}if(s===a){Ql=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ql=w;break e}Ql=s.return}}if(Iu=i,Ho(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(an,e)}catch(E){}r=!0}return r}finally{En=n,Au.transition=t}}return!1}function _c(e,t,n){e=Ba(e,t=fl(0,t=cl(n,t),1),1),t=ec(),null!==e&&(bn(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$u||!$u.has(r))){t=Ba(t,e=pl(t,e=cl(n,e),1),1),e=ec(),null!==t&&(bn(t,1,e),rc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Pu&n)===n&&(4===Ru||3===Ru&&(130023424&Pu)===Pu&&500>Qt()-Bu?hc(e,0):Uu|=n),rc(e,t)}function Tc(e,t){0===t&&(1&e.mode?(t=hn,!(130023424&(hn<<=1))&&(hn=4194304)):t=1);var n=ec();null!==(e=Da(e,t))&&(bn(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return Kt(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new kc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Nc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case xe:return Mc(n.children,i,o,t);case Oe:a=8,i|=8;break;case Te:return(e=Pc(12,n,t,2|i)).elementType=Te,e.lanes=o,e;case ke:return(e=Pc(13,n,t,i)).elementType=ke,e.lanes=o,e;case Pe:return(e=Pc(19,n,t,i)).elementType=Pe,e.lanes=o,e;case Re:return Dc(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ae:a=10;break e;case Ie:a=9;break e;case Ce:a=11;break e;case Ne:a=14;break e;case je:a=16,r=null;break e}throw Error(ae(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=Re,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ua(o),e}function Bc(e){if(!e)return Co;e:{if(zt(e=e._reactInternals)!==e||1!==e.tag)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ae(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Lo(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Va(r=ec(),i=tc(n))).callback=null!=t?t:null,Ba(n,o,i),e.current.lanes=i,bn(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Va(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ba(i,t,a))&&(nc(e,i,a,o),qa(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)bl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Cl(t),ma();break;case 5:Za(t);break;case 1:Ro(t.type)&&Uo(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Io(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Io(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ll(e,t,n):(Io(ts,1&ts.current),null!==(e=Hl(e,t,n))?e.sibling:null);Io(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return ql(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Io(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,xl(e,t,n)}return Hl(e,t,n)}(e,t,n);bl=!!(131072&e.flags)}else bl=!1,aa&&1048576&t.flags&&ta(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zl(e,t),e=t.pendingProps;var i=jo(t,ko.current);Pa(t,n),i=gs(null,t,r,e,i,n);var o=vs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(o=!0,Uo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ua(t),i.updater=ol,t.stateNode=i,i._reactInternals=t,ul(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,aa&&o&&na(t),wl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Nc(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ce)return 11;if(e===Ne)return 14}return 2}(r),e=rl(r,e),i){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Al(null,t,r,e,n);break e;case 11:t=El(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,rl(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 1:return r=t.type,i=t.pendingProps,Al(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 3:e:{if(Cl(t),null===e)throw Error(ae(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fa(e,t),Ha(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=kl(e,t,r,n,i=cl(Error(ae(423)),t));break e}if(r!==i){t=kl(e,t,r,n,i=cl(Error(ae(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),ia=t,aa=!0,sa=null,n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===i){t=Hl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ro(r,i)?a=null:null!==o&&ro(r,o)&&(t.flags|=32),Ol(e,t),wl(e,t,a,n),t.child;case 6:return null===e&&da(t),null;case 13:return Ll(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,El(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Io(xa,r._currentValue),r._currentValue=a,null!==o)if(li(o.value,a)){if(o.children===i.children&&!Po.current){t=Hl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Va(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(ae(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),ka(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pa(t,n),r=r(i=Na(i)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return i=rl(r=t.type,t.pendingProps),Sl(e,t,r,i=rl(r.type,i),n);case 15:return _l(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),zl(e,t),t.tag=1,Ro(r)?(e=!0,Uo(t)):e=!1,Pa(t,n),sl(t,r,i),ul(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return ql(e,t,n);case 22:return xl(e,t,n)}throw Error(ae(156,t.tag))};var Wc="function"==typeof reportError?reportError:function(e){};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[yo]=a.current,zi(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[yo]=l.current,zi(8===e.nodeType?e.parentNode:e),cc(function(){zc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ae(409));zc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){zc(null,e,null,null)}),t[yo]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&0!==t&&t<Mn[n].priority;n++);Mn.splice(n,0,e),0===n&&Fn(e)}},_n=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fn(t.pendingLanes);0!==n&&(wn(t,1|n),rc(t,Qt()),!(6&Iu)&&(qu=Qt()+500,Ho()))}break;case 13:cc(function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),$c(e,1)}},xn=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},On=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},Tn=function(){return En},An=function(e,t){var n=En;try{return En=e,t()}finally{En=n}},_t=function(e,t,n){switch(t){case"input":if(Ze(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_o(r);if(!i)throw Error(ae(90));Ke(r),Ze(r,i)}}}break;case"textarea":at(e,n);break;case"select":null!=(t=n.value)&&rt(e,!!n.multiple,t,!1)}},Ct=uc,kt=cc;var ed={usingClientEntryPoint:!1,Events:[Eo,So,_o,At,It,uc]},td={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$t(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{an=rd.inject(nd),sn=rd}catch(dt){}}ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,ee.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(ae(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},ee.createRoot=function(e,t){if(!Yc(e))throw Error(ae(299));var n=!1,r="",i=Wc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[yo]=t.current,zi(8===e.nodeType?e.parentNode:e),new Kc(t)},ee.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ae(188));throw e=Object.keys(e).join(","),Error(ae(268,e))}return e=null===(e=$t(t))?null:e.stateNode},ee.flushSync=function(e){return cc(e)},ee.hydrate=function(e,t,n){if(!Xc(t))throw Error(ae(200));return Zc(null,e,t,!0,n)},ee.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(ae(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Wc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[yo]=t.current,zi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},ee.render=function(e,t,n){if(!Xc(t))throw Error(ae(200));return Zc(null,e,t,!1,n)},ee.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(ae(40));return!!e._reactRootContainer&&(cc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0)},ee.unstable_batchedUpdates=uc,ee.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(ae(200));if(null==e||void 0===e._reactInternals)throw Error(ae(38));return Zc(e,t,n,!1,r)},ee.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Z.exports=ee;var id,od,ad=Z.exports;
/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}Q.createRoot=ad.createRoot,Q.hydrateRoot=ad.hydrateRoot,(od=id||(id={})).Pop="POP",od.Push="PUSH",od.Replace="REPLACE";const ld="popstate";function ud(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=id.Pop,l=null,u=c();null==u&&(u=0,a.replaceState(sd({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=id.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s=id.Push;let r=fd(m.location,e,t);n&&n(r,e),u=c()+1;let d=hd(r,u),h=m.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s=id.Replace;let r=fd(m.location,e,t);n&&n(r,e),u=c();let i=hd(r,u),d=m.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:pd(e);return n=n.replace(/ $/,"%20"),cd(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ld,d),l=e,()=>{i.removeEventListener(ld,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=md(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),fd("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:pd(t))},function(e,t){dd("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function cd(e,t){if(!1===e||null==e)throw new Error(t)}function dd(e,t){if(!e)try{throw new Error(t)}catch(n){}}function hd(e,t){return{usr:e.state,key:e.key,idx:t}}function fd(e,t,n,r){return void 0===n&&(n=null),sd({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?md(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function pd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function md(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var yd,gd;function vd(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?md(t):t,i=Nd(r.pathname||"/",n);if(null==i)return null;let o=bd(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=Pd(i);a=Cd(o[s],e)}return a}(e,t,n)}function bd(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(cd(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Fd([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(cd(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),bd(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Id(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of wd(e.path))i(e,t,r);else i(e,t)}),t}function wd(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=wd(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}(gd=yd||(yd={})).data="data",gd.deferred="deferred",gd.redirect="redirect",gd.error="error";const Ed=/^:[\w-]+$/,Sd=3,_d=2,xd=1,Od=10,Td=-2,Ad=e=>"*"===e;function Id(e,t){let n=e.split("/"),r=n.length;return n.some(Ad)&&(r+=Td),t&&(r+=_d),n.filter(e=>!Ad(e)).reduce((e,t)=>e+(Ed.test(t)?Sd:""===t?xd:Od),r)}function Cd(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],n=s===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=kd({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),c=e.route;if(!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Fd([o,u.pathname]),pathnameBase:Vd(Fd([o,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(o=Fd([o,u.pathnameBase]))}return a}function kd(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);dd("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function Pd(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return dd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Nd(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const jd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Rd(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:o=""}="string"==typeof e?md(e):e;if(r)if(a=r,jd.test(a))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),dd(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?Md(r.substring(1),"/"):Md(r,t)}else n=t;var a;return{pathname:n,search:Bd(i),hash:qd(o)}}function Md(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Dd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ld(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Ud(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=md(e):(i=sd({},e),cd(!i.pathname||!i.pathname.includes("?"),Dd("?","pathname","search",i)),cd(!i.pathname||!i.pathname.includes("#"),Dd("#","pathname","hash",i)),cd(!i.search||!i.search.includes("#"),Dd("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=Rd(i,o),u=s&&"/"!==s&&s.endsWith("/"),c=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Fd=e=>e.join("/").replace(/\/\/+/g,"/"),Vd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",qd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const zd=["post","put","patch","delete"];new Set(zd);const Hd=["get",...zd];
/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gd.apply(this,arguments)}new Set(Hd);const $d=B.createContext(null),Wd=B.createContext(null),Kd=B.createContext(null),Jd=B.createContext(null),Yd=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Xd=B.createContext(null);function Qd(){return null!=B.useContext(Jd)}function Zd(){return Qd()||cd(!1),B.useContext(Jd).location}function eh(e){B.useContext(Kd).static||B.useLayoutEffect(e)}function th(){let{isDataRoute:e}=B.useContext(Yd);return e?function(){let{router:e}=function(){let e=B.useContext($d);return e||cd(!1),e}(lh.UseNavigateStable),t=ch(uh.UseNavigateStable),n=B.useRef(!1);return eh(()=>{n.current=!0}),B.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Gd({fromRouteId:t},i)))},[e,t])}():function(){Qd()||cd(!1);let e=B.useContext($d),{basename:t,future:n,navigator:r}=B.useContext(Kd),{matches:i}=B.useContext(Yd),{pathname:o}=Zd(),a=JSON.stringify(Ld(i,n.v7_relativeSplatPath)),s=B.useRef(!1);return eh(()=>{s.current=!0}),B.useCallback(function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void r.go(n);let l=Ud(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Fd([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,o,e])}()}function nh(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=B.useContext(Kd),{matches:i}=B.useContext(Yd),{pathname:o}=Zd(),a=JSON.stringify(Ld(i,r.v7_relativeSplatPath));return B.useMemo(()=>Ud(e,JSON.parse(a),o,"path"===n),[e,a,o,n])}function rh(e,t){return function(e,t,n,r){Qd()||cd(!1);let{navigator:i}=B.useContext(Kd),{matches:o}=B.useContext(Yd),a=o[o.length-1],s=a?a.params:{};!a||a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u,c=Zd();if(t){var d;let e="string"==typeof t?md(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||cd(!1),u=e}else u=c;let h=u.pathname||"/",f=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=vd(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));e>=0||cd(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let e=a[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let o,c=!1,d=null,h=null;var f;n&&(o=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||oh,l&&(u<0&&0===i?(dh[f="route-fallback"]||(dh[f]=!0),c=!0,h=null):u===i&&(c=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=o?d:c?h:r.route.Component?B.createElement(r.route.Component,null):r.route.element?r.route.element:e,B.createElement(sh,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?B.createElement(ah,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Fd([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Fd([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);if(t&&m)return B.createElement(Jd.Provider,{value:{location:Gd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:id.Pop}},m);return m}(e,t)}function ih(){let e=function(){var e;let t=B.useContext(Xd),n=function(){let e=B.useContext(Wd);return e||cd(!1),e}(),r=ch();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:r},n):null,null)}const oh=B.createElement(ih,null);class ah extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?B.createElement(Yd.Provider,{value:this.props.routeContext},B.createElement(Xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sh(e){let{routeContext:t,match:n,children:r}=e,i=B.useContext($d);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Yd.Provider,{value:t},r)}var lh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lh||{}),uh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uh||{});function ch(e){let t=function(){let e=B.useContext(Yd);return e||cd(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||cd(!1),n.route.id}const dh={};function hh(e){let{to:t,replace:n,state:r,relative:i}=e;Qd()||cd(!1);let{future:o,static:a}=B.useContext(Kd),{matches:s}=B.useContext(Yd),{pathname:l}=Zd(),u=th(),c=Ud(t,Ld(s,o.v7_relativeSplatPath),l,"path"===i),d=JSON.stringify(c);return B.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function fh(e){cd(!1)}function ph(e){let{basename:t="/",children:n=null,location:r,navigationType:i=id.Pop,navigator:o,static:a=!1,future:s}=e;Qd()&&cd(!1);let l=t.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:o,static:a,future:Gd({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);"string"==typeof r&&(r=md(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=B.useMemo(()=>{let e=Nd(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return null==m?null:B.createElement(Kd.Provider,{value:u},B.createElement(Jd.Provider,{children:n,value:m}))}function mh(e){let{children:t,location:n}=e;return rh(yh(t),n)}function yh(e,t){void 0===t&&(t=[]);let n=[];return B.Children.forEach(e,(e,r)=>{if(!B.isValidElement(e))return;let i=[...t,r];if(e.type===B.Fragment)return void n.push.apply(n,yh(e.props.children,i));e.type!==fh&&cd(!1),e.props.index&&e.props.children&&cd(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=yh(e.props.children,i)),n.push(o)}),n}
/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(this,arguments)}new Promise(()=>{});const vh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch($8){}const bh=z.startTransition;function wh(e){let{basename:t,children:n,future:r,window:i}=e,o=B.useRef();null==o.current&&(o.current=ud({window:i,v5Compat:!0}));let a=o.current,[s,l]=B.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=B.useCallback(e=>{u&&bh?bh(()=>l(e)):l(e)},[l,u]);return B.useLayoutEffect(()=>a.listen(c),[a,c]),B.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[r]),B.createElement(ph,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const Eh="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Sh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=B.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vh),{basename:f}=B.useContext(Kd),p=!1;if("string"==typeof u&&Sh.test(u)&&(n=u,Eh))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Nd(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch($8){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Qd()||cd(!1);let{basename:r,navigator:i}=B.useContext(Kd),{hash:o,pathname:a,search:s}=nh(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Fd([r,a])),i.createHref({pathname:l,search:s,hash:o})}(u,{relative:i}),y=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=void 0===t?{}:t,l=th(),u=Zd(),c=nh(e,{relative:a});return B.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:pd(u)===pd(c);l(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});return B.createElement("a",gh({},h,{href:n||m,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:l}))});var xh,Oh,Th,Ah;(Oh=xh||(xh={})).UseScrollRestoration="useScrollRestoration",Oh.UseSubmit="useSubmit",Oh.UseSubmitFetcher="useSubmitFetcher",Oh.UseFetcher="useFetcher",Oh.useViewTransitionState="useViewTransitionState",(Ah=Th||(Th={})).UseFetcher="useFetcher",Ah.UseFetchers="useFetchers",Ah.UseScrollRestoration="useScrollRestoration";var Ih={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ch(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ph;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ph extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nh=function(e){return function(e){const t=Ch(e);return kh.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jh=function(e){try{return kh.decodeString(e,!0)}catch($8){}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Rh=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Mh=()=>{try{return Rh()||(()=>{if("undefined"==typeof process)return;const e=Ih.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($8){return}const t=e&&jh(e[1]);return t&&JSON.parse(t)})()}catch($8){return}},Dh=e=>{var t,n;return null===(n=null===(t=Mh())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Lh=()=>{var e;return null===(e=Mh())||void 0===e?void 0:e.config},Uh=e=>{var t;return null===(t=Mh())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Vh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bh(){return!function(){var e;const t=null===(e=Mh())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($8){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class qh extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zh.prototype.create)}}class zh{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Hh,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qh(r,a,n)}}const Hh=/\{\$([^}]+)}/g;function Gh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if($h(n)&&$h(o)){if(!Gh(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $h(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Kh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Jh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Yh{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xh),void 0===r.error&&(r.error=Xh),void 0===r.complete&&(r.complete=Xh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($8){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($8){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xh(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e){return e&&e._delegate?e._delegate:e}class Zh{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Fh;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($8){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($8){if(r)return null;throw $8}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:ef})}catch($8){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($8){}}}}clearInstance(e=ef){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ef){return this.instances.has(e)}getOptions(e=ef){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ef?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=ef){return this.component?this.component.multipleInstances?e:ef:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nf{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf,of;(of=rf||(rf={}))[of.DEBUG=0]="DEBUG",of[of.VERBOSE=1]="VERBOSE",of[of.INFO=2]="INFO",of[of.WARN=3]="WARN",of[of.ERROR=4]="ERROR",of[of.SILENT=5]="SILENT";const af={debug:rf.DEBUG,verbose:rf.VERBOSE,info:rf.INFO,warn:rf.WARN,error:rf.ERROR,silent:rf.SILENT},sf=rf.INFO,lf={[rf.DEBUG]:"log",[rf.VERBOSE]:"log",[rf.INFO]:"info",[rf.WARN]:"warn",[rf.ERROR]:"error"},uf=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!lf[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cf{constructor(e){this.name=e,this._logLevel=sf,this._logHandler=uf,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rf))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?af[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rf.DEBUG,...e),this._logHandler(this,rf.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rf.VERBOSE,...e),this._logHandler(this,rf.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rf.INFO,...e),this._logHandler(this,rf.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rf.WARN,...e),this._logHandler(this,rf.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rf.ERROR,...e),this._logHandler(this,rf.ERROR,...e)}}let df,hf;const ff=new WeakMap,pf=new WeakMap,mf=new WeakMap,yf=new WeakMap,gf=new WeakMap;let vf={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ef(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function bf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hf||(hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Sf(this),t),Ef(ff.get(this))}:function(...t){return Ef(e.apply(Sf(this),t))}:function(t,...n){const r=e.call(Sf(this),t,...n);return mf.set(r,t.sort?t.sort():[t]),Ef(r)}}function wf(e){return"function"==typeof e?bf(e):(e instanceof IDBTransaction&&function(e){if(pf.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});pf.set(e,t)}(e),t=e,(df||(df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,vf):e);var t}function Ef(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ef(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ff.set(t,e)}).catch(()=>{}),gf.set(t,e),t}(e);if(yf.has(e))return yf.get(e);const t=wf(e);return t!==e&&(yf.set(e,t),gf.set(t,e)),t}const Sf=e=>gf.get(e);const _f=["get","getKey","getAll","getAllKeys","count"],xf=["put","add","delete","clear"],Of=new Map;function Tf(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Of.get(t))return Of.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=xf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_f.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return Of.set(t,o),o}vf=(e=>({...e,get:(t,n,r)=>Tf(t,n)||e.get(t,n,r),has:(t,n)=>!!Tf(t,n)||e.has(t,n)}))(vf);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Af{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const If="@firebase/app",Cf="0.10.13",kf=new cf("@firebase/app"),Pf="@firebase/app-compat",Nf="@firebase/analytics-compat",jf="@firebase/analytics",Rf="@firebase/app-check-compat",Mf="@firebase/app-check",Df="@firebase/auth",Lf="@firebase/auth-compat",Uf="@firebase/database",Ff="@firebase/data-connect",Vf="@firebase/database-compat",Bf="@firebase/functions",qf="@firebase/functions-compat",zf="@firebase/installations",Hf="@firebase/installations-compat",Gf="@firebase/messaging",$f="@firebase/messaging-compat",Wf="@firebase/performance",Kf="@firebase/performance-compat",Jf="@firebase/remote-config",Yf="@firebase/remote-config-compat",Xf="@firebase/storage",Qf="@firebase/storage-compat",Zf="@firebase/firestore",ep="@firebase/vertexai-preview",tp="@firebase/firestore-compat",np="firebase",rp="[DEFAULT]",ip={[If]:"fire-core",[Pf]:"fire-core-compat",[jf]:"fire-analytics",[Nf]:"fire-analytics-compat",[Mf]:"fire-app-check",[Rf]:"fire-app-check-compat",[Df]:"fire-auth",[Lf]:"fire-auth-compat",[Uf]:"fire-rtdb",[Ff]:"fire-data-connect",[Vf]:"fire-rtdb-compat",[Bf]:"fire-fn",[qf]:"fire-fn-compat",[zf]:"fire-iid",[Hf]:"fire-iid-compat",[Gf]:"fire-fcm",[$f]:"fire-fcm-compat",[Wf]:"fire-perf",[Kf]:"fire-perf-compat",[Jf]:"fire-rc",[Yf]:"fire-rc-compat",[Xf]:"fire-gcs",[Qf]:"fire-gcs-compat",[Zf]:"fire-fst",[tp]:"fire-fst-compat",[ep]:"fire-vertex","fire-js":"fire-js",[np]:"fire-js-all"},op=new Map,ap=new Map,sp=new Map;function lp(e,t){try{e.container.addComponent(t)}catch($8){kf.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,$8)}}function up(e){const t=e.name;if(sp.has(t))return kf.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,e);for(const n of op.values())lp(n,e);for(const n of ap.values())lp(n,e);return!0}function cp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dp(e){return void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new zh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fp{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hp.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="10.14.1";function mp(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:rp,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw hp.create("bad-app-name",{appName:String(i)});if(n||(n=Lh()),!n)throw hp.create("no-options");const o=op.get(i);if(o){if(Gh(n,o.options)&&Gh(r,o.config))return o;throw hp.create("duplicate-app",{appName:i})}const a=new nf(i);for(const l of sp.values())a.addComponent(l);const s=new fp(n,r,a);return op.set(i,s),s}function yp(e=rp){const t=op.get(e);if(!t&&e===rp&&Lh())return mp();if(!t)throw hp.create("no-app",{appName:e});return t}function gp(e,t,n){var r;let i=null!==(r=ip[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void kf.warn(e.join(" "))}up(new Zh(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="firebase-heartbeat-store";let bp=null;function wp(){return bp||(bp=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Ef(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ef(a.result),e.oldVersion,e.newVersion,Ef(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vp)}catch($8){}}}).catch(e=>{throw hp.create("idb-open",{originalErrorMessage:e.message})})),bp}async function Ep(e,t){try{const n=(await wp()).transaction(vp,"readwrite"),r=n.objectStore(vp);await r.put(t,Sp(e)),await n.done}catch($8){if($8 instanceof qh)kf.warn($8.message);else{const t=hp.create("idb-set",{originalErrorMessage:null==$8?void 0:$8.message});kf.warn(t.message)}}}function Sp(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Op(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xp();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch($8){kf.warn($8)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xp(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Tp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch($8){return kf.warn($8),""}}}function xp(){return(new Date).toISOString().substring(0,10)}class Op{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch($8){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wp()).transaction(vp),n=await t.objectStore(vp).get(Sp(e));return await t.done,n}catch($8){if($8 instanceof qh)kf.warn($8.message);else{const t=hp.create("idb-get",{originalErrorMessage:null==$8?void 0:$8.message});kf.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ep(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ep(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tp(e){return Nh(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ap;function Ip(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Cp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Ap="",up(new Zh("platform-logger",e=>new Af(e),"PRIVATE")),up(new Zh("heartbeat",e=>new _p(e),"PRIVATE")),gp(If,Cf,Ap),gp(If,Cf,"esm2017"),gp("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const kp=Cp,Pp=new zh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Np=new cf("@firebase/auth");function jp(e,...t){Np.logLevel<=rf.ERROR&&Np.error(`Auth (${pp}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(e,...t){throw Up(e,...t)}function Mp(e,...t){return Up(e,...t)}function Dp(e,t,n){const r=Object.assign(Object.assign({},kp()),{[t]:n});return new zh("auth","Firebase",r).create(t,{appName:e.name})}function Lp(e){return Dp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Pp.create(e,...t)}function Fp(e,t,...n){if(!e)throw Up(t,...n)}function Vp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jp(t),new Error(t)}function Bp(e,t){e||Vp(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zp(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==zp()&&"https:"!==zp()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vh())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Hp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(e,t){Bp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Vp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Vp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Vp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jp=new Gp(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xp(e,t,n,r,i={}){return Qp(e,i,async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Wh(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Wp.fetch()(em(e,e.config.apiHost,n,a),l)})}async function Qp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Kp),t);try{const t=new nm(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rm(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rm(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw rm(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw rm(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Dp(e,s,a);Rp(e,s)}}catch($8){if($8 instanceof qh)throw $8;Rp(e,"network-request-failed",{message:String($8)})}}async function Zp(e,t,n,r,i={}){const o=await Xp(e,t,n,r,i);return"mfaPendingCredential"in o&&Rp(e,"multi-factor-auth-required",{_serverResponse:o}),o}function em(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$p(e.config,i):`${e.config.apiScheme}://${i}`}function tm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mp(this.auth,"network-request-failed")),Jp.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mp(e,t,r);return i.customData._tokenResponse=n,i}function im(e){return void 0!==e&&void 0!==e.enterprise}class om{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function am(e,t){return Xp(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($8){}}function lm(e){return 1e3*Number(e)}function um(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const e=jh(n);return e?JSON.parse(e):(jp("Failed to decode base64 JWT payload"),null)}catch($8){return jp("Caught error parsing JWT payload as JSON",null==$8?void 0:$8.toString()),null}}function cm(e){const t=um(e);return Fp(t,"internal-error"),Fp(void 0!==t.exp,"internal-error"),Fp(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(e,t,n=!1){if(n)return t;try{return await t}catch($8){throw $8 instanceof qh&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */($8)&&e.auth.currentUser===e&&await e.auth.signOut(),$8}}class hm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch($8){return void("auth/network-request-failed"===(null==$8?void 0:$8.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sm(this.lastLoginAt),this.creationTime=sm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await dm(e,am(n,{idToken:r}));Fp(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?mm(o.providerUserInfo):[],s=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!c&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function mm(e){return e.map(e=>{var{providerId:t}=e,n=Ip(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ym{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fp(e.idToken,"internal-error"),Fp(void 0!==e.idToken,"internal-error"),Fp(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):cm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fp(0!==e.length,"internal-error");const t=cm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Fp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Qp(e,{},async()=>{const n=Wh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=em(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wp.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ym;return n&&(Fp("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Fp("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Fp("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ym,this.toJSON())}_performRefresh(){return Vp("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e,t){Fp("string"==typeof e||void 0===e,"internal-error",{appName:t})}class vm{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dm(this,this.stsTokenManager.getToken(this.auth,e));return Fp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Qh(e),r=await n.getIdToken(t),i=um(r);Fp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sm(lm(i.auth_time)),issuedAtTime:sm(lm(i.iat)),expirationTime:sm(lm(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Qh(e);await pm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Fp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vm(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dp(this.auth.app))return Promise.reject(Lp(this.auth));const e=await this.getIdToken();return await dm(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Xp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;Fp(v&&S,e,"internal-error");const _=ym.fromJSON(this.name,S);Fp("string"==typeof v,e,"internal-error"),gm(c,e.name),gm(d,e.name),Fp("boolean"==typeof b,e,"internal-error"),Fp("boolean"==typeof w,e,"internal-error"),gm(h,e.name),gm(f,e.name),gm(p,e.name),gm(m,e.name),gm(y,e.name),gm(g,e.name);const x=new vm({uid:v,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:g});return E&&Array.isArray(E)&&(x.providerData=E.map(e=>Object.assign({},e))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t,n=!1){const r=new ym;r.updateFromServerResponse(t);const i=new vm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await pm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Fp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?mm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new ym;a.updateFromIdToken(n);const s=new vm({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new fm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map;function wm(e){Bp(e instanceof Function,"Expected a class definition");let t=bm.get(e);return t?(Bp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bm.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Em.type="NONE";const Sm=Em;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e,t,n){return`firebase:${e}:${t}:${n}`}class xm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_m(this.userKey,r.apiKey,i),this.fullPersistenceKey=_m("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new xm(wm(Sm),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||wm(Sm);const o=_m(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(o);if(t){const n=vm._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new xm(i,e,n)):new xm(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pm(t))return"Blackberry";if(Nm(t))return"Webos";if(Am(t))return"Safari";if((t.includes("chrome/")||Im(t))&&!t.includes("edge/"))return"Chrome";if(km(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Tm(e=Vh()){return/firefox\//i.test(e)}function Am(e=Vh()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Im(e=Vh()){return/crios\//i.test(e)}function Cm(e=Vh()){return/iemobile/i.test(e)}function km(e=Vh()){return/android/i.test(e)}function Pm(e=Vh()){return/blackberry/i.test(e)}function Nm(e=Vh()){return/webos/i.test(e)}function jm(e=Vh()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rm(){return function(){const e=Vh();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Mm(e=Vh()){return jm(e)||km(e)||Nm(e)||Pm(e)||/windows phone/i.test(e)||Cm(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e,t=[]){let n;switch(e){case"Browser":n=Om(Vh());break;case"Worker":n=`${Om(Vh())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${pp}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch($8){r($8)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($8){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==$8?void 0:$8.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bm(this),this.idTokenSubscription=new Bm(this),this.beforeStateQueue=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wm(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xm.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($8){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await am(this,{idToken:e}),n=await vm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dp(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($8){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject($8))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($8){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch($8){if("auth/network-request-failed"!==(null==$8?void 0:$8.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dp(this.app))return Promise.reject(Lp(this));const t=e?Qh(e):null;return t&&Fp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dp(this.app)?Promise.reject(Lp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dp(this.app)?Promise.reject(Lp(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wm(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Xp(e,"GET","/v2/passwordPolicy",Yp(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new Um(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zh("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Xp(e,"POST","/v2/accounts:revokeToken",Yp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wm(e)||this._popupRedirectResolver;Fp(t,this,"argument-error"),this.redirectPersistenceManager=await xm.create(this,[wm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fp(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Np.logLevel<=rf.WARN&&Np.warn(`Auth (${pp}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Vm(e){return Qh(e)}class Bm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Yh(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Fp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zm(e){return qm.loadJS(e)}class Hm{constructor(e){this.type="recaptcha-enterprise",this.auth=Vm(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Xp(e,"GET","/v2/recaptchaConfig",Yp(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new om(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;im(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&im(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=qm.recaptchaEnterpriseScript;0!==t.length&&(t+=n),zm(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Gm(e,t,n,r=!1){const i=new Hm(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $m(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Gm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){const i=await Gm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e,t,n){const r=Vm(e);Fp(r._canInitEmulator,r,"emulator-config-failed"),Fp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=Km(t),{host:o,port:a}=function(e){const t=Km(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Jm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Jm(t)}}}(t),s=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${o}${s}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Km(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ym{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vp("not implemented")}_getIdTokenResponse(e){return Vp("not implemented")}_linkToIdToken(e,t){return Vp("not implemented")}_getReauthenticationResolver(e){return Vp("not implemented")}}async function Xm(e,t){return Xp(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(e,t){return Zp(e,"POST","/v1/accounts:signInWithPassword",Yp(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zm extends Ym{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zm(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Zm(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $m(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qm);case"emailLink":return async function(e,t){return Zp(e,"POST","/v1/accounts:signInWithEmailLink",Yp(e,t))}(e,{email:this._email,oobCode:this._password});default:Rp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $m(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xm);case"emailLink":return async function(e,t){return Zp(e,"POST","/v1/accounts:signInWithEmailLink",Yp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Rp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(e,t){return Zp(e,"POST","/v1/accounts:signInWithIdp",Yp(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ty(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ip(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ty(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ey(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ey(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ey(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wh(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){var t,n,r,i,o,a;const s=Kh(Jh(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Fp(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Kh(Jh(e)).link,n=t?Kh(Jh(t)).deep_link_id:null,r=Kh(Jh(e)).deep_link_id;return(r?Kh(Jh(r)).link:null)||r||n||t||e}(e);try{return new ny(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.providerId=ry.PROVIDER_ID}static credential(e,t){return Zm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ny.parseLink(t);return Fp(n,"argument-error"),Zm._fromEmailAndCode(e,n.code,n.tenantId)}}ry.PROVIDER_ID="password",ry.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ry.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class iy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends iy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends oy{constructor(){super("facebook.com")}static credential(e){return ty._fromParams({providerId:ay.PROVIDER_ID,signInMethod:ay.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ay.credentialFromTaggedObject(e)}static credentialFromError(e){return ay.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ay.credential(e.oauthAccessToken)}catch(t){return null}}}ay.FACEBOOK_SIGN_IN_METHOD="facebook.com",ay.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class sy extends oy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ty._fromParams({providerId:sy.PROVIDER_ID,signInMethod:sy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sy.credentialFromTaggedObject(e)}static credentialFromError(e){return sy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return sy.credential(t,n)}catch(r){return null}}}sy.GOOGLE_SIGN_IN_METHOD="google.com",sy.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ly extends oy{constructor(){super("github.com")}static credential(e){return ty._fromParams({providerId:ly.PROVIDER_ID,signInMethod:ly.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ly.credentialFromTaggedObject(e)}static credentialFromError(e){return ly.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ly.credential(e.oauthAccessToken)}catch(t){return null}}}ly.GITHUB_SIGN_IN_METHOD="github.com",ly.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uy extends oy{constructor(){super("twitter.com")}static credential(e,t){return ty._fromParams({providerId:uy.PROVIDER_ID,signInMethod:uy.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uy.credentialFromTaggedObject(e)}static credentialFromError(e){return uy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return uy.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function cy(e,t){return Zp(e,"POST","/v1/accounts:signUp",Yp(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uy.TWITTER_SIGN_IN_METHOD="twitter.com",uy.PROVIDER_ID="twitter.com";class dy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await vm._fromIdTokenResponse(e,n,r),o=hy(n);return new dy({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=hy(n);return new dy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function hy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends qh{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fy.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fy(e,t,n,r)}}function py(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw fy._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function my(e,t,n=!1){if(dp(e.app))return Promise.reject(Lp(e));const r="signIn",i=await py(e,r,t),o=await dy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function yy(e){const t=Vm(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function gy(e,t,n){return dp(e.app)?Promise.reject(Lp(e)):async function(e,t){return my(Vm(e),t)}(Qh(e),ry.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&yy(e),t})}const vy="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vy,"1"),this.storage.removeItem(vy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends by{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Rm()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wy.type="LOCAL";const Ey=wy;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends by{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sy.type="SESSION";const _y=Sy;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new xy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xy.receivers=[];class Ty{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Oy("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Iy(){return void 0!==Ay().WorkerGlobalScope&&"function"==typeof Ay().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Cy="firebaseLocalStorageDb",ky="firebaseLocalStorage",Py="fbase_key";class Ny{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jy(e,t){return e.transaction([ky],t?"readwrite":"readonly").objectStore(ky)}function Ry(){const e=indexedDB.open(Cy,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ky,{keyPath:Py})}catch($8){n($8)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ky)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cy);return new Ny(e).toPromise()}(),t(await Ry()))})})}async function My(e,t,n){const r=jy(e,!0).put({[Py]:t,value:n});return new Ny(r).toPromise()}function Dy(e,t){const n=jy(e,!0).delete(t);return new Ny(n).toPromise()}class Ly{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ry()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($8){if(t++>3)throw $8;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xy._getInstance(Iy()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ty(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await My(e,vy,"1"),await Dy(e,vy),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>My(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=jy(e,!1).get(t),r=await new Ny(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=jy(e,!1).getAll();return new Ny(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ly.type="LOCAL";const Uy=Ly;new Gp(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fy extends Ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ey(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ey(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ey(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vy(e){return my(e.auth,new Fy(e),e.bypassAuthState)}function By(e){const{auth:t,user:n}=e;return Fp(n,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,n=!1){const{auth:r}=e;if(dp(r.app))return Promise.reject(Lp(r));const i="reauthenticate";try{const o=await dm(e,py(r,i,t,e),n);Fp(o.idToken,r,"internal-error");const a=um(o.idToken);Fp(a,r,"internal-error");const{sub:s}=a;return Fp(e.uid===s,r,"user-mismatch"),dy._forOperation(e,i,o)}catch($8){throw"auth/user-not-found"===(null==$8?void 0:$8.code)&&Rp(r,"user-mismatch"),$8}}(n,new Fy(e),e.bypassAuthState)}async function qy(e){const{auth:t,user:n}=e;return Fp(n,t,"internal-error"),async function(e,t,n=!1){const r=await dm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dy._forOperation(e,"link",r)}(n,new Fy(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($8){this.reject($8)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch($8){this.reject($8)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vy;case"linkViaPopup":case"linkViaRedirect":return qy;case"reauthViaPopup":case"reauthViaRedirect":return By;default:Rp(this.auth,"internal-error")}}resolve(e){Bp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Gp(2e3,1e4);class Gy extends zy{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Gy.currentPopupAction&&Gy.currentPopupAction.cancel(),Gy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fp(e,this.auth,"internal-error"),e}async onExecution(){Bp(1===this.filter.length,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mp(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mp(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Hy.get())};e()}}Gy.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $y="pendingRedirect",Wy=new Map;class Ky extends zy{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wy.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return _m($y,e.config.apiKey,e.name)}(t),r=function(e){return wm(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch($8){e=()=>Promise.reject($8)}Wy.set(this.auth._key(),e)}return this.bypassAuthState||Wy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Jy(e,t){Wy.set(e._key(),t)}async function Yy(e,t,n=!1){if(dp(e.app))return Promise.reject(Lp(e));const r=Vm(e),i=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?wm(t):(Fp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Ky(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zy(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zy(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qy(e))}saveEventToCache(e){this.cachedEventUids.add(Qy(e)),this.lastProcessedEventTime=Date.now()}}function Qy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zy({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const eg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tg=/^https?/;async function ng(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Xp(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(rg(r))return}catch(n){}Rp(e,"unauthorized-domain")}function rg(e){const t=qp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tg.test(n))return!1;if(eg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new Gp(3e4,6e4);function og(){const e=Ay().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ag(e){return new Promise((t,n)=>{var r,i,o;function a(){og(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{og(),n(Mp(e,"network-request-failed"))},timeout:ig.get()})}if(null===(i=null===(r=Ay().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ay().gapi)||void 0===o?void 0:o.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Ay()[t]=()=>{gapi.load?a():n(Mp(e,"network-request-failed"))},zm(`${qm.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw sg=null,e})}let sg=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const lg=new Gp(5e3,15e3),ug={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dg(e){const t=e.config;Fp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$p(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:pp},i=cg.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wh(r).slice(1)}`}async function hg(e){const t=await function(e){return sg=sg||ag(e),sg}(e),n=Ay().gapi;return Fp(n,e,"internal-error"),t.open({where:document.body,url:dg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ug,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Mp(e,"network-request-failed"),o=Ay().setTimeout(()=>{r(i)},lg.get());function a(){Ay().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($8){}}}function mg(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},fg),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Vh().toLowerCase();n&&(s=Im(u)?"_blank":n),Tm(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Vh()){var t;return jm(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new pg(null);const d=window.open(t||"",s,c);Fp(d,e,"popup-blocked");try{d.focus()}catch($8){}return new pg(d)}const yg="__/auth/handler",gg="emulator/auth/handler",vg=encodeURIComponent("fac");async function bg(e,t,n,r,i,o){Fp(e.config.authDomain,e,"auth-domain-config-required"),Fp(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pp,eventId:i};if(t instanceof iy){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof oy){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))void 0===s[c]&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${vg}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${yg}`;return $p(e,gg)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Wh(s).slice(1)}${u}`}const wg="webStorageSupport";const Eg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_y,this._completeRedirectFn=Yy,this._overrideRedirectResult=Jy}async _openPopup(e,t,n,r){var i;Bp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return mg(e,await bg(e,t,n,qp(),r),Oy())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ay().location.href=e}(await bg(e,t,n,qp(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await hg(e),n=new Xy(e);return t.register("authEvent",t=>{Fp(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wg,{type:wg},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[wg];void 0!==i&&t(!!i),Rp(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ng(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mm()||Am()||jm()}};var Sg="@firebase/auth",_g="1.7.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Og=Uh("authIdTokenMaxAge")||300;let Tg=null;var Ag;qm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ag="Browser",up(new Zh("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Fp(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:Ag,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dm(Ag)},l=new Fm(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wm);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),up(new Zh("auth-internal",e=>{const t=Vm(e.getProvider("auth").getImmediate());return new xg(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gp(Sg,_g,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ag)),gp(Sg,_g,"esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gp("firebase","10.14.1","app");var Ig,Cg,kg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(s,s);if(d(e))return t=y(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=y(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=g(n),r=g(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);0>=u.l(e)&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(o=a(n)).j(t);d(u)||0<u.l(e);)u=(o=a(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new m(i,e)}function g(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,y=65535&e.i(o);n[2*i+2*o]+=f*y,p(n,2*i+2*o),n[2*i+2*o+1]+=l*y,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Cg=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},Ig=r}).apply(void 0!==kg?kg:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Pg,Ng,jg,Rg,Mg,Dg,Lg,Ug,Fg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fg&&Fg];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return y[" "](e),e}y[" "]=function(){};var g=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function x(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var O=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,I=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=O.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const e=i.Promise.resolve(void 0);A=()=>{e.then(P)}};var P=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){_(n)}var t=O;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function N(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g){e:{try{y(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,j);var D={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function $(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)$(e,t[o],n,r,i);return null}return n=Z(n),e&&e[L]?e.K(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=X(e);if(l||(e[H]=l=new B(e)),n=l.add(t,n,r,s,o),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&K(n))}function K(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function J(e){return e in G?G[e]:G[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function X(e){return(e=e[H])instanceof B?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function ee(){N.call(this),this.i=new B(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;E(t=new j(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ne(a=t.g=n[o],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&q(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,N),ee.prototype[L]=!0,ee.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){N.call(this),this.h=e,this.g={}}d(ae,N);var se=[];function le(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=i.JSON.stringify,ce=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function ge(){j.call(this,"c")}d(ye,j),d(ge,j);var ve={},be=null;function we(){return be=be||new ee}function Ee(e){j.call(this,ve.La,e)}function Se(e){const t=we();te(t,new Ee(t))}function _e(e,t){j.call(this,ve.STAT_EVENT,e),this.stat=t}function xe(e){const t=we();te(t,new _e(t,e))}function Oe(e,t){j.call(this,ve.Ma,e),this.size=t}function Te(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ae(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ue(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}ve.La="serverreachability",d(Ee,j),ve.STAT_EVENT="statevent",d(_e,j),ve.Ma="timingevent",d(Oe,j),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ce,ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ne(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(Ne,he),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Ce=new Ne;var Me={},De={};function Le(e,t,n){e.L=1,e.v=ut(it(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Be(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(se[0]=i.toString()),i=se);for(var o=0;o<i.length;o++){var a=$(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");a=2<=d.length&&"type"==d[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Fe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(u(e.ba,e),t)}function ze(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){ze(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Kt(n)}tn(n),xe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(u(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qe(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(ze(s),Be(s)),r.g=a}else en(r);0<n.i.length&&Yt(n)}else"stop"!=u[0]&&"close"!=u[0]||ln(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ln(n,7):Wt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==zt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=zt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Se(),ze(this);var n=this.g.Z();this.X=n;t:if(Fe(this)){var r=Ht(this.g);e="";var o=r.length,a=4==zt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ge(this),He(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,xe(12),Ge(this),He(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==De){4==h&&(this.s=4,xe(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,xe(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),$e(this,e)}if(Fe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),nn(d),d.M=!0,xe(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),He(this)}else Ie(this.i,this.l,s,null),$e(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=zt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ge(this),He(this)}}}catch(h){}},je.prototype.cancel=function(){this.J=!0,Ge(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),xe(17)),Ge(this),this.s=2,He(this)):qe(this,this.S-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ke.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),st(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ct(t[2]||""),this.g=ct(t[3]||"",!0),at(this,t[4]),this.l=ct(t[5]||"",!0),st(this,t[6]||"",!0),this.m=ct(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function it(e){return new rt(e)}function ot(e,t,n){e.j=n?ct(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function st(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ht(t,gt)),e.i=new bt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ut(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ct(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ht(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ht(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ht(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ht(n,"/"==n.charAt(0)?yt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ht(n,vt)),e.join("")};var pt=/[#\/\?@]/g,mt=/[#\?:]/g,yt=/[#\?]/g,gt=/[#\?@]/g,vt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){wt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=xt(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Tt(){this.g=new de}function At(e,t,n){const r=n||"";try{tt(e,function(e,n){let i=e;a(e)&&(i=ue(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch($8){throw t.push(r+"type="+encodeURIComponent("_badmap")),$8}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function kt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Mt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"==typeof e)St(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,he),It.prototype.g=function(){return new Ct(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),d(Ct,ee),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Nt(this),3==this.readyState&&kt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ee);var Dt=/^https?$/i,Lt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),Bt(e)}function Ft(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Vt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=zt(e)||2!=e.Z()))if(e.u&&4==zt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==zt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Dt.test(a?a.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var s=2<zt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ft(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch($8){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function zt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Jt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Qt(e,n),(t=new je(e,e.j,t)).L=2,t.v=ut(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}un(e)}function Kt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Jt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||k(),I||(A(),I=!0),C.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Qt(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Qe(e.h,n),Le(n,r,t)}function Qt(e,t){e.H&&v(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{At(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||k(),I||(A(),I=!0),C.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(u(e.Fa,e),sn(e,e.v)),e.v++,!0)}function nn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Qt(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ut(it(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),nn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Oe(r,n)),Yt(e)}else en(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Te(u(e.Ga,e,t),sn(e,e.B)),e.B++,0)))}(e,t)||2==r&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function sn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ut(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=c(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),un(e),Jt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new rt(null);r&&ot(a,r),t&&(a.g=t),o&&at(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Qt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function hn(){}function fn(){}function pn(e,t){ee.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function mn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){ge.call(this),this.status=1}function gn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?fe(this.o):fe(Ce),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Lt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch(dt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(dt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ce(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),E(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Qt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(jt(o)))+"&"+t:this.m&&Rt(n,this.m,o)),Qe(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Le(i,n,null)):Le(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Je(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Kt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),tn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ee),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Wt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.G&&Yt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,pn.aa.N.call(this)},d(mn,ye),d(yn,ge),d(gn,hn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new mn(e))},gn.prototype.sa=function(e){te(this.g,new yn)},gn.prototype.ra=function(){te(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Ug=function(){return new fn},Lg=function(){return we()},Dg=ve,Mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Rg=ke,Pe.COMPLETE="complete",jg=Pe,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Ng=pe,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Pg=Mt}).apply(void 0!==Fg?Fg:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Vg="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bg.UNAUTHENTICATED=new Bg(null),Bg.GOOGLE_CREDENTIALS=new Bg("google-credentials-uid"),Bg.FIRST_PARTY=new Bg("first-party-uid"),Bg.MOCK_USER=new Bg("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let qg="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new cf("@firebase/firestore");function Hg(){return zg.logLevel}function Gg(e,...t){if(zg.logLevel<=rf.DEBUG){const n=t.map(Kg);zg.debug(`Firestore (${qg}): ${e}`,...n)}}function $g(e,...t){if(zg.logLevel<=rf.ERROR){const n=t.map(Kg);zg.error(`Firestore (${qg}): ${e}`,...n)}}function Wg(e,...t){if(zg.logLevel<=rf.WARN){const n=t.map(Kg);zg.warn(`Firestore (${qg}): ${e}`,...n)}}function Kg(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(e="Unexpected state"){const t=`FIRESTORE (${qg}) INTERNAL ASSERTION FAILED: `+e;throw $g(t),new Error(t)}function Yg(e,t){e||Jg()}function Xg(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zg extends qh{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bg.UNAUTHENTICATED))}shutdown(){}}class rv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iv{constructor(e){this.t=e,this.currentUser=Bg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yg(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ev;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ev,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Gg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Gg("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ev)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Gg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yg("string"==typeof t.accessToken),new tv(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yg(null===e||"string"==typeof e),new Bg(e)}}class ov{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Bg.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class av{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ov(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bg.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Yg(void 0===this.o);const n=e=>{null!=e.error&&Gg("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Gg("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Gg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Gg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Yg("string"==typeof e.token),this.R=e.token,new sv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uv(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function dv(e,t){return e<t?-1:e>t?1:0}function hv(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zg(Qg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zg(Qg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zg(Qg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zg(Qg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fv.fromMillis(Date.now())}static fromDate(e){return fv.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new fv(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dv(this.nanoseconds,e.nanoseconds):dv(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pv(e)}static min(){return new pv(new fv(0,0))}static max(){return new pv(new fv(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jg(),void 0===n?n=e.length-t:n>e.length-t&&Jg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mv?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yv extends mv{construct(e,t,n){return new yv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Zg(Qg.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new yv(t)}static emptyPath(){return new yv([])}}const gv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vv extends mv{construct(e,t,n){return new vv(e,t,n)}static isValidIdentifier(e){return gv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vv.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vv(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zg(Qg.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zg(Qg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zg(Qg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Zg(Qg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vv(t)}static emptyPath(){return new vv([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.path=e}static fromPath(e){return new bv(yv.fromString(e))}static fromName(e){return new bv(yv.fromString(e).popFirst(5))}static empty(){return new bv(yv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bv(new yv(e.slice()))}}function wv(e){return new Ev(e.readTime,e.key,-1)}class Ev{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ev(pv.min(),bv.empty(),-1)}static max(){return new Ev(pv.max(),bv.empty(),-1)}}function Sv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bv.comparator(e.documentKey,t.documentKey),0!==n?n:dv(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class _v{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(e){if(e.code!==Qg.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Gg("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ov((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ov?t:Ov.resolve(t)}catch(t){return Ov.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ov.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ov.reject(t)}static resolve(e){return new Ov((t,n)=>{t(e)})}static reject(e){return new Ov((t,n)=>{n(e)})}static waitFor(e){return new Ov((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Ov.resolve(!1);for(const n of e)t=t.next(e=>e?Ov.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ov((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Ov((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Tv(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Iv(e){return null==e}function Cv(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function kv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Av.oe=-1;class jv{constructor(e,t){this.comparator=e,this.root=t||Mv.EMPTY}insert(e,t){return new jv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mv.BLACK,null,null))}remove(e){return new jv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Mv.RED,this.left=null!=r?r:Mv.EMPTY,this.right=null!=i?i:Mv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Mv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Mv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jg();if(this.right.isRed())throw Jg();const e=this.left.check();if(e!==this.right.check())throw Jg();return e+(this.isRed()?0:1)}}Mv.EMPTY=null,Mv.RED=!0,Mv.BLACK=!1,Mv.EMPTY=new class{constructor(){this.size=0}get key(){throw Jg()}get value(){throw Jg()}get color(){throw Jg()}get left(){throw Jg()}get right(){throw Jg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Mv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dv{constructor(e){this.comparator=e,this.data=new jv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Dv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dv(this.comparator);return t.data=e,t}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.fields=e,e.sort(vv.comparator)}static empty(){return new Uv([])}unionWith(e){let t=new Dv(vv.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Uv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hv(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Fv("Invalid base64 string: "+t):t}}(e);return new Vv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Vv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dv(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vv.EMPTY_BYTE_STRING=new Vv("");const Bv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qv(e){if(Yg(!!e),"string"==typeof e){let t=0;const n=Bv.exec(e);if(Yg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zv(e.seconds),nanos:zv(e.nanos)}}function zv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hv(e){return"string"==typeof e?Vv.fromBase64String(e):Vv.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $v(e){const t=e.mapValue.fields.__previous_value__;return Gv(t)?$v(t):t}function Wv(e){const t=qv(e.mapValue.fields.__local_write_time__.timestampValue);return new fv(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Jv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jv("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jv&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={};function Xv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gv(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:Jg()}function Qv(e,t){if(e===t)return!0;const n=Xv(e);if(n!==Xv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wv(e).isEqual(Wv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qv(e.timestampValue),r=qv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Hv(e.bytesValue).isEqual(Hv(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zv(e.geoPointValue.latitude)===zv(t.geoPointValue.latitude)&&zv(e.geoPointValue.longitude)===zv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zv(e.integerValue)===zv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zv(e.doubleValue),r=zv(t.doubleValue);return n===r?Cv(n)===Cv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hv(e.arrayValue.values||[],t.arrayValue.values||[],Qv);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kv(n)!==kv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qv(n[i],r[i])))return!1;return!0}(e,t);default:return Jg()}var r}function Zv(e,t){return void 0!==(e.values||[]).find(e=>Qv(e,t))}function eb(e,t){if(e===t)return 0;const n=Xv(e),r=Xv(t);if(n!==r)return dv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dv(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=zv(e.integerValue||e.doubleValue),r=zv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tb(e.timestampValue,t.timestampValue);case 4:return tb(Wv(e),Wv(t));case 5:return dv(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hv(e),r=Hv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=dv(n[i],r[i]);if(0!==e)return e}return dv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dv(zv(e.latitude),zv(t.latitude));return 0!==n?n:dv(zv(e.longitude),zv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nb(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,u=null===(r=s.value)||void 0===r?void 0:r.arrayValue,c=dv((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:nb(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Yv&&t===Yv)return 0;if(e===Yv)return 1;if(t===Yv)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=dv(r[a],o[a]);if(0!==e)return e;const t=eb(n[r[a]],i[o[a]]);if(0!==t)return t}return dv(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Jg()}}function tb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dv(e,t);const n=qv(e),r=qv(t),i=dv(n.seconds,r.seconds);return 0!==i?i:dv(n.nanos,r.nanos)}function nb(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=eb(n[i],r[i]);if(e)return e}return dv(n.length,r.length)}function rb(e){return ib(e)}function ib(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qv(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hv(e.bytesValue).toBase64():"referenceValue"in e?function(e){return bv.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ib(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ib(e.fields[i])}`;return n+"}"}(e.mapValue):Jg()}function ob(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ab(e){return!!e&&"integerValue"in e}function sb(e){return!!e&&"arrayValue"in e}function lb(e){return!!e&&"nullValue"in e}function ub(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cb(e){return!!e&&"mapValue"in e}function db(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=db(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=db(e.arrayValue.values[n]);return t}return Object.assign({},e)}class hb{constructor(e){this.value=e}static empty(){return new hb({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!cb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=db(t)}setAll(e){let t=vv.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=db(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());cb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];cb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pv(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new hb(db(this.value))}}function fb(e){const t=[];return Pv(e.fields,(e,n)=>{const r=new vv([e]);if(cb(n)){const e=fb(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Uv(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class pb{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pb(e,0,pv.min(),pv.min(),pv.min(),hb.empty(),0)}static newFoundDocument(e,t,n,r){return new pb(e,1,t,pv.min(),n,r,0)}static newNoDocument(e,t){return new pb(e,2,t,pv.min(),pv.min(),hb.empty(),0)}static newUnknownDocument(e,t){return new pb(e,3,t,pv.min(),pv.min(),hb.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hb.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.position=e,this.inclusive=t}}function yb(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?bv.comparator(bv.fromName(a.referenceValue),n.key):eb(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function gb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qv(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t="asc"){this.field=e,this.dir=t}}function bb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class Eb extends wb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ib(e,t,n):"array-contains"===t?new Nb(e,n):"in"===t?new jb(e,n):"not-in"===t?new Rb(e,n):"array-contains-any"===t?new Mb(e,n):new Eb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cb(e,n):new kb(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eb(t,this.value)):null!==t&&Xv(this.value)===Xv(t)&&this.matchesComparison(eb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sb extends wb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sb(e,t)}matches(e){return _b(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _b(e){return"and"===e.op}function xb(e){return function(e){for(const t of e.filters)if(t instanceof Sb)return!1;return!0}(e)&&_b(e)}function Ob(e){if(e instanceof Eb)return e.field.canonicalString()+e.op.toString()+rb(e.value);if(xb(e))return e.filters.map(e=>Ob(e)).join(",");{const t=e.filters.map(e=>Ob(e)).join(",");return`${e.op}(${t})`}}function Tb(e,t){return e instanceof Eb?(n=e,(r=t)instanceof Eb&&n.op===r.op&&n.field.isEqual(r.field)&&Qv(n.value,r.value)):e instanceof Sb?function(e,t){return t instanceof Sb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Tb(n,t.filters[r]),!0)}(e,t):void Jg();var n,r}function Ab(e){return e instanceof Eb?`${(t=e).field.canonicalString()} ${t.op} ${rb(t.value)}`:e instanceof Sb?function(e){return e.op.toString()+" {"+e.getFilters().map(Ab).join(" ,")+"}"}(e):"Filter";var t}class Ib extends Eb{constructor(e,t,n){super(e,t,n),this.key=bv.fromName(n.referenceValue)}matches(e){const t=bv.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cb extends Eb{constructor(e,t){super(e,"in",t),this.keys=Pb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kb extends Eb{constructor(e,t){super(e,"not-in",t),this.keys=Pb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>bv.fromName(e.referenceValue))}class Nb extends Eb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sb(t)&&Zv(t.arrayValue,this.value)}}class jb extends Eb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zv(this.value.arrayValue,t)}}class Rb extends Eb{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zv(this.value.arrayValue,t)}}class Mb extends Eb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Zv(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Lb(e,t=null,n=[],r=[],i=null,o=null,a=null){return new Db(e,t,n,r,i,o,a)}function Ub(e){const t=Xg(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ob(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Iv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>rb(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>rb(e)).join(",")),t.ue=e}return t.ue}function Fb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gb(e.startAt,t.startAt)&&gb(e.endAt,t.endAt)}function Vb(e){return bv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qb(e){return new Bb(e)}function zb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hb(e){return null!==e.collectionGroup}function Gb(e){const t=Xg(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Dv(vv.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new vb(r,n))}),e.has(vv.keyField().canonicalString())||t.ce.push(new vb(vv.keyField(),n))}return t.ce}function $b(e){const t=Xg(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return Lb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new vb(e.field,t)});const n=e.endAt?new mb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mb(e.startAt.position,e.startAt.inclusive):null;return Lb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Gb(e))),t.le}function Wb(e,t){const n=e.filters.concat([t]);return new Bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Kb(e,t,n){return new Bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jb(e,t){return Fb($b(e),$b(t))&&e.limitType===t.limitType}function Yb(e){return`${Ub($b(e))}|lt:${e.limitType}`}function Xb(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Ab(e)).join(", ")}]`),Iv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>rb(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>rb(e)).join(",")),`Target(${t})`}($b(e))}; limitType=${e.limitType})`}function Qb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Gb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=yb(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Gb(n),r)||n.endAt&&!function(e,t,n){const r=yb(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Gb(n),r)));var n,r}function Zb(e){return(t,n)=>{let r=!1;for(const i of Gb(e)){const e=ew(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ew(e,t,n){const r=e.field.isKeyField()?bv.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eb(r,i):Jg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jg()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pv(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new jv(bv.comparator);function rw(){return nw}const iw=new jv(bv.comparator);function ow(...e){let t=iw;for(const n of e)t=t.insert(n.key,n);return t}function aw(e){let t=iw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function sw(){return uw()}function lw(){return uw()}function uw(){return new tw(e=>e.toString(),(e,t)=>e.isEqual(t))}const cw=new jv(bv.comparator),dw=new Dv(bv.comparator);function hw(...e){let t=dw;for(const n of e)t=t.add(n);return t}const fw=new Dv(dv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cv(t)?"-0":t}}function mw(e){return{integerValue:""+e}}function yw(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Cv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?mw(t):pw(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this._=void 0}}function vw(e,t,n){return e instanceof Ew?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gv(t)&&(t=$v(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Sw?_w(e,t):e instanceof xw?Ow(e,t):function(e,t){const n=ww(e,t),r=Aw(n)+Aw(e.Pe);return ab(n)&&ab(e.Pe)?mw(r):pw(e.serializer,r)}(e,t)}function bw(e,t,n){return e instanceof Sw?_w(e,t):e instanceof xw?Ow(e,t):n}function ww(e,t){return e instanceof Tw?ab(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Ew extends gw{}class Sw extends gw{constructor(e){super(),this.elements=e}}function _w(e,t){const n=Iw(t);for(const r of e.elements)n.some(e=>Qv(e,r))||n.push(r);return{arrayValue:{values:n}}}class xw extends gw{constructor(e){super(),this.elements=e}}function Ow(e,t){let n=Iw(t);for(const r of e.elements)n=n.filter(e=>!Qv(e,r));return{arrayValue:{values:n}}}class Tw extends gw{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Aw(e){return zv(e.integerValue||e.doubleValue)}function Iw(e){return sb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cw{constructor(e,t){this.version=e,this.transformResults=t}}class kw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kw}static exists(e){return new kw(void 0,e)}static updateTime(e){return new kw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nw{}function jw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zw(e.key,kw.none()):new Uw(e.key,e.data,kw.none());{const n=e.data,r=hb.empty();let i=new Dv(vv.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Fw(e.key,r,new Uv(i.toArray()),kw.none())}}function Rw(e,t,n){var r;e instanceof Uw?function(e,t,n){const r=e.value.clone(),i=Bw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fw?function(e,t,n){if(!Pw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function Mw(e,t,n,r){return e instanceof Uw?function(e,t,n,r){if(!Pw(e.precondition,t))return n;const i=e.value.clone(),o=qw(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Fw?function(e,t,n,r){if(!Pw(e.precondition,t))return n;const i=qw(e.fieldTransforms,r,t),o=t.data;return o.setAll(Vw(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,o=n,Pw(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o);var i,o}function Dw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ww(r.transform,e||null);null!=i&&(null===n&&(n=hb.empty()),n.set(r.field,i))}return n||null}function Lw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&hv(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Sw&&r instanceof Sw||n instanceof xw&&r instanceof xw?hv(n.elements,r.elements,Qv):n instanceof Tw&&r instanceof Tw?Qv(n.Pe,r.Pe):n instanceof Ew&&r instanceof Ew);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Uw extends Nw{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fw extends Nw{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Bw(e,t,n){const r=new Map;Yg(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,bw(a,s,n[i]))}return r}function qw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,vw(e,o,t))}return r}class zw extends Nw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hw extends Nw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Mw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Mw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lw();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=jw(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(pv.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hw())}isEqual(e){return this.batchId===e.batchId&&hv(this.mutations,e.mutations,(e,t)=>Lw(e,t))&&hv(this.baseMutations,e.baseMutations,(e,t)=>Lw(e,t))}}class $w{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yg(e.mutations.length===n.length);let r=function(){return cw}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new $w(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jw,Yw;function Xw(e){if(void 0===e)return $g("GRPC error has no .code"),Qg.UNKNOWN;switch(e){case Jw.OK:return Qg.OK;case Jw.CANCELLED:return Qg.CANCELLED;case Jw.UNKNOWN:return Qg.UNKNOWN;case Jw.DEADLINE_EXCEEDED:return Qg.DEADLINE_EXCEEDED;case Jw.RESOURCE_EXHAUSTED:return Qg.RESOURCE_EXHAUSTED;case Jw.INTERNAL:return Qg.INTERNAL;case Jw.UNAVAILABLE:return Qg.UNAVAILABLE;case Jw.UNAUTHENTICATED:return Qg.UNAUTHENTICATED;case Jw.INVALID_ARGUMENT:return Qg.INVALID_ARGUMENT;case Jw.NOT_FOUND:return Qg.NOT_FOUND;case Jw.ALREADY_EXISTS:return Qg.ALREADY_EXISTS;case Jw.PERMISSION_DENIED:return Qg.PERMISSION_DENIED;case Jw.FAILED_PRECONDITION:return Qg.FAILED_PRECONDITION;case Jw.ABORTED:return Qg.ABORTED;case Jw.OUT_OF_RANGE:return Qg.OUT_OF_RANGE;case Jw.UNIMPLEMENTED:return Qg.UNIMPLEMENTED;case Jw.DATA_LOSS:return Qg.DATA_LOSS;default:return Jg()}}(Yw=Jw||(Jw={}))[Yw.OK=0]="OK",Yw[Yw.CANCELLED=1]="CANCELLED",Yw[Yw.UNKNOWN=2]="UNKNOWN",Yw[Yw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yw[Yw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yw[Yw.NOT_FOUND=5]="NOT_FOUND",Yw[Yw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yw[Yw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yw[Yw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yw[Yw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yw[Yw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yw[Yw.ABORTED=10]="ABORTED",Yw[Yw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yw[Yw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yw[Yw.INTERNAL=13]="INTERNAL",Yw[Yw.UNAVAILABLE=14]="UNAVAILABLE",Yw[Yw.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qw=new Ig([4294967295,4294967295],0);function Zw(e){const t=(new TextEncoder).encode(e),n=new Cg;return n.update(t),new Uint8Array(n.digest())}function eE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ig([n,r],0),new Ig([i,o],0)]}class tE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nE(`Invalid padding: ${t}`);if(n<0)throw new nE(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new nE(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new nE(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ig.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ig.fromNumber(n)));return 1===r.compare(Qw)&&(r=new Ig([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Zw(e),[n,r]=eE(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new tE(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Ie)return;const t=Zw(e),[n,r]=eE(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,iE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rE(pv.min(),r,new jv(dv),rw(),hw())}}class iE{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new iE(n,t,hw(),hw(),hw())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class aE{constructor(e,t){this.targetId=e,this.me=t}}class sE{constructor(e,t,n=Vv.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lE{constructor(){this.fe=0,this.ge=dE(),this.pe=Vv.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=hw(),t=hw(),n=hw();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jg()}}),new iE(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=dE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yg(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uE{constructor(e){this.Le=e,this.Be=new Map,this.ke=rw(),this.qe=cE(),this.Qe=new jv(dv)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Jg()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Vb(i))if(0===n){const e=new bv(i.path);this.Ue(t,e,pb.newNoDocument(e,pv.min()))}else Yg(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Hv(n).toUint8Array()}catch(s){if(s instanceof Fv)return Wg("Decoding the base64 bloom filter in existence filter failed ("+s.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw s}try{a=new tE(o,r,i)}catch(s){return Wg(s instanceof nE?"BloomFilter error: ":"Applying bloom filter failed: ",s),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Vb(i.target)){const t=new bv(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,pb.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=hw();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new rE(e,t,this.Qe,this.ke,n);return this.ke=rw(),this.qe=cE(),this.Qe=new jv(dv),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dv(dv),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Gg("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lE),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cE(){return new jv(bv.comparator)}function dE(){return new jv(bv.comparator)}const hE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pE=(()=>({and:"AND",or:"OR"}))();class mE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yE(e,t){return e.useProto3Json||Iv(t)?t:{value:t}}function gE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bE(e,t){return gE(e,t.toTimestamp())}function wE(e){return Yg(!!e),pv.fromTimestamp(function(e){const t=qv(e);return new fv(t.seconds,t.nanos)}(e))}function EE(e,t){return SE(e,t).canonicalString()}function SE(e,t){const n=(r=e,new yv(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function _E(e){const t=yv.fromString(e);return Yg(BE(t)),t}function xE(e,t){return EE(e.databaseId,t.path)}function OE(e,t){const n=_E(t);if(n.get(1)!==e.databaseId.projectId)throw new Zg(Qg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zg(Qg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bv(IE(n))}function TE(e,t){return EE(e.databaseId,t)}function AE(e){return new yv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IE(e){return Yg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function CE(e,t,n){return{name:xE(e,t),fields:n.value.mapValue.fields}}function kE(e,t){return{documents:[TE(e,t.path)]}}function PE(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TE(e,i);const o=function(e){if(0!==e.length)return FE(Sb.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:LE((t=e).field),direction:RE(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=yE(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function NE(e){let t=function(e){const t=_E(e);return 4===t.length?yv.emptyPath():IE(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=jE(e);return t instanceof Sb&&xb(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new vb(UE((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Iv(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mb(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new mb(n,t)}(n.endAt)),function(e,t,n,r,i,o,a,s){return new Bb(e,t,n,r,i,o,a,s)}(t,i,a,o,s,"F",l,u)}function jE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=UE(e.unaryFilter.field);return Eb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=UE(e.unaryFilter.field);return Eb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=UE(e.unaryFilter.field);return Eb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=UE(e.unaryFilter.field);return Eb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jg()}}(e):void 0!==e.fieldFilter?(t=e,Eb.create(UE(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jg()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Sb.create(e.compositeFilter.filters.map(e=>jE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jg()}}(e.compositeFilter.op))}(e):Jg();var t}function RE(e){return hE[e]}function ME(e){return fE[e]}function DE(e){return pE[e]}function LE(e){return{fieldPath:e.canonicalString()}}function UE(e){return vv.fromServerFormat(e.fieldPath)}function FE(e){return e instanceof Eb?function(e){if("=="===e.op){if(ub(e.value))return{unaryFilter:{field:LE(e.field),op:"IS_NAN"}};if(lb(e.value))return{unaryFilter:{field:LE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ub(e.value))return{unaryFilter:{field:LE(e.field),op:"IS_NOT_NAN"}};if(lb(e.value))return{unaryFilter:{field:LE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:LE(e.field),op:ME(e.op),value:e.value}}}(e):e instanceof Sb?function(e){const t=e.getFilters().map(e=>FE(e));return 1===t.length?t[0]:{compositeFilter:{op:DE(e.op),filters:t}}}(e):Jg()}function VE(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function BE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,n,r,i=pv.min(),o=pv.min(),a=Vv.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new qE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.ct=e}}function HE(e){const t=NE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kb(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.un=new $E}addToCollectionParentIndex(e,t){return this.un.add(t),Ov.resolve()}getCollectionParents(e,t){return Ov.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ov.resolve()}deleteFieldIndex(e,t){return Ov.resolve()}deleteAllFieldIndexes(e){return Ov.resolve()}createTargetIndexes(e,t){return Ov.resolve()}getDocumentsMatchingTarget(e,t){return Ov.resolve(null)}getIndexType(e,t){return Ov.resolve(0)}getFieldIndexes(e,t){return Ov.resolve([])}getNextCollectionGroupToUpdate(e){return Ov.resolve(null)}getMinOffset(e,t){return Ov.resolve(Ev.min())}getMinOffsetFromCollectionGroup(e,t){return Ov.resolve(Ev.min())}updateCollectionGroup(e,t,n){return Ov.resolve()}updateIndexEntries(e,t){return Ov.resolve()}}class $E{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dv(yv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Dv(yv.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new WE(0)}static kn(){return new WE(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.changes=new tw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ov.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Mw(n.mutation,e,Uv.empty(),fv.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,hw()).next(()=>t))}getLocalViewOfDocuments(e,t,n=hw()){const r=sw();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ow();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=sw();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,hw()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=rw();const o=uw(),a=uw();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Fw)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Mw(a.mutation,t,a.mutation.getFieldMask(),fv.now())):o.set(t.key,Uv.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new JE(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=uw();let r=new jv((e,t)=>e-t),i=hw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Uv.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||hw()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,u=lw();l.forEach(e=>{if(!i.has(e)){const r=jw(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Ov.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,bv.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Hb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ov.resolve(sw());let a=-1,s=i;return o.next(t=>Ov.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ov.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,hw())).next(e=>({batchId:a,changes:aw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bv(t)).next(e=>{let t=ow();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ow();return this.indexManager.getCollectionParents(e,i).next(a=>Ov.forEach(a,a=>{const s=(l=t,u=a.child(i),new Bb(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pb.newInvalidDocument(r)))});let n=ow();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Mw(o.mutation,r,Uv.empty(),fv.now()),Qb(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ov.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:wE(n.createTime)}),Ov.resolve();var n}getNamedQuery(e,t){return Ov.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:HE(n.bundledQuery),readTime:wE(n.readTime)}),Ov.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.overlays=new jv(bv.comparator),this.Ir=new Map}getOverlay(e,t){return Ov.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sw();return Ov.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Ov.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Ov.resolve()}getOverlaysForCollection(e,t,n){const r=sw(),i=t.length+1,o=new bv(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ov.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jv((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=sw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=sw(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ov.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ww(t,n));let i=this.Ir.get(t);void 0===i&&(i=hw(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.sessionToken=Vv.EMPTY_BYTE_STRING}getSessionToken(e){return Ov.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ov.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Tr=new Dv(tS.Er),this.dr=new Dv(tS.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new tS(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new tS(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new bv(new yv([])),n=new tS(t,e),r=new tS(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new bv(new yv([])),n=new tS(t,e),r=new tS(t,e+1);let i=hw();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new tS(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tS{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return bv.comparator(e.key,t.key)||dv(e.wr,t.wr)}static Ar(e,t){return dv(e.wr,t.wr)||bv.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dv(tS.Er)}checkEmpty(e){return Ov.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gw(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new tS(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ov.resolve(o)}lookupMutationBatch(e,t){return Ov.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Ov.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ov.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Ov.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tS(t,0),r=new tS(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),Ov.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dv(dv);return t.forEach(e=>{const t=new tS(e,0),r=new tS(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Ov.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bv.isDocumentKey(i)||(i=i.child(""));const o=new tS(new bv(i),0);let a=new Dv(dv);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},o),Ov.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Yg(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Ov.forEach(t.mutations,r=>{const i=new tS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new tS(t,0),r=this.br.firstAfterOrEqual(n);return Ov.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ov.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.Mr=e,this.docs=new jv(bv.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ov.resolve(n?n.document.mutableCopy():pb.newInvalidDocument(t))}getEntries(e,t){let n=rw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pb.newInvalidDocument(e))}),Ov.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rw();const o=t.path,a=new bv(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Sv(wv(a),n)<=0||(r.has(a.key)||Qb(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ov.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jg()}Or(e,t){return Ov.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new iS(this)}getSize(e){return Ov.resolve(this.size)}}class iS extends KE{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Ov.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.persistence=e,this.Nr=new tw(e=>Ub(e),Fb),this.lastRemoteSnapshotVersion=pv.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eS,this.targetCount=0,this.kr=WE.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Ov.resolve()}getLastRemoteSnapshotVersion(e){return Ov.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ov.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ov.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ov.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new WE(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ov.resolve()}updateTargetData(e,t){return this.Kn(t),Ov.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ov.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ov.waitFor(i).next(()=>r)}getTargetCount(e){return Ov.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ov.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ov.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ov.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ov.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ov.resolve(n)}containsKey(e,t){return Ov.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Av(0),this.Kr=!1,this.Kr=!0,this.$r=new ZE,this.referenceDelegate=e(this),this.Ur=new oS(this),this.indexManager=new GE,this.remoteDocumentCache=new rS(e=>this.referenceDelegate.Wr(e)),this.serializer=new zE(t),this.Gr=new XE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new nS(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Gg("MemoryPersistence","Starting transaction:",e);const r=new sS(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Ov.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class sS extends _v{constructor(e){super(),this.currentSequenceNumber=e}}class lS{constructor(e){this.persistence=e,this.Jr=new eS,this.Yr=null}static Zr(e){return new lS(e)}get Xr(){if(this.Yr)return this.Yr;throw Jg()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ov.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ov.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ov.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ov.forEach(this.Xr,n=>{const r=bv.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,pv.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Ov.or([()=>Ov.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=hw(),r=hw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uS(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Bh()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Vh())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new cS;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Hg()<=rf.DEBUG&&Gg("QueryEngine","SDK will not create cache indexes for query:",Xb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ov.resolve()):(Hg()<=rf.DEBUG&&Gg("QueryEngine","Query:",Xb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Hg()<=rf.DEBUG&&Gg("QueryEngine","The SDK decides to create cache indexes for query:",Xb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$b(t))):Ov.resolve())}Yi(e,t){if(zb(t))return Ov.resolve(null);let n=$b(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Kb(t,null,"F"),n=$b(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=hw(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Kb(t,null,"F")):this.rs(e,o,t,n)}))})))}Zi(e,t,n,r){return zb(t)||r.isEqual(pv.min())?Ov.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?Ov.resolve(null):(Hg()<=rf.DEBUG&&Gg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xb(t)),this.rs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pv.fromTimestamp(1e9===r?new fv(n+1,0):new fv(n,r));return new Ev(i,bv.empty(),t)}(r,-1)).next(e=>e))})}ts(e,t){let n=new Dv(Zb(e));return t.forEach((t,r)=>{Qb(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Hg()<=rf.DEBUG&&Gg("QueryEngine","Using full collection scan to execute query:",Xb(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ev.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new jv(dv),this._s=new tw(e=>Ub(e),Fb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}async function fS(e,t){const n=Xg(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=hw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:o}))})})}function pS(e){const t=Xg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function mS(e,t){const n=Xg(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s)));let u=l.withSequenceNumber(e.currentSequenceNumber);var c,d,h;null!==t.targetMismatches.get(s)?u=u.withResumeToken(Vv.EMPTY_BYTE_STRING,pv.min()).withLastLimboFreeSnapshotVersion(pv.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),d=u,h=o,(0===(c=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(e,u))});let s=rw(),l=hw();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=hw(),i=hw();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=rw();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(pv.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Gg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ps:r,Is:i}})}(e,o,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual(pv.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ov.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=i,e))}function yS(e,t){const n=Xg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function gS(e,t,n){const r=Xg(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!Tv(a))throw a;Gg("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function vS(e,t,n){const r=Xg(e);let i=pv.min(),o=hw();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Xg(e),i=r._s.get(n);return void 0!==i?Ov.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,$b(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:pv.min(),n?o:hw())).next(e=>(function(e,t,n){let r=e.us.get(t)||pv.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:o})))}class bS{constructor(){this.activeTargetIds=fw}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wS{constructor(){this.so=new bS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Gg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Gg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S=null;function xS(){return null===_S?_S=268435456+Math.round(2147483648*Math.random()):_S++,"0x"+_S.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="WebChannelConnection";class IS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=xS(),a=this.xo(e,t.toUriEncodedString());Gg("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then(t=>(Gg("RestConnection",`Received RPC '${e}' ${o}: `,t),t),t=>{throw Wg("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=OS[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=xS();return new Promise((o,a)=>{const s=new Pg;s.setWithCredentials(!0),s.listenOnce(jg.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Rg.NO_ERROR:const t=s.getResponseJson();Gg(AS,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Rg.TIMEOUT:Gg(AS,`RPC '${e}' ${i} timed out`),a(new Zg(Qg.DEADLINE_EXCEEDED,"Request time out"));break;case Rg.HTTP_ERROR:const n=s.getStatus();if(Gg(AS,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qg).indexOf(t)>=0?t:Qg.UNKNOWN}(t.status);a(new Zg(e,t.message))}else a(new Zg(Qg.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Zg(Qg.UNAVAILABLE,"Connection failed."));break;default:Jg()}}finally{Gg(AS,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Gg(AS,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=xS(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ug(),a=Lg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=i.join("");Gg(AS,`Creating RPC '${e}' stream ${r}: ${u}`,s);const c=o.createWebChannel(u,s);let d=!1,h=!1;const f=new TS({Io:t=>{h?Gg(AS,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Gg(AS,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Gg(AS,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(c,Ng.EventType.OPEN,()=>{h||(Gg(AS,`RPC '${e}' stream ${r} transport opened.`),f.yo())}),p(c,Ng.EventType.CLOSE,()=>{h||(h=!0,Gg(AS,`RPC '${e}' stream ${r} transport closed`),f.So())}),p(c,Ng.EventType.ERROR,t=>{h||(h=!0,Wg(AS,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Zg(Qg.UNAVAILABLE,"The operation could not be completed")))}),p(c,Ng.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Yg(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Gg(AS,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Jw[e];if(void 0!==t)return Xw(t)}(t),i=a.message;void 0===n&&(n=Qg.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Zg(n,i)),c.close()}else Gg(AS,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}}),p(a,Dg.STAT_EVENT,t=>{t.stat===Mg.PROXY?Gg(AS,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Mg.NOPROXY&&Gg(AS,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function CS(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(e){return new mE(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Gg("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PS(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Qg.RESOURCE_EXHAUSTED?($g(t.toString()),$g("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Qg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Yo===t&&this.P_(e,n)},t=>{e(()=>{const e=new Zg(Qg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Gg("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Gg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jS extends NS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Jg(),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Yg(void 0===t||"string"==typeof t),Vv.fromBase64String(t||"")):(Yg(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Vv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(e){const t=void 0===e.code?Qg.UNKNOWN:Xw(e.code);return new Zg(t,e.message||"")}(s);n=new sE(i,o,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=OE(e,r.document.name),o=wE(r.document.updateTime),a=r.document.createTime?wE(r.document.createTime):pv.min(),s=new hb({mapValue:{fields:r.document.fields}}),l=pb.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oE(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=OE(e,r.document),o=r.readTime?wE(r.readTime):pv.min(),a=pb.newNoDocument(i,o),s=r.removedTargetIds||[];n=new oE([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=OE(e,r.document),o=r.removedTargetIds||[];n=new oE([],o,i,null)}else{if(!("filter"in t))return Jg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Kw(r,i),a=e.targetId;n=new aE(a,o)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return pv.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?pv.min():t.readTime?wE(t.readTime):pv.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=AE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vb(r)?{documents:kE(e,r)}:{query:PE(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vE(e,t.resumeToken);const r=yE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(pv.min())>0){n.readTime=gE(e,t.snapshotVersion.toTimestamp());const r=yE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=AE(this.serializer),t.removeTarget=e,this.a_(t)}}class RS extends NS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Yg(!!e.streamToken),this.lastStreamToken=e.streamToken,Yg(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Yg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Yg(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?wE(e.updateTime):wE(t);return n.isEqual(pv.min())&&(n=wE(t)),new Cw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=wE(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=AE(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof Uw)n={update:CE(e,t.key,t.value)};else if(t instanceof zw)n={delete:xE(e,t.key)};else if(t instanceof Fw)n={update:CE(e,t.key,t.data),updateMask:VE(t.fieldMask)};else{if(!(t instanceof Hw))return Jg();n={verify:xE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ew)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tw)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Jg()}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:bE(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Jg())),n;var r,i}(this.serializer,e))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Zg(Qg.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,SE(t,n),r,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Qg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zg(Qg.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,SE(t,n),r,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Qg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zg(Qg.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class DS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($g(t),this.D_=!1):Gg("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{$S(this)&&(Gg("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Xg(e);t.L_.add(4),await FS(t),t.q_.set("Unknown"),t.L_.delete(4),await US(t)}(this))})}),this.q_=new DS(n,r)}}async function US(e){if($S(e))for(const t of e.B_)await t(!0)}async function FS(e){for(const t of e.B_)await t(!1)}function VS(e,t){const n=Xg(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),GS(n)?HS(n):c_(n).r_()&&qS(n,t))}function BS(e,t){const n=Xg(e),r=c_(n);n.N_.delete(t),r.r_()&&zS(n,t),0===n.N_.size&&(r.r_()?r.o_():$S(n)&&n.q_.set("Unknown"))}function qS(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pv.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}c_(e).A_(t)}function zS(e,t){e.Q_.xe(t),c_(e).R_(t)}function HS(e){e.Q_=new uE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),c_(e).start(),e.q_.v_()}function GS(e){return $S(e)&&!c_(e).n_()&&e.N_.size>0}function $S(e){return 0===Xg(e).L_.size}function WS(e){e.Q_=void 0}async function KS(e){e.q_.set("Online")}async function JS(e){e.N_.forEach((t,n)=>{qS(e,t)})}async function YS(e,t){WS(e),GS(e)?(e.q_.M_(t),HS(e)):e.q_.set("Unknown")}async function XS(e,t,n){if(e.q_.set("Online"),t instanceof sE&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){Gg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await QS(e,r)}else if(t instanceof oE?e.Q_.Ke(t):t instanceof aE?e.Q_.He(t):e.Q_.We(t),!n.isEqual(pv.min()))try{const t=await pS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Vv.EMPTY_BYTE_STRING,r.snapshotVersion)),zS(e,t);const i=new qE(r.target,t,n,r.sequenceNumber);qS(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Gg("RemoteStore","Failed to raise snapshot:",i),await QS(e,i)}}async function QS(e,t,n){if(!Tv(t))throw t;e.L_.add(1),await FS(e),e.q_.set("Offline"),n||(n=()=>pS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Gg("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await US(e)})}function ZS(e,t){return t().catch(n=>QS(e,n,t))}async function e_(e){const t=Xg(e),n=d_(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;t_(t);)try{const e=await yS(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,n_(t,e)}catch(i){await QS(t,i)}r_(t)&&i_(t)}function t_(e){return $S(e)&&e.O_.length<10}function n_(e,t){e.O_.push(t);const n=d_(e);n.r_()&&n.V_&&n.m_(t.mutations)}function r_(e){return $S(e)&&!d_(e).n_()&&e.O_.length>0}function i_(e){d_(e).start()}async function o_(e){d_(e).p_()}async function a_(e){const t=d_(e);for(const n of e.O_)t.m_(n.mutations)}async function s_(e,t,n){const r=e.O_.shift(),i=$w.from(r,t,n);await ZS(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await e_(e)}async function l_(e,t){t&&d_(e).V_&&await async function(e,t){if(function(e){switch(e){default:return Jg();case Qg.CANCELLED:case Qg.UNKNOWN:case Qg.DEADLINE_EXCEEDED:case Qg.RESOURCE_EXHAUSTED:case Qg.INTERNAL:case Qg.UNAVAILABLE:case Qg.UNAUTHENTICATED:return!1;case Qg.INVALID_ARGUMENT:case Qg.NOT_FOUND:case Qg.ALREADY_EXISTS:case Qg.PERMISSION_DENIED:case Qg.FAILED_PRECONDITION:case Qg.ABORTED:case Qg.OUT_OF_RANGE:case Qg.UNIMPLEMENTED:case Qg.DATA_LOSS:return!0}}(n=t.code)&&n!==Qg.ABORTED){const n=e.O_.shift();d_(e).s_(),await ZS(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await e_(e)}var n}(e,t),r_(e)&&i_(e)}async function u_(e,t){const n=Xg(e);n.asyncQueue.verifyOperationInProgress(),Gg("RemoteStore","RemoteStore received new credentials");const r=$S(n);n.L_.add(3),await FS(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await US(n)}function c_(e){return e.K_||(e.K_=function(e,t,n){const r=Xg(e);return r.w_(),new jS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:KS.bind(null,e),Ro:JS.bind(null,e),mo:YS.bind(null,e),d_:XS.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),GS(e)?HS(e):e.q_.set("Unknown")):(await e.K_.stop(),WS(e))})),e.K_}function d_(e){return e.U_||(e.U_=function(e,t,n){const r=Xg(e);return r.w_(),new RS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o_.bind(null,e),mo:l_.bind(null,e),f_:a_.bind(null,e),g_:s_.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await e_(e)):(await e.U_.stop(),e.O_.length>0&&(Gg("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class h_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ev,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new h_(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zg(Qg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(e,t){if($g("AsyncQueue",`${t}: ${e}`),Tv(e))return new Zg(Qg.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bv.comparator(t.key,n.key):(e,t)=>bv.comparator(e.key,t.key),this.keyedMap=ow(),this.sortedSet=new jv(this.comparator)}static emptySet(e){return new p_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof p_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new p_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.W_=new jv(bv.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Jg():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class y_{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new y_(e,t,p_.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class v_{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Xg(e),r=n.queries;n.queries=b_(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Zg(Qg.ABORTED,"Firestore shutting down"))}}function b_(){return new tw(e=>Yb(e),Jb)}async function w_(e,t){const n=Xg(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new g_,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=f_(a,`Initialization of query '${Xb(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&x_(n)}async function E_(e,t){const n=Xg(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S_(e,t){const n=Xg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&x_(n)}function __(e,t,n){const r=Xg(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function x_(e){e.Y_.forEach(e=>{e.next()})}var O_,T_;(T_=O_||(O_={})).ea="default",T_.Cache="cache";class A_{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new y_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=y_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O_.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class k_{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=hw(),this.mutatedKeys=hw(),this.Aa=Zb(e),this.Ra=new p_(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new m_,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Qb(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(s&&this.Aa(c,s)>0||l&&this.Aa(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(s||l)&&(a=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jg()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new y_(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new m_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=hw(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new C_(e))}),this.da.forEach(n=>{e.has(n)||t.push(new I_(n))}),t}ba(e){this.Ta=e.Ts,this.da=hw();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return y_.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class P_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class N_{constructor(e){this.key=e,this.va=!1}}class j_{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new tw(e=>Yb(e),Jb),this.Ma=new Map,this.xa=new Set,this.Oa=new jv(bv.comparator),this.Na=new Map,this.La=new eS,this.Ba={},this.ka=new Map,this.qa=WE.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function R_(e,t,n=!0){const r=tx(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await D_(r,t,n,!0),i}async function M_(e,t){const n=tx(e);await D_(n,t,!0,!1)}async function D_(e,t,n,r){const i=await function(e,t){const n=Xg(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,Ov.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new qE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}(e.localStore,$b(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await vS(e.localStore,t.query,!1).then(({documents:e})=>t.view.ma(e,i)));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return J_(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await vS(e.localStore,t,!0),a=new k_(t,o.Ts),s=a.ma(o.documents),l=iE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,l);J_(e,n,u.wa);const c=new P_(t,n,a);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&VS(e.remoteStore,i),s}async function L_(e,t,n){const r=Xg(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(e=>!Jb(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&BS(r.remoteStore,i.targetId),W_(r,i.targetId)}).catch(xv)):(W_(r,i.targetId),await gS(r.localStore,i.targetId,!0))}async function U_(e,t){const n=Xg(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),BS(n.remoteStore,r.targetId))}async function F_(e,t,n){const r=function(e){const t=Xg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H_.bind(null,t),t}(e);try{const e=await function(e,t){const n=Xg(e),r=fv.now(),i=t.reduce((e,t)=>e.add(t.key),hw());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=rw(),l=hw();return n.cs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Dw(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Fw(e.key,t,fb(t.value.mapValue),kw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:aw(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new jv(dv)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Q_(r,e.changes),await e_(r.remoteStore)}catch(i){const e=f_(i,"Failed to persist write");n.reject(e)}}async function V_(e,t){const n=Xg(e);try{const e=await mS(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Yg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Yg(r.va):e.removedDocuments.size>0&&(Yg(r.va),r.va=!1))}),await Q_(n,e,t)}catch(r){await xv(r)}}function B_(e,t,n){const r=Xg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Xg(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&x_(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function q_(e,t,n){const r=Xg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new jv(bv.comparator);e=e.insert(o,pb.newNoDocument(o,pv.min()));const n=hw().add(o),i=new rE(pv.min(),new Map,new jv(dv),e,n);await V_(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),X_(r)}else await gS(r.localStore,t,!1).then(()=>W_(r,t,n)).catch(xv)}async function z_(e,t){const n=Xg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ov.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Yg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);$_(n,r,null),G_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Q_(n,e)}catch(i){await xv(i)}}async function H_(e,t,n){const r=Xg(e);try{const e=await function(e,t){const n=Xg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Yg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);$_(r,t,n),G_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Q_(r,e)}catch(i){await xv(i)}}function G_(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function $_(e,t,n){const r=Xg(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function W_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||K_(e,t)})}function K_(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(BS(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),X_(e))}function J_(e,t,n){for(const r of n)r instanceof I_?(e.La.addReference(r.key,t),Y_(e,r)):r instanceof C_?(Gg("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||K_(e,r.key)):Jg()}function Y_(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Gg("SyncEngine","New document in limbo: "+n),e.xa.add(r),X_(e))}function X_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new bv(yv.fromString(t)),r=e.qa.next();e.Na.set(r,new N_(n)),e.Oa=e.Oa.insert(n,r),VS(e.remoteStore,new qE($b(qb(n.path)),r,"TargetPurposeLimboResolution",Av.oe))}}async function Q_(e,t,n){const r=Xg(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{a.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=uS.Wi(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Xg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ov.forEach(t,t=>Ov.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ov.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Tv(r))throw r;Gg("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function Z_(e,t){const n=Xg(e);if(!n.currentUser.isEqual(t)){Gg("SyncEngine","User change. New user:",t.toKey());const e=await fS(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach(e=>{e.forEach(e=>{e.reject(new Zg(Qg.CANCELLED,i))})}),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Q_(n,e.hs)}var r,i}function ex(e,t){const n=Xg(e),r=n.Na.get(t);if(r&&r.va)return hw().add(r.key);{let e=hw();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function tx(e){const t=Xg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=V_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q_.bind(null,t),t.Ca.d_=S_.bind(null,t.eventManager),t.Ca.$a=__.bind(null,t.eventManager),t}class nx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kS(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new hS(e,t,n,r)}(this.persistence,new dS,e.initialUser,this.serializer)}Ga(e){return new aS(lS.Zr,this.serializer)}Wa(e){return new wS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nx.provider={build:()=>new nx};class rx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>B_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z_.bind(null,this.syncEngine),await async function(e,t){const n=Xg(e);t?(n.L_.delete(2),await US(n)):t||(n.L_.add(2),await FS(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new v_}createDatastore(e){const t=kS(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new IS(r));var r;return function(e,t,n,r){return new MS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>B_(this.syncEngine,e,0),o=SS.D()?new SS:new ES,new LS(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new j_(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Xg(e);Gg("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await FS(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}rx.provider={build:()=>new rx};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$g("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Bg.UNAUTHENTICATED,this.clientId=cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Gg("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Gg("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ev;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=f_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ax(e,t){e.asyncQueue.verifyOperationInProgress(),Gg("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await fS(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gg("FirestoreClient","Using user provided OfflineComponentProvider");try{await ax(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Qg.FAILED_PRECONDITION||n.code===Qg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Wg("Error using user provided cache. Falling back to memory cache: "+i),await ax(e,new nx)}}else Gg("FirestoreClient","Using default OfflineComponentProvider"),await ax(e,new nx);var n;return e._offlineComponents}(e);Gg("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>u_(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>u_(t.remoteStore,n)),e._onlineComponents=t}async function lx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gg("FirestoreClient","Using user provided OnlineComponentProvider"),await sx(e,e._uninitializedComponentsProvider._online)):(Gg("FirestoreClient","Using default OnlineComponentProvider"),await sx(e,new rx))),e._onlineComponents}async function ux(e){const t=await lx(e),n=t.eventManager;return n.onListen=R_.bind(null,t.syncEngine),n.onUnlisten=L_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=M_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U_.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cx(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const dx=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e,t,n){if(!n)throw new Zg(Qg.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fx(e){if(!bv.isDocumentKey(e))throw new Zg(Qg.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function px(e){if(bv.isDocumentKey(e))throw new Zg(Qg.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Jg()}function yx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zg(Qg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mx(e);throw new Zg(Qg.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zg(Qg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zg(Qg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Zg(Qg.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cx(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zg(Qg.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Zg(Qg.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Zg(Qg.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class vx{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zg(Qg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zg(Qg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nv;switch(e.type){case"firstParty":return new av(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zg(Qg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dx.get(e);t&&(Gg("ComponentProvider","Removing Datastore"),dx.delete(e),t.terminate())}(this),Promise.resolve()}}function bx(e,t,n,r={}){var i;const o=(e=yx(e,vx))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&Wg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Bg.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nh(JSON.stringify({alg:"none",type:"JWT"})),Nh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Zg(Qg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Bg(o)}e._authCredentials=new rv(new tv(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wx(this.firestore,e,this._query)}}class Ex{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ex(this.firestore,e,this._key)}}class Sx extends wx{constructor(e,t,n){super(e,t,qb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ex(this.firestore,null,new bv(e))}withConverter(e){return new Sx(this.firestore,e,this._path)}}function _x(e,t,...n){if(e=Qh(e),hx("collection","path",t),e instanceof vx){const r=yv.fromString(t,...n);return px(r),new Sx(e,null,r)}{if(!(e instanceof Ex||e instanceof Sx))throw new Zg(Qg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yv.fromString(t,...n));return px(r),new Sx(e.firestore,null,r)}}function xx(e,t,...n){if(e=Qh(e),1===arguments.length&&(t=cv.newId()),hx("doc","path",t),e instanceof vx){const r=yv.fromString(t,...n);return fx(r),new Ex(e,null,new bv(r))}{if(!(e instanceof Ex||e instanceof Sx))throw new Zg(Qg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yv.fromString(t,...n));return fx(r),new Ex(e.firestore,e instanceof Sx?e.converter:null,new bv(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PS(this,"async_queue_retry"),this.Vu=()=>{const e=CS();e&&Gg("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=CS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=CS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ev;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch($8){if(!Tv($8))throw $8;Gg("AsyncQueue","Operation failed with retryable error: "+$8)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;throw $g("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=h_.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Jg()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Tx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ax extends vx{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ox,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ox(e),this._firestoreClient=void 0,await e}}}function Ix(e){if(e._terminated)throw new Zg(Qg.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),o=(a=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,u=i,new Kv(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cx(u.experimentalLongPollingOptions),u.useFetchStreams));var a,s,l,u;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ox(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class Cx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cx(Vv.fromBase64String(e))}catch(t){throw new Zg(Qg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cx(Vv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Zg(Qg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vv(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zg(Qg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zg(Qg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dv(this._lat,e._lat)||dv(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=/^__.*__$/;class Mx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Fw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uw(e,this.data,t,this.fieldTransforms)}}class Dx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Fw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jg()}}class Ux{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ux(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Lx(this.Cu)&&Rx.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Fx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||kS(e)}Qu(e,t,n,r=!1){return new Ux({Cu:e,methodName:t,qu:n,path:vv.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vx(e){const t=e._freezeSettings(),n=kS(e._databaseId);return new Fx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bx(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);$x("Data must be an object, but it was:",a,r);const s=Hx(r,a);let l,u;if(o.merge)l=new Uv(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Wx(t,r,n);if(!a.contains(i))throw new Zg(Qg.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Xx(e,i)||e.push(i)}l=new Uv(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new Mx(new hb(s),l,u)}class qx extends Px{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qx}}function zx(e,t){if(Gx(e=Qh(e)))return $x("Unsupported field value:",t,e),Hx(e,t);if(e instanceof Px)return function(e,t){if(!Lx(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zx(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Qh(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fv.fromDate(e);return{timestampValue:gE(t.serializer,n)}}if(e instanceof fv){const n=new fv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gE(t.serializer,n)}}if(e instanceof Nx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cx)return{bytesValue:vE(t.serializer,e._byteString)};if(e instanceof Ex){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:EE(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof jx)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return pw(n.serializer,e)})}}}}};var n;throw t.Bu(`Unsupported field value: ${mx(e)}`)}(e,t)}function Hx(e,t){const n={};return Nv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pv(e,(e,r)=>{const i=zx(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Gx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fv||e instanceof Nx||e instanceof Cx||e instanceof Ex||e instanceof Px||e instanceof jx)}function $x(e,t,n){if(!Gx(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=mx(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function Wx(e,t,n){if((t=Qh(t))instanceof kx)return t._internalPath;if("string"==typeof t)return Jx(e,t);throw Yx("Field path arguments must be of type string or ",e,!1,void 0,n)}const Kx=new RegExp("[~\\*/\\[\\]]");function Jx(e,t,n){if(t.search(Kx)>=0)throw Yx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new kx(...t.split("."))._internalPath}catch(r){throw Yx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yx(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Zg(Qg.INVALID_ARGUMENT,s+e+l)}function Xx(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ex(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zx extends Qx{data(){return super.data()}}function eO(e,t){return"string"==typeof t?Jx(e,t):t instanceof kx?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{}class nO extends tO{}function rO(e,t,...n){let r=[];t instanceof tO&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof aO).length,n=e.filter(e=>e instanceof iO).length;if(t>1||t>0&&n>0)throw new Zg(Qg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class iO extends nO{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new iO(e,t,n)}_apply(e){const t=this._parse(e);return hO(e._query,t),new wx(e.firestore,e.converter,Wb(e._query,t))}_parse(e){const t=Vx(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zg(Qg.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){dO(a,o);const t=[];for(const n of a)t.push(cO(r,e,n));s={arrayValue:{values:t}}}else s=cO(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dO(a,o),s=function(e,t,n,r=!1){return zx(n,e.Qu(r?4:3,t))}(n,t,a,"in"===o||"not-in"===o);return Eb.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function oO(e,t,n){const r=t,i=eO("where",e);return iO._create(i,r,n)}class aO extends tO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new aO(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Sb.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hO(n,i),n=Wb(n,i)}(e._query,t),new wx(e.firestore,e.converter,Wb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sO extends nO{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sO(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zg(Qg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zg(Qg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vb(t,n)}(e._query,this._field,this._direction);return new wx(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function lO(e,t="asc"){const n=t,r=eO("orderBy",e);return sO._create(r,n)}class uO extends nO{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new uO(e,t,n)}_apply(e){return new wx(e.firestore,e.converter,Kb(e._query,this._limit,this._limitType))}}function cO(e,t,n){if("string"==typeof(n=Qh(n))){if(""===n)throw new Zg(Qg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hb(t)&&-1!==n.indexOf("/"))throw new Zg(Qg.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(yv.fromString(n));if(!bv.isDocumentKey(r))throw new Zg(Qg.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ob(e,new bv(r))}if(n instanceof Ex)return ob(e,n._key);throw new Zg(Qg.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mx(n)}.`)}function dO(e,t){if(!Array.isArray(e)||0===e.length)throw new Zg(Qg.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hO(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zg(Qg.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Zg(Qg.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fO{convertValue(e,t="none"){switch(Xv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Pv(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>zv(e.doubleValue));return new jx(i)}convertGeoPoint(e){return new Nx(zv(e.latitude),zv(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=$v(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wv(e));default:return null}}convertTimestamp(e){const t=qv(e);return new fv(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yv.fromString(e);Yg(BE(n));const r=new Jv(n.get(1),n.get(3)),i=new bv(n.popFirst(5));return r.isEqual(t)||$g(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mO extends Qx{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(eO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yO extends mO{data(e={}){return super.data(e)}}class gO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new yO(this._firestore,this._userDataWriter,n.key,n,new pO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zg(Qg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new yO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new yO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:vO(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jg()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e){e=yx(e,Ex);const t=yx(e.firestore,Ax);return function(e,t,n={}){const r=new ev;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new ix({next:s=>{o.Za(),t.enqueueAndForget(()=>E_(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Zg(Qg.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Zg(Qg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new A_(qb(n.path),o,{includeMetadataChanges:!0,_a:!0});return w_(e,a)}(await ux(e),e.asyncQueue,t,n,r)),r.promise}(Ix(t),e._key).then(n=>OO(t,e,n))}class wO extends fO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ex(this.firestore,null,t)}}function EO(e,t,n,...r){e=yx(e,Ex);const i=yx(e.firestore,Ax),o=Vx(i);let a;return a="string"==typeof(t=Qh(t))||t instanceof kx?function(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[Wx(t,r,n)],l=[i];if(o.length%2!=0)throw new Zg(Qg.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Wx(t,o[h])),l.push(o[h+1]);const u=[],c=hb.empty();for(let h=s.length-1;h>=0;--h)if(!Xx(u,s[h])){const e=s[h];let t=l[h];t=Qh(t);const n=a.Nu(e);if(t instanceof qx)u.push(e);else{const r=zx(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new Uv(u);return new Dx(c,d,a.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Qu(1,t,n);$x("Data must be an object, but it was:",i,r);const o=[],a=hb.empty();Pv(r,(e,r)=>{const s=Jx(t,e,n);r=Qh(r);const l=i.Nu(s);if(r instanceof qx)o.push(s);else{const e=zx(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new Uv(o);return new Dx(a,s,i.fieldTransforms)}(o,"updateDoc",e._key,t),xO(i,[a.toMutation(e._key,kw.exists(!0))])}function SO(e,t){const n=yx(e.firestore,Ax),r=xx(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return xO(n,[Bx(Vx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kw.exists(!1))]).then(()=>r)}function _O(e,...t){var n,r,i;e=Qh(e);let o={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Tx(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Tx(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Ex)u=yx(e.firestore,Ax),c=qb(e._key.path),l={next:n=>{t[a]&&t[a](OO(u,e,n))},error:t[a+1],complete:t[a+2]};else{const n=yx(e,wx);u=yx(n.firestore,Ax),c=n._query;const r=new wO(u);l={next:e=>{t[a]&&t[a](new gO(u,r,n,e))},error:t[a+1],complete:t[a+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zg(Qg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new ix(r),o=new A_(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>w_(await ux(e),o)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>E_(await ux(e),o))}}(Ix(u),c,s,l)}function xO(e,t){return function(e,t){const n=new ev;return e.asyncQueue.enqueueAndForget(async()=>F_(await function(e){return lx(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(Ix(e),t)}function OO(e,t,n){const r=n.docs.get(t._key),i=new wO(e);return new mO(e,i,t._key,r,new pO(n.hasPendingWrites,n.fromCache),t.converter)}!function(e,t=!0){qg=pp,up(new Zh("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Ax(new iv(e.getProvider("auth-internal")),new lv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zg(Qg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jv(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),gp(Vg,"4.7.3",e),gp(Vg,"4.7.3","esm2017")}();let TO=null,AO=null,IO=null,CO=!0;try{const e=JSON.parse('{\n  apiKey: "AIzaSyAIFEo79rLOtlEfrHKr7yEcKPAl492hUMQ",\n  authDomain: "project-2605234163790261158.firebaseapp.com",\n  projectId: "project-2605234163790261158",\n  storageBucket: "project-2605234163790261158.firebasestorage.app",\n  messagingSenderId: "1069453061604",\n  appId: "1:1069453061604:web:ecef362b3144dd3eff6bf1",\n  measurementId: "G-NWF5B6WL53"};// Initialize Firebaseconst app = initializeApp(firebaseConfig);const analytics = getAnalytics(app\n\n\n\n\n)');e.apiKey&&(TO=mp(e),AO=function(e=yp()){const t=cp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=cp(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Gh(n.getOptions(),null!=t?t:{}))return e;Rp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Eg,persistence:[Uy,Ey,_y]}),r=Uh("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Og)return;const r=null==t?void 0:t.token;Tg!==r&&(Tg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Qh(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Qh(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Dh("auth");return o&&Wm(n,`http://${o}`),n}(TO),IO=function(e){const t="string"==typeof e?e:"(default)",n=cp("object"==typeof e?e:yp(),"firestore").getImmediate({identifier:t});if(!n._initialized){const e=(()=>{const e=Dh("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&bx(n,...e)}return n}(TO),CO=!1)}catch($8){}
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var kO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=(e,t)=>{const n=B.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:s,...l},u)=>{return B.createElement("svg",{ref:u,...kO,width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:["lucide",`lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,a].join(" "),...l},[...t.map(([e,t])=>B.createElement(e,t)),...Array.isArray(s)?s:[s]]);var c});return n.displayName=`${e}`,n},NO=PO("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jO=PO("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),RO=PO("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),MO=PO("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),DO=PO("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),LO=PO("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),UO=PO("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),FO=PO("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),VO=PO("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),BO=PO("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),qO=PO("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),zO=PO("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),HO=PO("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),GO=PO("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),$O=PO("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),WO=PO("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),KO=PO("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),JO=PO("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YO=PO("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),XO=PO("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),QO=PO("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),ZO=PO("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eT=PO("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),tT=PO("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),nT=PO("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),rT=PO("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),iT=PO("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),oT=PO("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aT=PO("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),sT=PO("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),lT=PO("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),uT=PO("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),cT=PO("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);function dT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=dT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hT(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=dT(e))&&(r&&(r+=" "),r+=t);return r}var fT=Array.isArray,pT="object"==typeof t&&t&&t.Object===Object&&t,mT=pT,yT="object"==typeof self&&self&&self.Object===Object&&self,gT=mT||yT||Function("return this")(),vT=gT.Symbol,bT=vT,wT=Object.prototype,ET=wT.hasOwnProperty,ST=wT.toString,_T=bT?bT.toStringTag:void 0;var xT=function(e){var t=ET.call(e,_T),n=e[_T];try{e[_T]=void 0;var r=!0}catch($8){}var i=ST.call(e);return r&&(t?e[_T]=n:delete e[_T]),i},OT=Object.prototype.toString;var TT=xT,AT=function(e){return OT.call(e)},IT=vT?vT.toStringTag:void 0;var CT=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":IT&&IT in Object(e)?TT(e):AT(e)};var kT=function(e){return null!=e&&"object"==typeof e},PT=CT,NT=kT;var jT=function(e){return"symbol"==typeof e||NT(e)&&"[object Symbol]"==PT(e)},RT=fT,MT=jT,DT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LT=/^\w*$/;var UT=function(e,t){if(RT(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!MT(e))||(LT.test(e)||!DT.test(e)||null!=t&&e in Object(t))};var FT=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const VT=n(FT);var BT=CT,qT=FT;var zT=function(e){if(!qT(e))return!1;var t=BT(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const HT=n(zT);var GT,$T=gT["__core-js_shared__"],WT=(GT=/[^.]+$/.exec($T&&$T.keys&&$T.keys.IE_PROTO||""))?"Symbol(src)_1."+GT:"";var KT=function(e){return!!WT&&WT in e},JT=Function.prototype.toString;var YT=function(e){if(null!=e){try{return JT.call(e)}catch($8){}try{return e+""}catch($8){}}return""},XT=zT,QT=KT,ZT=FT,eA=YT,tA=/^\[object .+?Constructor\]$/,nA=Function.prototype,rA=Object.prototype,iA=nA.toString,oA=rA.hasOwnProperty,aA=RegExp("^"+iA.call(oA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var sA=function(e){return!(!ZT(e)||QT(e))&&(XT(e)?aA:tA).test(eA(e))},lA=function(e,t){return null==e?void 0:e[t]};var uA=function(e,t){var n=lA(e,t);return sA(n)?n:void 0},cA=uA(Object,"create"),dA=cA;var hA=function(){this.__data__=dA?dA(null):{},this.size=0};var fA=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pA=cA,mA=Object.prototype.hasOwnProperty;var yA=function(e){var t=this.__data__;if(pA){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return mA.call(t,e)?t[e]:void 0},gA=cA,vA=Object.prototype.hasOwnProperty;var bA=cA;var wA=hA,EA=fA,SA=yA,_A=function(e){var t=this.__data__;return gA?void 0!==t[e]:vA.call(t,e)},xA=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bA&&void 0===t?"__lodash_hash_undefined__":t,this};function OA(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}OA.prototype.clear=wA,OA.prototype.delete=EA,OA.prototype.get=SA,OA.prototype.has=_A,OA.prototype.set=xA;var TA=OA;var AA=function(){this.__data__=[],this.size=0};var IA=function(e,t){return e===t||e!=e&&t!=t},CA=IA;var kA=function(e,t){for(var n=e.length;n--;)if(CA(e[n][0],t))return n;return-1},PA=kA,NA=Array.prototype.splice;var jA=kA;var RA=kA;var MA=kA;var DA=AA,LA=function(e){var t=this.__data__,n=PA(t,e);return!(n<0)&&(n==t.length-1?t.pop():NA.call(t,n,1),--this.size,!0)},UA=function(e){var t=this.__data__,n=jA(t,e);return n<0?void 0:t[n][1]},FA=function(e){return RA(this.__data__,e)>-1},VA=function(e,t){var n=this.__data__,r=MA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function BA(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}BA.prototype.clear=DA,BA.prototype.delete=LA,BA.prototype.get=UA,BA.prototype.has=FA,BA.prototype.set=VA;var qA=BA,zA=uA(gT,"Map"),HA=TA,GA=qA,$A=zA;var WA=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var KA=function(e,t){var n=e.__data__;return WA(t)?n["string"==typeof t?"string":"hash"]:n.map},JA=KA;var YA=KA;var XA=KA;var QA=KA;var ZA=function(){this.size=0,this.__data__={hash:new HA,map:new($A||GA),string:new HA}},eI=function(e){var t=JA(this,e).delete(e);return this.size-=t?1:0,t},tI=function(e){return YA(this,e).get(e)},nI=function(e){return XA(this,e).has(e)},rI=function(e,t){var n=QA(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function iI(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}iI.prototype.clear=ZA,iI.prototype.delete=eI,iI.prototype.get=tI,iI.prototype.has=nI,iI.prototype.set=rI;var oI=iI,aI=oI;function sI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(sI.Cache||aI),n}sI.Cache=aI;var lI=sI;const uI=n(lI);var cI=lI;var dI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hI=/\\(\\)?/g,fI=function(e){var t=cI(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dI,function(e,n,r,i){t.push(r?i.replace(hI,"$1"):n||e)}),t});var pI=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},mI=pI,yI=fT,gI=jT,vI=vT?vT.prototype:void 0,bI=vI?vI.toString:void 0;var wI=function e(t){if("string"==typeof t)return t;if(yI(t))return mI(t,e)+"";if(gI(t))return bI?bI.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},EI=wI;var SI=function(e){return null==e?"":EI(e)},_I=fT,xI=UT,OI=fI,TI=SI;var AI=function(e,t){return _I(e)?e:xI(e,t)?[e]:OI(TI(e))},II=jT;var CI=function(e){if("string"==typeof e||II(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},kI=AI,PI=CI;var NI=function(e,t){for(var n=0,r=(t=kI(t,e)).length;null!=e&&n<r;)e=e[PI(t[n++])];return n&&n==r?e:void 0},jI=NI;var RI=function(e,t,n){var r=null==e?void 0:jI(e,t);return void 0===r?n:r};const MI=n(RI);const DI=n(function(e){return null==e});var LI=CT,UI=fT,FI=kT;const VI=n(function(e){return"string"==typeof e||!UI(e)&&FI(e)&&"[object String]"==LI(e)});var BI,qI={exports:{}},zI={},HI=Symbol.for("react.element"),GI=Symbol.for("react.portal"),$I=Symbol.for("react.fragment"),WI=Symbol.for("react.strict_mode"),KI=Symbol.for("react.profiler"),JI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),XI=Symbol.for("react.server_context"),QI=Symbol.for("react.forward_ref"),ZI=Symbol.for("react.suspense"),eC=Symbol.for("react.suspense_list"),tC=Symbol.for("react.memo"),nC=Symbol.for("react.lazy"),rC=Symbol.for("react.offscreen");function iC(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case HI:switch(e=e.type){case $I:case KI:case WI:case ZI:case eC:return e;default:switch(e=e&&e.$$typeof){case XI:case YI:case QI:case nC:case tC:case JI:return e;default:return t}}case GI:return t}}}BI=Symbol.for("react.module.reference"),zI.ContextConsumer=YI,zI.ContextProvider=JI,zI.Element=HI,zI.ForwardRef=QI,zI.Fragment=$I,zI.Lazy=nC,zI.Memo=tC,zI.Portal=GI,zI.Profiler=KI,zI.StrictMode=WI,zI.Suspense=ZI,zI.SuspenseList=eC,zI.isAsyncMode=function(){return!1},zI.isConcurrentMode=function(){return!1},zI.isContextConsumer=function(e){return iC(e)===YI},zI.isContextProvider=function(e){return iC(e)===JI},zI.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===HI},zI.isForwardRef=function(e){return iC(e)===QI},zI.isFragment=function(e){return iC(e)===$I},zI.isLazy=function(e){return iC(e)===nC},zI.isMemo=function(e){return iC(e)===tC},zI.isPortal=function(e){return iC(e)===GI},zI.isProfiler=function(e){return iC(e)===KI},zI.isStrictMode=function(e){return iC(e)===WI},zI.isSuspense=function(e){return iC(e)===ZI},zI.isSuspenseList=function(e){return iC(e)===eC},zI.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===$I||e===KI||e===WI||e===ZI||e===eC||e===rC||"object"==typeof e&&null!==e&&(e.$$typeof===nC||e.$$typeof===tC||e.$$typeof===JI||e.$$typeof===YI||e.$$typeof===QI||e.$$typeof===BI||void 0!==e.getModuleId)},zI.typeOf=iC,qI.exports=zI;var oC=qI.exports,aC=CT,sC=kT;var lC=function(e){return"number"==typeof e||sC(e)&&"[object Number]"==aC(e)};const uC=n(lC);var cC=lC;const dC=n(function(e){return cC(e)&&e!=+e});var hC=function(e){return 0===e?0:e>0?1:-1},fC=function(e){return VI(e)&&e.indexOf("%")===e.length-1},pC=function(e){return uC(e)&&!dC(e)},mC=function(e){return pC(e)||VI(e)},yC=0,gC=function(e){var t=++yC;return"".concat(e||"").concat(t)},vC=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!pC(e)&&!VI(e))return r;if(fC(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return dC(n)&&(n=r),i&&n>t&&(n=t),n},bC=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},wC=function(e,t){return pC(e)&&pC(t)?function(n){return e+n*(t-e)}:function(){return t}};function EC(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):MI(e,t))===n}):null}var SC=function(e,t){return pC(e)&&pC(t)?e-t:VI(e)&&VI(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function _C(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xC(e){return(xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var OC=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TC=["points","pathLength"],AC={svg:["viewBox","children"],polygon:TC,polyline:TC},IC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],CC=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!VT(n))return null;var r={};return Object.keys(n).forEach(function(e){IC.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},kC=function(e,t,n){if(!VT(e)||"object"!==xC(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];IC.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},PC=["children"],NC=["children"];function jC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var RC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},MC=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},DC=null,LC=null,UC=function e(t){if(t===DC&&Array.isArray(LC))return LC;var n=[];return B.Children.forEach(t,function(t){DI(t)||(oC.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),LC=n,DC=t,n};function FC(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return MC(e)}):[MC(t)],UC(e).forEach(function(e){var t=MI(e,"type.displayName")||MI(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function VC(e,t){var n=FC(e,t);return n&&n[0]}var BC=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!pC(n)||n<=0||!pC(r)||r<=0)},qC=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zC=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!VT(r))return null;var i={};return Object.keys(r).forEach(function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==AC?void 0:AC[r])&&void 0!==i?i:[];return t.startsWith("data-")||!HT(e)&&(r&&o.includes(t)||OC.includes(t))||n&&IC.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])}),i},HC=function e(t,n){if(t===n)return!0;var r=B.Children.count(t);if(r!==B.Children.count(n))return!1;if(0===r)return!0;if(1===r)return GC(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!GC(o,a))return!1}return!0},GC=function(e,t){if(DI(e)&&DI(t))return!0;if(!DI(e)&&!DI(t)){var n=e.props||{},r=n.children,i=jC(n,PC),o=t.props||{},a=o.children,s=jC(o,NC);return r&&a?_C(i,s)&&HC(r,a):!r&&!a&&_C(i,s)}return!1},$C=function(e,t){var n=[],r={};return UC(e).forEach(function(e,i){if(function(e){return e&&e.type&&VI(e.type)&&qC.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=MC(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}}),n},WC=["children","width","height","viewBox","className","style","title","desc"];function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KC.apply(this,arguments)}function JC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YC(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=JC(e,WC),c=i||{width:n,height:r,x:0,y:0},d=hT("recharts-surface",o);return q.createElement("svg",KC({},zC(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),q.createElement("title",null,s),q.createElement("desc",null,l),t)}var XC=["children","className"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QC.apply(this,arguments)}function ZC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ek=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=ZC(e,XC),o=hT("recharts-layer",r);return q.createElement("g",QC({className:o},zC(i,!0),{ref:t}),n)}),tk=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};var nk=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var rk=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:nk(e,t,n)},ik=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ok=function(e){return ik.test(e)};var ak=function(e){return e.split("")},sk="\\ud800-\\udfff",lk="["+sk+"]",uk="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ck="\\ud83c[\\udffb-\\udfff]",dk="[^"+sk+"]",hk="(?:\\ud83c[\\udde6-\\uddff]){2}",fk="[\\ud800-\\udbff][\\udc00-\\udfff]",pk="(?:"+uk+"|"+ck+")"+"?",mk="[\\ufe0e\\ufe0f]?",yk=mk+pk+("(?:\\u200d(?:"+[dk,hk,fk].join("|")+")"+mk+pk+")*"),gk="(?:"+[dk+uk+"?",uk,hk,fk,lk].join("|")+")",vk=RegExp(ck+"(?="+ck+")|"+gk+yk,"g");var bk=ak,wk=ok,Ek=function(e){return e.match(vk)||[]};var Sk=rk,_k=ok,xk=function(e){return wk(e)?Ek(e):bk(e)},Ok=SI;const Tk=n(function(e){return function(t){t=Ok(t);var n=_k(t)?xk(t):void 0,r=n?n[0]:t.charAt(0),i=n?Sk(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"));function Ak(e){return function(){return e}}const Ik=Math.cos,Ck=Math.sin,kk=Math.sqrt,Pk=Math.PI,Nk=2*Pk,jk=Math.PI,Rk=2*jk,Mk=1e-6,Dk=Rk-Mk;function Lk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Uk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Lk:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Lk;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,d=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Mk)if(Math.abs(c*s-l*u)>Mk&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,y=Math.sqrt(p),g=Math.sqrt(d),v=i*Math.tan((jk-Math.acos((p+d-m)/(2*y*g)))/2),b=v/g,w=v/y;Math.abs(b-1)>Mk&&this._append`L${e+b*u},${t+b*c}`,this._append`A${i},${i},0,0,${+(c*h>u*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Mk||Math.abs(this._y1-u)>Mk)&&this._append`L${l},${u}`,n&&(d<0&&(d=d%Rk+Rk),d>Dk?this._append`A${n},${n},0,1,${c},${e-a},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:d>Mk&&this._append`A${n},${n},0,${+(d>=jk)},${c},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Fk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Uk(t)}function Vk(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Bk(e){this._context=e}function qk(e){return new Bk(e)}function zk(e){return e[0]}function Hk(e){return e[1]}function Gk(e,t){var n=Ak(!0),r=null,i=qk,o=null,a=Fk(s);function s(s){var l,u,c,d=(s=Vk(s)).length,h=!1;for(null==r&&(o=i(c=a())),l=0;l<=d;++l)!(l<d&&n(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,l,s),+t(u,l,s));if(c)return o=null,c+""||null}return e="function"==typeof e?e:void 0===e?zk:Ak(e),t="function"==typeof t?t:void 0===t?Hk:Ak(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Ak(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Ak(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:Ak(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function $k(e,t,n){var r=null,i=Ak(!0),o=null,a=qk,s=null,l=Fk(u);function u(u){var c,d,h,f,p,m=(u=Vk(u)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),c=0;c<=m;++c){if(!(c<m&&i(f=u[c],c,u))===y)if(y=!y)d=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=d;--h)s.point(g[h],v[h]);s.lineEnd(),s.areaEnd()}y&&(g[c]=+e(f,c,u),v[c]=+t(f,c,u),s.point(r?+r(f,c,u):g[c],n?+n(f,c,u):v[c]))}if(p)return s=null,p+""||null}function c(){return Gk().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?zk:Ak(+e),t="function"==typeof t?t:Ak(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Hk:Ak(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:Ak(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:Ak(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Ak(+e),u):r},u.y=function(e){return arguments.length?(t="function"==typeof e?e:Ak(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:Ak(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Ak(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:Ak(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Wk{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Kk={draw(e,t){const n=kk(t/Pk);e.moveTo(n,0),e.arc(0,0,n,0,Nk)}},Jk={draw(e,t){const n=kk(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Yk=kk(1/3),Xk=2*Yk,Qk={draw(e,t){const n=kk(t/Xk),r=n*Yk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Zk={draw(e,t){const n=kk(t),r=-n/2;e.rect(r,r,n,n)}},eP=Ck(Pk/10)/Ck(7*Pk/10),tP=Ck(Nk/10)*eP,nP=-Ik(Nk/10)*eP,rP={draw(e,t){const n=kk(.8908130915292852*t),r=tP*n,i=nP*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Nk*o/5,a=Ik(t),s=Ck(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},iP=kk(3),oP={draw(e,t){const n=-kk(t/(3*iP));e.moveTo(0,2*n),e.lineTo(-iP*n,-n),e.lineTo(iP*n,-n),e.closePath()}},aP=-.5,sP=kk(3)/2,lP=1/kk(12),uP=3*(lP/2+1),cP={draw(e,t){const n=kk(t/uP),r=n/2,i=n*lP,o=r,a=n*lP+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(aP*r-sP*i,sP*r+aP*i),e.lineTo(aP*o-sP*a,sP*o+aP*a),e.lineTo(aP*s-sP*l,sP*s+aP*l),e.lineTo(aP*r+sP*i,aP*i-sP*r),e.lineTo(aP*o+sP*a,aP*a-sP*o),e.lineTo(aP*s+sP*l,aP*l-sP*s),e.closePath()}};function dP(){}function hP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fP(e){this._context=e}function pP(e){this._context=e}function mP(e){this._context=e}function yP(e){this._context=e}function gP(e){return e<0?-1:1}function vP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(gP(o)+gP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function bP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function EP(e){this._context=e}function SP(e){this._context=new _P(e)}function _P(e){this._context=e}function xP(e){this._context=e}function OP(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function TP(e,t){this._context=e,this._t=t}function AP(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function IP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function CP(e,t){return e[t]}function kP(e){const t=[];return t.key=e,t}function PP(e){return(PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pP.prototype={areaStart:dP,areaEnd:dP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},yP.prototype={areaStart:dP,areaEnd:dP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},EP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wP(this,this._t0,bP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wP(this,bP(this,n=vP(this,e,t)),n);break;default:wP(this,this._t0,n=vP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(SP.prototype=Object.create(EP.prototype)).point=function(e,t){EP.prototype.point.call(this,t,e)},_P.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},xP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=OP(e),i=OP(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},TP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var NP=["type","size","sizeType"];function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(t){DP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DP(e,t,n){var r;return r=function(e,t){if("object"!=PP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=PP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PP(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var UP={symbolCircle:Kk,symbolCross:Jk,symbolDiamond:Qk,symbolSquare:Zk,symbolStar:rP,symbolTriangle:oP,symbolWye:cP},FP=Math.PI/180,VP=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,u=MP(MP({},LP(e,NP)),{},{type:i,size:a,sizeType:l}),c=u.className,d=u.cx,h=u.cy,f=zC(u,!0);return d===+d&&h===+h&&a===+a?q.createElement("path",jP({},f,{className:hT("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(Tk(e));return UP[t]||Kk}(i),n=function(e,t){let n=null,r=Fk(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Ak(e||Kk),t="function"==typeof t?t:Ak(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Ak(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Ak(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*FP;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,i)),n())})):null};function BP(e){return(BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(this,arguments)}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HP(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GP(e,t,n){return t=WP(t),function(e,t){if(t&&("object"===BP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$P()?Reflect.construct(t,n||[],WP(e).constructor):t.apply(e,n))}function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($P=function(){return!!e})()}function WP(e){return(WP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KP(e,t){return(KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function JP(e,t,n){return(t=YP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YP(e){var t=function(e,t){if("object"!=BP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=BP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==BP(t)?t:t+""}VP.registerSymbol=function(e,t){UP["symbol".concat(Tk(e))]=t};var XP=32,QP=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GP(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KP(e,t)}(e,B.PureComponent),HP(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=XP/6,i=XP/3,o=e.inactive?t:e.color;if("plainline"===e.type)return q.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:XP,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return q.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(XP,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return q.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(XP,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(q.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(t){JP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete a.legendIcon,q.cloneElement(e.legendIcon,a)}return q.createElement(VP,{fill:o,cx:n,cy:n,size:XP,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:XP,height:XP},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||o,c=hT(JP(JP({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=HT(t.value)?null:t.value;tk(!HT(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?a:t.color;return q.createElement("li",qP({className:c,style:l,key:"legend-item-".concat(n)},kC(e.props,t,n)),q.createElement(YC,{width:r,height:r,viewBox:s,style:u},e.renderIcon(t)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(d,t,n):d))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();JP(QP,"displayName","Legend"),JP(QP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZP=qA;var eN=qA,tN=zA,nN=oI;var rN=qA,iN=function(){this.__data__=new ZP,this.size=0},oN=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},aN=function(e){return this.__data__.get(e)},sN=function(e){return this.__data__.has(e)},lN=function(e,t){var n=this.__data__;if(n instanceof eN){var r=n.__data__;if(!tN||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nN(r)}return n.set(e,t),this.size=n.size,this};function uN(e){var t=this.__data__=new rN(e);this.size=t.size}uN.prototype.clear=iN,uN.prototype.delete=oN,uN.prototype.get=aN,uN.prototype.has=sN,uN.prototype.set=lN;var cN=uN;var dN=oI,hN=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},fN=function(e){return this.__data__.has(e)};function pN(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dN;++t<n;)this.add(e[t])}pN.prototype.add=pN.prototype.push=hN,pN.prototype.has=fN;var mN=pN;var yN=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var gN=function(e,t){return e.has(t)},vN=mN,bN=yN,wN=gN;var EN=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&n?new vN:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var y=a?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!bN(t,function(e,t){if(!wN(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)})){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var SN=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},_N=gT.Uint8Array,xN=IA,ON=EN,TN=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},AN=SN,IN=vT?vT.prototype:void 0,CN=IN?IN.valueOf:void 0;var kN=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new _N(e),new _N(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xN(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=TN;case"[object Set]":var l=1&r;if(s||(s=AN),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=ON(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(CN)return CN.call(e)==CN.call(t)}return!1};var PN=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},NN=PN,jN=fT;var RN=function(e,t,n){var r=t(e);return jN(e)?r:NN(r,n(e))};var MN=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},DN=function(){return[]},LN=Object.prototype.propertyIsEnumerable,UN=Object.getOwnPropertySymbols,FN=UN?function(e){return null==e?[]:(e=Object(e),MN(UN(e),function(t){return LN.call(e,t)}))}:DN;var VN=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},BN=CT,qN=kT;var zN,HN,GN,$N,WN,KN,JN,YN,XN=function(e){return qN(e)&&"[object Arguments]"==BN(e)},QN=kT,ZN=Object.prototype,ej=ZN.hasOwnProperty,tj=ZN.propertyIsEnumerable,nj=XN(function(){return arguments}())?XN:function(e){return QN(e)&&ej.call(e,"callee")&&!tj.call(e,"callee")},rj={exports:{}};zN=rj,GN=gT,$N=function(){return!1},WN=(HN=rj.exports)&&!HN.nodeType&&HN,KN=WN&&zN&&!zN.nodeType&&zN,JN=KN&&KN.exports===WN?GN.Buffer:void 0,YN=(JN?JN.isBuffer:void 0)||$N,zN.exports=YN;var ij=rj.exports,oj=/^(?:0|[1-9]\d*)$/;var aj=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&oj.test(e))&&e>-1&&e%1==0&&e<t};var sj=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},lj=CT,uj=sj,cj=kT,dj={};dj["[object Float32Array]"]=dj["[object Float64Array]"]=dj["[object Int8Array]"]=dj["[object Int16Array]"]=dj["[object Int32Array]"]=dj["[object Uint8Array]"]=dj["[object Uint8ClampedArray]"]=dj["[object Uint16Array]"]=dj["[object Uint32Array]"]=!0,dj["[object Arguments]"]=dj["[object Array]"]=dj["[object ArrayBuffer]"]=dj["[object Boolean]"]=dj["[object DataView]"]=dj["[object Date]"]=dj["[object Error]"]=dj["[object Function]"]=dj["[object Map]"]=dj["[object Number]"]=dj["[object Object]"]=dj["[object RegExp]"]=dj["[object Set]"]=dj["[object String]"]=dj["[object WeakMap]"]=!1;var hj=function(e){return cj(e)&&uj(e.length)&&!!dj[lj(e)]};var fj=function(e){return function(t){return e(t)}},pj={exports:{}};!function(e,t){var n=pT,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch($8){}}();e.exports=a}(pj,pj.exports);var mj=pj.exports,yj=hj,gj=fj,vj=mj&&mj.isTypedArray,bj=vj?gj(vj):yj,wj=VN,Ej=nj,Sj=fT,_j=ij,xj=aj,Oj=bj,Tj=Object.prototype.hasOwnProperty;var Aj=function(e,t){var n=Sj(e),r=!n&&Ej(e),i=!n&&!r&&_j(e),o=!n&&!r&&!i&&Oj(e),a=n||r||i||o,s=a?wj(e.length,String):[],l=s.length;for(var u in e)!t&&!Tj.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||xj(u,l))||s.push(u);return s},Ij=Object.prototype;var Cj=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ij)};var kj=function(e,t){return function(n){return e(t(n))}},Pj=kj(Object.keys,Object),Nj=Cj,jj=Pj,Rj=Object.prototype.hasOwnProperty;var Mj=zT,Dj=sj;var Lj=function(e){return null!=e&&Dj(e.length)&&!Mj(e)},Uj=Aj,Fj=function(e){if(!Nj(e))return jj(e);var t=[];for(var n in Object(e))Rj.call(e,n)&&"constructor"!=n&&t.push(n);return t},Vj=Lj;var Bj=function(e){return Vj(e)?Uj(e):Fj(e)},qj=RN,zj=FN,Hj=Bj;var Gj=function(e){return qj(e,Hj,zj)},$j=Object.prototype.hasOwnProperty;var Wj=function(e,t,n,r,i,o){var a=1&n,s=Gj(e),l=s.length;if(l!=Gj(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:$j.call(t,c)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var m=e[c=s[u]],y=t[c];if(r)var g=a?r(y,m,c,t,e,o):r(m,y,c,e,t,o);if(!(void 0===g?m===y||i(m,y,n,r,o):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f},Kj=uA(gT,"DataView"),Jj=uA(gT,"Promise"),Yj=uA(gT,"Set"),Xj=Kj,Qj=zA,Zj=Jj,eR=Yj,tR=uA(gT,"WeakMap"),nR=CT,rR=YT,iR="[object Map]",oR="[object Promise]",aR="[object Set]",sR="[object WeakMap]",lR="[object DataView]",uR=rR(Xj),cR=rR(Qj),dR=rR(Zj),hR=rR(eR),fR=rR(tR),pR=nR;(Xj&&pR(new Xj(new ArrayBuffer(1)))!=lR||Qj&&pR(new Qj)!=iR||Zj&&pR(Zj.resolve())!=oR||eR&&pR(new eR)!=aR||tR&&pR(new tR)!=sR)&&(pR=function(e){var t=nR(e),n="[object Object]"==t?e.constructor:void 0,r=n?rR(n):"";if(r)switch(r){case uR:return lR;case cR:return iR;case dR:return oR;case hR:return aR;case fR:return sR}return t});var mR=cN,yR=EN,gR=kN,vR=Wj,bR=pR,wR=fT,ER=ij,SR=bj,_R="[object Arguments]",xR="[object Array]",OR="[object Object]",TR=Object.prototype.hasOwnProperty;var AR=function(e,t,n,r,i,o){var a=wR(e),s=wR(t),l=a?xR:bR(e),u=s?xR:bR(t),c=(l=l==_R?OR:l)==OR,d=(u=u==_R?OR:u)==OR,h=l==u;if(h&&ER(e)){if(!ER(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new mR),a||SR(e)?yR(e,t,n,r,i,o):gR(e,t,l,n,r,i,o);if(!(1&n)){var f=c&&TR.call(e,"__wrapped__"),p=d&&TR.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,y=p?t.value():t;return o||(o=new mR),i(m,y,n,r,o)}}return!!h&&(o||(o=new mR),vR(e,t,n,r,i,o))},IR=kT;var CR=function e(t,n,r,i,o){return t===n||(null==t||null==n||!IR(t)&&!IR(n)?t!=t&&n!=n:AR(t,n,r,i,e,o))},kR=cN,PR=CR;var NR=FT;var jR=function(e){return e==e&&!NR(e)},RR=jR,MR=Bj;var DR=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},LR=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new kR;if(r)var h=r(u,c,l,e,t,d);if(!(void 0===h?PR(c,u,3,r,d):h))return!1}}return!0},UR=function(e){for(var t=MR(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,RR(i)]}return t},FR=DR;var VR=AI,BR=nj,qR=fT,zR=aj,HR=sj,GR=CI;var $R=function(e,t){return null!=e&&t in Object(e)},WR=function(e,t,n){for(var r=-1,i=(t=VR(t,e)).length,o=!1;++r<i;){var a=GR(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&HR(i)&&zR(a,i)&&(qR(e)||BR(e))};var KR=CR,JR=RI,YR=function(e,t){return null!=e&&WR(e,t,$R)},XR=UT,QR=jR,ZR=DR,eM=CI;var tM=function(e){return e};var nM=NI;var rM=function(e){return function(t){return null==t?void 0:t[e]}},iM=function(e){return function(t){return nM(t,e)}},oM=UT,aM=CI;var sM=function(e){var t=UR(e);return 1==t.length&&t[0][2]?FR(t[0][0],t[0][1]):function(n){return n===e||LR(n,e,t)}},lM=function(e,t){return XR(e)&&QR(t)?ZR(eM(e),t):function(n){var r=JR(n,e);return void 0===r&&r===t?YR(n,e):KR(t,r,3)}},uM=tM,cM=fT,dM=function(e){return oM(e)?rM(aM(e)):iM(e)};var hM=function(e){return"function"==typeof e?e:null==e?uM:"object"==typeof e?cM(e)?lM(e[0],e[1]):sM(e):dM(e)};var fM=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var pM=fM,mM=function(e){return e!=e},yM=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var gM=function(e,t,n){return t==t?yM(e,t,n):pM(e,mM,n)};var vM=function(e,t){return!!(null==e?0:e.length)&&gM(e,t,0)>-1};var bM=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var wM=Yj,EM=function(){},SM=wM&&1/SN(new wM([,-0]))[1]==1/0?function(e){return new wM(e)}:EM,_M=mN,xM=vM,OM=bM,TM=gN,AM=SM,IM=SN;var CM=hM,kM=function(e,t,n){var r=-1,i=xM,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=OM;else if(o>=200){var u=t?null:AM(e);if(u)return IM(u);a=!1,i=TM,l=new _M}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s};const PM=n(function(e,t){return e&&e.length?kM(e,CM(t)):[]});function NM(e,t,n){return!0===t?PM(e,n):HT(t)?PM(e,t):e}function jM(e){return(jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var RM=["ref"];function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(t){qM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zM(r.key),r)}}function UM(e,t,n){return t=VM(t),function(e,t){if(t&&("object"===jM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FM()?Reflect.construct(t,n||[],VM(e).constructor):t.apply(e,n))}function FM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FM=function(){return!!e})()}function VM(e){return(VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BM(e,t){return(BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qM(e,t,n){return(t=zM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zM(e){var t=function(e,t){if("object"!=jM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=jM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jM(t)?t:t+""}function HM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GM(e){return e.value}var $M=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qM(t=UM(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BM(e,t)}(e,B.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=DM(DM({},this.defaultProps),e.props).layout;return"vertical"===n&&pC(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?DM({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),DM(DM({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,l=DM(DM({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return q.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if("function"==typeof e)return q.createElement(e,t);t.ref;var n=HM(t,RM);return q.createElement(QP,n)}(n,DM(DM({},this.props),{},{payload:NM(s,a,GM)})))}}])&&LM(t.prototype,n),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();qM($M,"displayName","Legend"),qM($M,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WM=nj,KM=fT,JM=vT?vT.isConcatSpreadable:void 0;var YM=PN,XM=function(e){return KM(e)||WM(e)||!!(JM&&e&&e[JM])};var QM=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=XM),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):YM(o,l):i||(o[o.length]=l)}return o};var ZM=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),eD=Bj;var tD=function(e,t){return e&&ZM(e,t,eD)},nD=Lj;var rD=function(e,t){return function(n,r){if(null==n)return n;if(!nD(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(tD),iD=rD,oD=Lj;var aD=function(e,t){var n=-1,r=oD(e)?Array(e.length):[];return iD(e,function(e,i,o){r[++n]=t(e,i,o)}),r};var sD=jT;var lD=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=sD(e),a=void 0!==t,s=null===t,l=t==t,u=sD(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var uD=pI,cD=NI,dD=hM,hD=aD,fD=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},pD=fj,mD=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=lD(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},yD=tM,gD=fT;var vD=function(e,t,n){t=t.length?uD(t,function(e){return gD(e)?function(t){return cD(t,1===e.length?e[0]:e)}:e}):[yD];var r=-1;t=uD(t,pD(dD));var i=hD(e,function(e,n,i){return{criteria:uD(t,function(t){return t(e)}),index:++r,value:e}});return fD(i,function(e,t){return mD(e,t,n)})};var bD=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},wD=Math.max;var ED=function(e,t,n){return t=wD(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=wD(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),bD(e,this,s)}};var SD=function(e){return function(){return e}},_D=uA,xD=function(){try{var e=_D(Object,"defineProperty");return e({},"",{}),e}catch($8){}}(),OD=SD,TD=xD,AD=TD?function(e,t){return TD(e,"toString",{configurable:!0,enumerable:!1,value:OD(t),writable:!0})}:tM,ID=Date.now;var CD=function(e){var t=0,n=0;return function(){var r=ID(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(AD),kD=tM,PD=ED,ND=CD;var jD=IA,RD=Lj,MD=aj,DD=FT;var LD=function(e,t,n){if(!DD(n))return!1;var r=typeof t;return!!("number"==r?RD(n)&&MD(t,n.length):"string"==r&&t in n)&&jD(n[t],e)},UD=QM,FD=vD,VD=LD;const BD=n(function(e,t){return ND(PD(e,t,kD),e+"")}(function(e,t){if(null==e)return[];var n=t.length;return n>1&&VD(e,t[0],t[1])?t=[]:n>2&&VD(t[0],t[1],t[2])&&(t=[t[0]]),FD(e,UD(t,1),[])}));function qD(e){return(qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zD(){return zD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zD.apply(this,arguments)}function HD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(t){KD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KD(e,t,n){var r;return r=function(e,t){if("object"!=qD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JD(e){return Array.isArray(e)&&mC(e[0])&&mC(e[1])?e.join(" ~ "):e}var YD=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,s=e.labelStyle,l=void 0===s?{}:s,u=e.payload,c=e.formatter,d=e.itemSorter,h=e.wrapperClassName,f=e.labelClassName,p=e.label,m=e.labelFormatter,y=e.accessibilityLayer,g=void 0!==y&&y,v=WD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=WD({margin:0},l),w=!DI(p),E=w?p:"",S=hT("recharts-default-tooltip",h),_=hT("recharts-tooltip-label",f);w&&m&&null!=u&&(E=m(p,u));var x=g?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",zD({className:S,style:v},x),q.createElement("p",{className:_,style:b},q.isValidElement(E)?E:"".concat(E)),function(){if(u&&u.length){var e=(d?BD(u,d):u).map(function(e,t){if("none"===e.type)return null;var r=WD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||c||JD,o=e.value,s=e.name,l=o,d=s;if(i&&null!=l&&null!=d){var h=i(o,s,e,t,u);if(Array.isArray(h)){var f=HD(h,2);l=f[0],d=f[1]}else l=h}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},mC(d)?q.createElement("span",{className:"recharts-tooltip-item-name"},d):null,mC(d)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},l),q.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function XD(e){return(XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QD(e,t,n){var r;return r=function(e,t){if("object"!=XD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=XD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==XD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZD="recharts-tooltip-wrapper",eL={visibility:"hidden"};function tL(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return hT(ZD,QD(QD(QD(QD({},"".concat(ZD,"-right"),pC(n)&&t&&pC(t.x)&&n>=t.x),"".concat(ZD,"-left"),pC(n)&&t&&pC(t.x)&&n<t.x),"".concat(ZD,"-bottom"),pC(r)&&t&&pC(t.y)&&r>=t.y),"".concat(ZD,"-top"),pC(r)&&t&&pC(t.y)&&r<t.y))}function nL(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&pC(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?c:d:a[r]?c<l[r]?Math.max(d,l[r]):Math.max(c,l[r]):d+s>l[r]+u?Math.max(c,l[r]):Math.max(d,l[r])}function rL(e){return(rL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(t){dL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aL(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hL(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sL(e,t,n){return t=uL(t),function(e,t){if(t&&("object"===rL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lL()?Reflect.construct(t,n||[],uL(e).constructor):t.apply(e,n))}function lL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lL=function(){return!!e})()}function uL(e){return(uL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cL(e,t){return(cL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dL(e,t,n){return(t=hL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hL(e){var t=function(e,t){if("object"!=rL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=rL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==rL(t)?t:t+""}var fL=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dL(t=sL(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dL(t,"handleKeyDown",function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cL(e,t)}(e,B.PureComponent),aL(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,s=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,c=t.offset,d=t.position,h=t.reverseDirection,f=t.useTranslate3d,p=t.viewBox,m=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=nL({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),translateY:n=nL({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:u}):eL,cssClasses:tL({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:p}),g=y.cssClasses,v=y.cssProperties,b=oL(oL({transition:u&&n?"transform ".concat(i,"ms ").concat(o):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return q.createElement("div",{tabIndex:-1,className:g,style:b,ref:function(t){e.wrapperNode=t}},a)}}])}(),pL=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function mL(e){return(mL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(t){_L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vL(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xL(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bL(e,t,n){return t=EL(t),function(e,t){if(t&&("object"===mL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wL()?Reflect.construct(t,n||[],EL(e).constructor):t.apply(e,n))}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wL=function(){return!!e})()}function EL(e){return(EL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SL(e,t){return(SL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _L(e,t,n){return(t=xL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e){var t=function(e,t){if("object"!=mL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=mL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mL(t)?t:t+""}function OL(e){return e.dataKey}var TL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SL(e,t)}(e,B.PureComponent),vL(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,s=t.coordinate,l=t.filterNull,u=t.isAnimationActive,c=t.offset,d=t.payload,h=t.payloadUniqBy,f=t.position,p=t.reverseDirection,m=t.useTranslate3d,y=t.viewBox,g=t.wrapperStyle,v=null!=d?d:[];l&&v.length&&(v=NM(d.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,OL));var b=v.length>0;return q.createElement(fL,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:u,active:n,coordinate:s,hasPayload:b,offset:c,position:f,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:g},function(e,t){return q.isValidElement(e)?q.cloneElement(e,t):"function"==typeof e?q.createElement(e,t):q.createElement(YD,t)}(a,gL(gL({},this.props),{},{payload:v})))}}])}();_L(TL,"displayName","Tooltip"),_L(TL,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pL,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AL=gT,IL=/\s/;var CL=function(e){for(var t=e.length;t--&&IL.test(e.charAt(t)););return t},kL=/^\s+/;var PL=function(e){return e?e.slice(0,CL(e)+1).replace(kL,""):e},NL=FT,jL=jT,RL=/^[-+]0x[0-9a-f]+$/i,ML=/^0b[01]+$/i,DL=/^0o[0-7]+$/i,LL=parseInt;var UL=function(e){if("number"==typeof e)return e;if(jL(e))return NaN;if(NL(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=NL(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=PL(e);var n=ML.test(e);return n||DL.test(e)?LL(e.slice(2),n?2:8):RL.test(e)?NaN:+e},FL=FT,VL=function(){return AL.Date.now()},BL=UL,qL=Math.max,zL=Math.min;var HL=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=o}function m(){var e=VL();if(p(e))return y(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?zL(n,o-(e-u)):n}(e))}function y(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function g(){var e=VL(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?f(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=BL(t)||0,FL(n)&&(c=!!n.leading,o=(d="maxWait"in n)?qL(BL(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},g.flush=function(){return void 0===s?a:y(VL())},g},GL=FT;const $L=n(function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return GL(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),HL(e,t,{leading:r,maxWait:t,trailing:i})});function WL(e){return(WL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(t){YL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YL(e,t,n){var r;return r=function(e,t){if("object"!=WL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=WL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==WL(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return QL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZL=B.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,a=void 0===o?"100%":o,s=e.height,l=void 0===s?"100%":s,u=e.minWidth,c=void 0===u?0:u,d=e.minHeight,h=e.maxHeight,f=e.children,p=e.debounce,m=void 0===p?0:p,y=e.id,g=e.className,v=e.onResize,b=e.style,w=void 0===b?{}:b,E=B.useRef(null),S=B.useRef();S.current=v,B.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return E.current},configurable:!0})});var _=XL(B.useState({containerWidth:i.width,containerHeight:i.height}),2),x=_[0],O=_[1],T=B.useCallback(function(e,t){O(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);B.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};m>0&&(e=$L(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=E.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(E.current),function(){t.disconnect()}},[T,m]);var A=B.useMemo(function(){var e=x.containerWidth,t=x.containerHeight;if(e<0||t<0)return null;tk(fC(a)||fC(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,l),tk(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=fC(a)?e:a,i=fC(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),h&&i>h&&(i=h)),tk(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,a,l,c,d,n);var o=!Array.isArray(f)&&MC(f.type).endsWith("Chart");return q.Children.map(f,function(e){return q.isValidElement(e)?B.cloneElement(e,JL({width:r,height:i},o?{style:JL({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e})},[n,f,l,h,d,c,x,a]);return q.createElement("div",{id:y?"".concat(y):void 0,className:hT("recharts-responsive-container",g),style:JL(JL({},w),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},A)}),eU=function(e){return null};function tU(e){return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(t){iU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iU(e,t,n){var r;return r=function(e,t){if("object"!=tU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tU(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eU.displayName="Cell";var oU={widthCache:{},cacheCount:0},aU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sU="recharts_measurement_span";var lU=function(e){if(null==e||pL)return{width:0,height:0};var t,n=(t=rU({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(oU.widthCache[r])return oU.widthCache[r];try{var i=document.getElementById(sU);i||((i=document.createElement("span")).setAttribute("id",sU),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=rU(rU({},aU),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return oU.widthCache[r]=s,++oU.cacheCount>2e3&&(oU.cacheCount=0,oU.widthCache={}),s}catch($8){return{width:0,height:0}}};function uU(e){return(uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fU(r.key),r)}}function fU(e){var t=function(e,t){if("object"!=uU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=uU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==uU(t)?t:t+""}var pU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},bU=Object.keys(vU),wU="NaN";var EU=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||yU.test(n)||(this.num=NaN,this.unit=""),bU.includes(n)&&(this.num=function(e,t){return e*vU[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=cU(null!==(n=gU.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&hU(t.prototype,n),r&&hU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function SU(e){if(e.includes(wU))return wU;for(var t=e;t.includes("*")||t.includes("/");){var n,r=cU(null!==(n=pU.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=EU.parse(null!=i?i:""),l=EU.parse(null!=a?a:""),u="*"===o?s.multiply(l):s.divide(l);if(u.isNaN())return wU;t=t.replace(pU,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,d=cU(null!==(c=mU.exec(t))&&void 0!==c?c:[],4),h=d[1],f=d[2],p=d[3],m=EU.parse(null!=h?h:""),y=EU.parse(null!=p?p:""),g="+"===f?m.add(y):m.subtract(y);if(g.isNaN())return wU;t=t.replace(mU,g.toString())}return t}var _U=/\(([^()]*)\)/;function xU(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=cU(_U.exec(t),2)[1];t=t.replace(_U,SU(n))}return t}(t),t=SU(t)}function OU(e){var t=function(e){try{return xU(e)}catch($8){return wU}}(e.slice(5,-1));return t===wU?"":t}var TU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AU=["dx","dy","angle","className","breakAll"];function IU(){return IU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IU.apply(this,arguments)}function CU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var NU=/[ \f\n\r\t\v\u2028\u2029]+/,jU=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return DI(t)||(i=n?t.toString().split(""):t.toString().split(NU)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:lU(e,r).width}}),spaceWidth:n?0:lU("",r).width}}catch($8){return null}},RU=function(e){return[{words:DI(e)?[]:e.toString().split(NU)}]},MU=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!pL){var s=jU({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,u=pC(o),c=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},h=d(t);if(!u)return h;for(var f,p=function(e){var t=c.slice(0,e),n=jU({breakAll:l,style:s,children:t+""}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,y=c.length-1,g=0;m<=y&&g<=c.length-1;){var v=Math.floor((m+y)/2),b=kU(p(v-1),2),w=b[0],E=b[1],S=kU(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(y=v-1),!w&&S){f=E;break}g++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):RU(r)}return RU(r)},DU="#808080",LU=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,a=void 0===o?"1em":o,s=e.capHeight,l=void 0===s?"0.71em":s,u=e.scaleToFit,c=void 0!==u&&u,d=e.textAnchor,h=void 0===d?"start":d,f=e.verticalAnchor,p=void 0===f?"end":f,m=e.fill,y=void 0===m?DU:m,g=CU(e,TU),v=B.useMemo(function(){return MU({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:c,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,c,g.style,g.width]),b=g.dx,w=g.dy,E=g.angle,S=g.className,_=g.breakAll,x=CU(g,AU);if(!mC(n)||!mC(i))return null;var O,T=n+(pC(b)?b:0),A=i+(pC(w)?w:0);switch(p){case"start":O=OU("calc(".concat(l,")"));break;case"middle":O=OU("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:O=OU("calc(".concat(v.length-1," * -").concat(a,")"))}var I=[];if(c){var C=v[0].width,k=g.width;I.push("scale(".concat((pC(k)?k/C:1)/C,")"))}return E&&I.push("rotate(".concat(E,", ").concat(T,", ").concat(A,")")),I.length&&(x.transform=I.join(" ")),q.createElement("text",IU({},zC(x,!0),{x:T,y:A,className:hT("recharts-text",S),textAnchor:h,fill:y.includes("url")?DU:y}),v.map(function(e,t){var n=e.words.join(_?"":" ");return q.createElement("tspan",{x:T,dy:0===t?O:a,key:"".concat(n,"-").concat(t)},n)}))};function UU(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FU(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VU(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=UU,n=(t,n)=>UU(e(t),n),r=(t,n)=>e(t)-n):(t=e===UU||e===FU?e:BU,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function BU(){return 0}function qU(e){return null===e?NaN:+e}const zU=VU(UU).right;VU(qU).center;class HU extends Map{constructor(e,t=$U){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(GU(this,e))}has(e){return super.has(GU(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function GU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $U(e){return null!==e&&"object"==typeof e?e.valueOf():e}function WU(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const KU=Math.sqrt(50),JU=Math.sqrt(10),YU=Math.sqrt(2);function XU(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=KU?10:o>=JU?5:o>=YU?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?XU(e,t,2*n):[s,l,u]}function QU(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?XU(t,e,n):XU(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ZU(e,t,n){return XU(e=+e,t=+t,n=+n)[2]}function eF(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?ZU(t,e,n):ZU(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function tF(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function nF(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function rF(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?WU:function(e=UU){if(e===UU)return WU;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);rF(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}const o=e[t];let a=n,s=r;for(iF(e,n,t),i(e[r],o)>0&&iF(e,n,r);a<s;){for(iF(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?iF(e,n,s):(++s,iF(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function iF(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oF(e,t,n=qU){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function aF(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sF(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const lF=Symbol("implicit");function uF(){var e=new HU,t=[],n=[],r=lF;function i(i){let o=e.get(i);if(void 0===o){if(r!==lF)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new HU;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return uF(t,n).unknown(r)},aF.apply(i,arguments),i}function cF(){var e,t,n=uF().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*c,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return cF(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},aF.apply(d(),arguments)}function dF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dF(t())},e}function hF(){return dF(cF.apply(null,arguments).paddingInner(1))}function fF(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mF(){}var yF=.7,gF=1/yF,vF="\\s*([+-]?\\d+)\\s*",bF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EF=/^#([0-9a-f]{3,8})$/,SF=new RegExp(`^rgb\\(${vF},${vF},${vF}\\)$`),_F=new RegExp(`^rgb\\(${wF},${wF},${wF}\\)$`),xF=new RegExp(`^rgba\\(${vF},${vF},${vF},${bF}\\)$`),OF=new RegExp(`^rgba\\(${wF},${wF},${wF},${bF}\\)$`),TF=new RegExp(`^hsl\\(${bF},${wF},${wF}\\)$`),AF=new RegExp(`^hsla\\(${bF},${wF},${wF},${bF}\\)$`),IF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function CF(){return this.rgb().formatHex()}function kF(){return this.rgb().formatRgb()}function PF(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=EF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?NF(t):3===n?new MF(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?jF(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?jF(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=SF.exec(e))?new MF(t[1],t[2],t[3],1):(t=_F.exec(e))?new MF(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xF.exec(e))?jF(t[1],t[2],t[3],t[4]):(t=OF.exec(e))?jF(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=TF.exec(e))?BF(t[1],t[2]/100,t[3]/100,1):(t=AF.exec(e))?BF(t[1],t[2]/100,t[3]/100,t[4]):IF.hasOwnProperty(e)?NF(IF[e]):"transparent"===e?new MF(NaN,NaN,NaN,0):null}function NF(e){return new MF(e>>16&255,e>>8&255,255&e,1)}function jF(e,t,n,r){return r<=0&&(e=t=n=NaN),new MF(e,t,n,r)}function RF(e,t,n,r){return 1===arguments.length?((i=e)instanceof mF||(i=PF(i)),i?new MF((i=i.rgb()).r,i.g,i.b,i.opacity):new MF):new MF(e,t,n,null==r?1:r);var i}function MF(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function DF(){return`#${VF(this.r)}${VF(this.g)}${VF(this.b)}`}function LF(){const e=UF(this.opacity);return`${1===e?"rgb(":"rgba("}${FF(this.r)}, ${FF(this.g)}, ${FF(this.b)}${1===e?")":`, ${e})`}`}function UF(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function FF(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function VF(e){return((e=FF(e))<16?"0":"")+e.toString(16)}function BF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zF(e,t,n,r)}function qF(e){if(e instanceof zF)return new zF(e.h,e.s,e.l,e.opacity);if(e instanceof mF||(e=PF(e)),!e)return new zF;if(e instanceof zF)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new zF(a,s,l,e.opacity)}function zF(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function HF(e){return(e=(e||0)%360)<0?e+360:e}function GF(e){return Math.max(0,Math.min(1,e||0))}function $F(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}fF(mF,PF,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CF,formatHex:CF,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qF(this).formatHsl()},formatRgb:kF,toString:kF}),fF(MF,RF,pF(mF,{brighter(e){return e=null==e?gF:Math.pow(gF,e),new MF(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yF:Math.pow(yF,e),new MF(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new MF(FF(this.r),FF(this.g),FF(this.b),UF(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DF,formatHex:DF,formatHex8:function(){return`#${VF(this.r)}${VF(this.g)}${VF(this.b)}${VF(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:LF,toString:LF})),fF(zF,function(e,t,n,r){return 1===arguments.length?qF(e):new zF(e,t,n,null==r?1:r)},pF(mF,{brighter(e){return e=null==e?gF:Math.pow(gF,e),new zF(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yF:Math.pow(yF,e),new zF(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new MF($F(e>=240?e-240:e+120,i,r),$F(e,i,r),$F(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zF(HF(this.h),GF(this.s),GF(this.l),UF(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=UF(this.opacity);return`${1===e?"hsl(":"hsla("}${HF(this.h)}, ${100*GF(this.s)}%, ${100*GF(this.l)}%${1===e?")":`, ${e})`}`}}));const WF=e=>()=>e;function KF(e){return 1===(e=+e)?JF:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):WF(isNaN(t)?n:t)}}function JF(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):WF(isNaN(e)?t:e)}const YF=function e(t){var n=KF(t);function r(e,t){var r=n((e=RF(e)).r,(t=RF(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=JF(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function XF(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function QF(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=oV(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function ZF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eV(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tV(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=oV(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var nV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rV=new RegExp(nV.source,"g");function iV(e,t){var n,r,i,o=nV.lastIndex=rV.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=nV.exec(e))&&(r=rV.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:eV(n,r)})),o=rV.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function oV(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?WF(t):("number"===i?eV:"string"===i?(n=PF(t))?(t=n,YF):iV:t instanceof PF?YF:t instanceof Date?ZF:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?QF:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?tV:eV:XF))(e,t)}function aV(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sV(e){return+e}var lV=[0,1];function uV(e){return e}function cV(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function dV(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=cV(i,r),o=n(a,o)):(r=cV(r,i),o=n(o,a)),function(e){return o(r(e))}}function hV(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=cV(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=zU(e,t,1,r)-1;return o[n](i[n](t))}}function fV(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pV(){var e,t,n,r,i,o,a=lV,s=lV,l=oV,u=uV;function c(){var e=Math.min(a.length,s.length);return u!==uV&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?hV:dV,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=r(s,a.map(e),eV)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,sV),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=aV,c()},d.clamp=function(e){return arguments.length?(u=!!e||uV,c()):u!==uV},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function mV(){return pV()(uV,uV)}function yV(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gV(e){return(e=yV(Math.abs(e)))?e[1]:NaN}var vV,bV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wV(e){if(!(t=bV.exec(e)))throw new Error("invalid format: "+e);var t;return new EV({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function EV(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function SV(e,t){var n=yV(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}wV.prototype=EV.prototype,EV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const _V={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SV(100*e,t),r:SV,s:function(e,t){var n=yV(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(vV=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yV(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xV(e){return e}var OV,TV,AV,IV=Array.prototype.map,CV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kV(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?xV:(t=IV.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?xV:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(IV.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=wV(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):_V[v]||(void 0===y&&(y=12),g=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",E=_V[v],S=/[defgprs%]/.test(v);function _(e){var i,o,l,h=b,_=w;if("c"===v)_=E(e)+_,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:E(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0===+e&&"+"!==d&&(x=!1),h=(x?"("===d?d:u:"-"===d||"("===d?"":d)+h,_=("s"===v?CV[8+vV/3]:"")+_+(x&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var O=h.length+e.length+_.length,T=O<p?new Array(p-O+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-_.length:1/0),T=""),n){case"<":e=h+e+_+T;break;case"=":e=h+T+e+_;break;case"^":e=T.slice(0,O=T.length>>1)+h+e+_+T.slice(O);break;default:e=T+h+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=wV(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(gV(t)/3))),i=Math.pow(10,-r),o=CV[8+r/3];return function(e){return n(i*e)+o}}}}function PV(e,t,n,r){var i,o=eF(e,t,n);switch((r=wV(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gV(t)/3)))-gV(Math.abs(e)))}(o,a))||(r.precision=i),AV(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gV(t)-gV(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-gV(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return TV(r)}function NV(e){var t=e.domain;return e.ticks=function(e){var n=t();return QU(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return PV(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=ZU(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function jV(){var e=mV();return e.copy=function(){return fV(e,jV())},aF.apply(e,arguments),NV(e)}function RV(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function MV(e){return Math.log(e)}function DV(e){return Math.exp(e)}function LV(e){return-Math.log(-e)}function UV(e){return-Math.exp(-e)}function FV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VV(e){return(t,n)=>-e(-t,n)}function BV(e){const t=e(MV,DV),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?FV:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=VV(r),i=VV(i),e(LV,UV)):e(MV,DV),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let u,c,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(u=1;u<o;++u)if(c=d<0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}}else for(;d<=h;++d)for(u=o-1;u>=1;--u)if(c=d>0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}2*p.length<f&&(p=QU(a,s,f))}else p=QU(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=wV(n)).precision||(n.trim=!0),n=TV(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(RV(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function qV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HV(e){var t=1,n=e(qV(t),zV(t));return n.constant=function(n){return arguments.length?e(qV(t=+n),zV(t)):t},NV(n)}function GV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $V(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WV(e){return e<0?-e*e:e*e}function KV(e){var t=e(uV,uV),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(uV,uV):.5===n?e($V,WV):e(GV(n),GV(1/n)):n},NV(t)}function JV(){var e=KV(pV());return e.copy=function(){return fV(e,JV()).exponent(e.exponent())},aF.apply(e,arguments),e}function YV(e){return Math.sign(e)*e*e}OV=kV({thousands:",",grouping:[3],currency:["$",""]}),TV=OV.format,AV=OV.formatPrefix;const XV=new Date,QV=new Date;function ZV(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>ZV(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(XV.setTime(+t),QV.setTime(+r),e(XV),e(QV),Math.floor(n(XV,QV))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const eB=ZV(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eB.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ZV(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):eB:null),eB.range;const tB=1e3,nB=6e4,rB=36e5,iB=864e5,oB=6048e5,aB=2592e6,sB=31536e6,lB=ZV(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tB)},(e,t)=>(t-e)/tB,e=>e.getUTCSeconds());lB.range;const uB=ZV(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tB)},(e,t)=>{e.setTime(+e+t*nB)},(e,t)=>(t-e)/nB,e=>e.getMinutes());uB.range;const cB=ZV(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nB)},(e,t)=>(t-e)/nB,e=>e.getUTCMinutes());cB.range;const dB=ZV(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tB-e.getMinutes()*nB)},(e,t)=>{e.setTime(+e+t*rB)},(e,t)=>(t-e)/rB,e=>e.getHours());dB.range;const hB=ZV(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rB)},(e,t)=>(t-e)/rB,e=>e.getUTCHours());hB.range;const fB=ZV(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nB)/iB,e=>e.getDate()-1);fB.range;const pB=ZV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iB,e=>e.getUTCDate()-1);pB.range;const mB=ZV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iB,e=>Math.floor(e/iB));function yB(e){return ZV(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nB)/oB)}mB.range;const gB=yB(0),vB=yB(1),bB=yB(2),wB=yB(3),EB=yB(4),SB=yB(5),_B=yB(6);function xB(e){return ZV(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/oB)}gB.range,vB.range,bB.range,wB.range,EB.range,SB.range,_B.range;const OB=xB(0),TB=xB(1),AB=xB(2),IB=xB(3),CB=xB(4),kB=xB(5),PB=xB(6);OB.range,TB.range,AB.range,IB.range,CB.range,kB.range,PB.range;const NB=ZV(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());NB.range;const jB=ZV(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());jB.range;const RB=ZV(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());RB.every=e=>isFinite(e=Math.floor(e))&&e>0?ZV(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,RB.range;const MB=ZV(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function DB(e,t,n,r,i,o){const a=[[lB,1,tB],[lB,5,5e3],[lB,15,15e3],[lB,30,3e4],[o,1,nB],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,rB],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,iB],[r,2,1728e5],[n,1,oB],[t,1,aB],[t,3,7776e6],[e,1,sB]];function s(t,n,r){const i=Math.abs(n-t)/r,o=VU(([,,e])=>e).right(a,i);if(o===a.length)return e.every(eF(t/sB,n/sB,r));if(0===o)return eB.every(Math.max(eF(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}MB.every=e=>isFinite(e=Math.floor(e))&&e>0?ZV(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,MB.range;const[LB,UB]=DB(MB,jB,OB,mB,hB,cB),[FB,VB]=DB(RB,NB,gB,fB,dB,uB);function BB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zB(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var HB,GB,$B,WB={"-":"",_:" ",0:"0"},KB=/^\s*\d+/,JB=/^%/,YB=/[\\^$*+?|[\]().{}]/g;function XB(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function QB(e){return e.replace(YB,"\\$&")}function ZB(e){return new RegExp("^(?:"+e.map(QB).join("|")+")","i")}function eq(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function tq(e,t,n){var r=KB.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nq(e,t,n){var r=KB.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function iq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aq(e,t,n){var r=KB.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lq(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uq(e,t,n){var r=KB.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function cq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hq(e,t,n){var r=KB.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mq(e,t,n){var r=KB.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yq(e,t,n){var r=KB.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gq(e,t,n){var r=KB.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vq(e,t,n){var r=JB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bq(e,t,n){var r=KB.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wq(e,t,n){var r=KB.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Eq(e,t){return XB(e.getDate(),t,2)}function Sq(e,t){return XB(e.getHours(),t,2)}function _q(e,t){return XB(e.getHours()%12||12,t,2)}function xq(e,t){return XB(1+fB.count(RB(e),e),t,3)}function Oq(e,t){return XB(e.getMilliseconds(),t,3)}function Tq(e,t){return Oq(e,t)+"000"}function Aq(e,t){return XB(e.getMonth()+1,t,2)}function Iq(e,t){return XB(e.getMinutes(),t,2)}function Cq(e,t){return XB(e.getSeconds(),t,2)}function kq(e){var t=e.getDay();return 0===t?7:t}function Pq(e,t){return XB(gB.count(RB(e)-1,e),t,2)}function Nq(e){var t=e.getDay();return t>=4||0===t?EB(e):EB.ceil(e)}function jq(e,t){return e=Nq(e),XB(EB.count(RB(e),e)+(4===RB(e).getDay()),t,2)}function Rq(e){return e.getDay()}function Mq(e,t){return XB(vB.count(RB(e)-1,e),t,2)}function Dq(e,t){return XB(e.getFullYear()%100,t,2)}function Lq(e,t){return XB((e=Nq(e)).getFullYear()%100,t,2)}function Uq(e,t){return XB(e.getFullYear()%1e4,t,4)}function Fq(e,t){var n=e.getDay();return XB((e=n>=4||0===n?EB(e):EB.ceil(e)).getFullYear()%1e4,t,4)}function Vq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+XB(t/60|0,"0",2)+XB(t%60,"0",2)}function Bq(e,t){return XB(e.getUTCDate(),t,2)}function qq(e,t){return XB(e.getUTCHours(),t,2)}function zq(e,t){return XB(e.getUTCHours()%12||12,t,2)}function Hq(e,t){return XB(1+pB.count(MB(e),e),t,3)}function Gq(e,t){return XB(e.getUTCMilliseconds(),t,3)}function $q(e,t){return Gq(e,t)+"000"}function Wq(e,t){return XB(e.getUTCMonth()+1,t,2)}function Kq(e,t){return XB(e.getUTCMinutes(),t,2)}function Jq(e,t){return XB(e.getUTCSeconds(),t,2)}function Yq(e){var t=e.getUTCDay();return 0===t?7:t}function Xq(e,t){return XB(OB.count(MB(e)-1,e),t,2)}function Qq(e){var t=e.getUTCDay();return t>=4||0===t?CB(e):CB.ceil(e)}function Zq(e,t){return e=Qq(e),XB(CB.count(MB(e),e)+(4===MB(e).getUTCDay()),t,2)}function ez(e){return e.getUTCDay()}function tz(e,t){return XB(TB.count(MB(e)-1,e),t,2)}function nz(e,t){return XB(e.getUTCFullYear()%100,t,2)}function rz(e,t){return XB((e=Qq(e)).getUTCFullYear()%100,t,2)}function iz(e,t){return XB(e.getUTCFullYear()%1e4,t,4)}function oz(e,t){var n=e.getUTCDay();return XB((e=n>=4||0===n?CB(e):CB.ceil(e)).getUTCFullYear()%1e4,t,4)}function az(){return"+0000"}function sz(){return"%"}function lz(e){return+e}function uz(e){return Math.floor(+e/1e3)}function cz(e){return new Date(e)}function dz(e){return e instanceof Date?+e:+new Date(+e)}function hz(e,t,n,r,i,o,a,s,l,u){var c=mV(),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function E(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?b:w)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?h(Array.from(e,dz)):h().map(cz)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?E:u(t)},c.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(RV(n,e)):c},c.copy=function(){return fV(c,hz(e,t,n,r,i,o,a,s,l,u))},c}function fz(){var e,t,n,r,i,o=0,a=1,s=uV,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(oV),u.rangeRound=c(aV),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function pz(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mz(){var e=KV(fz());return e.copy=function(){return pz(e,mz()).exponent(e.exponent())},sF.apply(e,arguments)}function yz(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,d=uV,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=oV);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f):[s,l,u]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(oV),f.rangeRound=p(aV),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f}}function gz(){var e=KV(yz());return e.copy=function(){return pz(e,gz()).exponent(e.exponent())},sF.apply(e,arguments)}!function(e){HB=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ZB(i),c=eq(i),d=ZB(o),h=eq(o),f=ZB(a),p=eq(a),m=ZB(s),y=eq(s),g=ZB(l),v=eq(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Eq,e:Eq,f:Tq,g:Lq,G:Fq,H:Sq,I:_q,j:xq,L:Oq,m:Aq,M:Iq,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:lz,s:uz,S:Cq,u:kq,U:Pq,V:jq,w:Rq,W:Mq,x:null,X:null,y:Dq,Y:Uq,Z:Vq,"%":sz},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Bq,e:Bq,f:$q,g:rz,G:oz,H:qq,I:zq,j:Hq,L:Gq,m:Wq,M:Kq,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:lz,s:uz,S:Jq,u:Yq,U:Xq,V:Zq,w:ez,W:tz,x:null,X:null,y:nz,Y:iz,Z:az,"%":sz},E={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return x(e,t,n,r)},d:dq,e:dq,f:gq,g:sq,G:aq,H:fq,I:fq,j:hq,L:yq,m:cq,M:pq,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:uq,Q:bq,s:wq,S:mq,u:nq,U:rq,V:iq,w:tq,W:oq,x:function(e,t,r){return x(e,n,t,r)},X:function(e,t,n){return x(e,r,t,n)},y:sq,Y:aq,Z:lq,"%":vq};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=WB[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=zB(1900,void 0,1);if(x(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qB(zB(o.y,0,1))).getUTCDay(),r=i>4||0===i?TB.ceil(r):TB(r),r=pB.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=BB(zB(o.y,0,1))).getDay(),r=i>4||0===i?vB.ceil(r):vB(r),r=fB.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qB(zB(o.y,0,1)).getUTCDay():BB(zB(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qB(o)):BB(o)}}function x(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=E[i in WB?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),GB=HB.format,HB.parse,$B=HB.utcFormat,HB.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const vz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cF,scaleDiverging:function e(){var t=NV(yz()(uV));return t.copy=function(){return pz(t,e())},sF.apply(t,arguments)},scaleDivergingLog:function e(){var t=BV(yz()).domain([.1,1,10]);return t.copy=function(){return pz(t,e()).base(t.base())},sF.apply(t,arguments)},scaleDivergingPow:gz,scaleDivergingSqrt:function(){return gz.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=HV(yz());return t.copy=function(){return pz(t,e()).constant(t.constant())},sF.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,sV),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,sV):[0,1],NV(r)},scaleImplicit:lF,scaleLinear:jV,scaleLog:function e(){const t=BV(pV()).domain([1,10]);return t.copy=()=>fV(t,e()).base(t.base()),aF.apply(t,arguments),t},scaleOrdinal:uF,scalePoint:hF,scalePow:JV,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=oF(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[zU(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(UU),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},aF.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[zU(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},aF.apply(NV(s),arguments)},scaleRadial:function e(){var t,n=mV(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(YV(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,sV)).map(YV)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},aF.apply(o,arguments),NV(o)},scaleSequential:function e(){var t=NV(fz()(uV));return t.copy=function(){return pz(t,e())},sF.apply(t,arguments)},scaleSequentialLog:function e(){var t=BV(fz()).domain([1,10]);return t.copy=function(){return pz(t,e()).base(t.base())},sF.apply(t,arguments)},scaleSequentialPow:mz,scaleSequentialQuantile:function e(){var t=[],n=uV;function r(e){if(null!=e&&!isNaN(e=+e))return n((zU(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(UU),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return nF(e);if(t>=1)return tF(e);var n,r=(n-1)*t,i=Math.floor(r),o=tF(rF(e,i).subarray(0,i+1));return o+(nF(e.subarray(i+1))-o)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},sF.apply(r,arguments)},scaleSequentialSqrt:function(){return mz.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=HV(fz());return t.copy=function(){return pz(t,e()).constant(t.constant())},sF.apply(t,arguments)},scaleSqrt:function(){return JV.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=HV(pV());return t.copy=function(){return fV(t,e()).constant(t.constant())},aF.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[zU(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},aF.apply(o,arguments)},scaleTime:function(){return aF.apply(hz(FB,VB,RB,NB,gB,fB,dB,uB,lB,GB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return aF.apply(hz(LB,UB,MB,jB,OB,pB,hB,cB,lB,$B).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:PV},Symbol.toStringTag,{value:"Module"}));var bz=jT;var wz=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!bz(a):n(a,s)))var s=a,l=o}return l};var Ez=function(e,t){return e>t},Sz=wz,_z=Ez,xz=tM;const Oz=n(function(e){return e&&e.length?Sz(e,xz,_z):void 0});var Tz=function(e,t){return e<t},Az=wz,Iz=Tz,Cz=tM;const kz=n(function(e){return e&&e.length?Az(e,Cz,Iz):void 0});var Pz=pI,Nz=hM,jz=aD,Rz=fT;var Mz=QM,Dz=function(e,t){return(Rz(e)?Pz:jz)(e,Nz(t))};const Lz=n(function(e,t){return Mz(Dz(e,t),1)});var Uz=CR;const Fz=n(function(e,t){return Uz(e,t)});var Vz,Bz=1e9,qz=!0,zz="[DecimalError] ",Hz=zz+"Invalid argument: ",Gz=zz+"Exponent out of range: ",$z=Math.floor,Wz=Math.pow,Kz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jz=1e7,Yz=9007199254740991,Xz=$z(1286742750677284.5),Qz={};function Zz(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),qz?uH(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=u.length)<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Jz|0,l[o]%=Jz;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,qz?uH(t,d):t}function eH(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hz+e)}function tH(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=aH(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=aH(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}Qz.absoluteValue=Qz.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Qz.comparedTo=Qz.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},Qz.decimalPlaces=Qz.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},Qz.dividedBy=Qz.div=function(e){return nH(this,new this.constructor(e))},Qz.dividedToIntegerBy=Qz.idiv=function(e){var t=this.constructor;return uH(nH(this,new t(e),0,1),t.precision)},Qz.equals=Qz.eq=function(e){return!this.cmp(e)},Qz.exponent=function(){return iH(this)},Qz.greaterThan=Qz.gt=function(e){return this.cmp(e)>0},Qz.greaterThanOrEqualTo=Qz.gte=function(e){return this.cmp(e)>=0},Qz.isInteger=Qz.isint=function(){return this.e>this.d.length-2},Qz.isNegative=Qz.isneg=function(){return this.s<0},Qz.isPositive=Qz.ispos=function(){return this.s>0},Qz.isZero=function(){return 0===this.s},Qz.lessThan=Qz.lt=function(e){return this.cmp(e)<0},Qz.lessThanOrEqualTo=Qz.lte=function(e){return this.cmp(e)<1},Qz.logarithm=Qz.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(Vz))throw Error(zz+"NaN");if(n.s<1)throw Error(zz+(n.s?"NaN":"-Infinity"));return n.eq(Vz)?new r(0):(qz=!1,t=nH(sH(n,o),sH(e,o),o),qz=!0,uH(t,i))},Qz.minus=Qz.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cH(t,e):Zz(t,(e.s=-e.s,e))},Qz.modulo=Qz.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(zz+"NaN");return n.s?(qz=!1,t=nH(n,e,0,1).times(e),qz=!0,n.minus(t)):uH(new r(n),i)},Qz.naturalExponential=Qz.exp=function(){return rH(this)},Qz.naturalLogarithm=Qz.ln=function(){return sH(this)},Qz.negated=Qz.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Qz.plus=Qz.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zz(t,e):cH(t,(e.s=-e.s,e))},Qz.precision=Qz.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Hz+e);if(t=iH(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},Qz.squareRoot=Qz.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(zz+"NaN")}for(e=iH(s),qz=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=tH(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=$z((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(nH(s,o,a+2)).times(.5),tH(o.d).slice(0,a)===(t=tH(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(uH(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return qz=!0,uH(r,n)},Qz.times=Qz.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,f=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,(l=h.length)<(u=f.length)&&(o=h,h=f,f=o,a=l,l=u,u=a),o=[],r=a=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+f[r]*h[i-r-1]+t,o[i--]=s%Jz|0,t=s/Jz|0;o[i]=(o[i]+t)%Jz|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,qz?uH(e,d.precision):e},Qz.toDecimalPlaces=Qz.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(eH(e,0,Bz),void 0===t?t=r.rounding:eH(t,0,8),uH(n,e+iH(n)+1,t))},Qz.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=dH(r,!0):(eH(e,0,Bz),void 0===t?t=i.rounding:eH(t,0,8),n=dH(r=uH(new i(r),e+1,t),!0,e+1)),n},Qz.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?dH(i):(eH(e,0,Bz),void 0===t?t=o.rounding:eH(t,0,8),n=dH((r=uH(new o(i),e+iH(i)+1,t)).abs(),!1,e+iH(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},Qz.toInteger=Qz.toint=function(){var e=this,t=e.constructor;return uH(new t(e),iH(e)+1,t.rounding)},Qz.toNumber=function(){return+this},Qz.toPower=Qz.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=+(e=new l(e));if(!e.s)return new l(Vz);if(!(s=new l(s)).s){if(e.s<1)throw Error(zz+"Infinity");return s}if(s.eq(Vz))return s;if(r=l.precision,e.eq(Vz))return uH(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=u<0?-u:u)<=Yz){for(i=new l(Vz),t=Math.ceil(r/7+4),qz=!1;n%2&&hH((i=i.times(s)).d,t),0!==(n=$z(n/2));)hH((s=s.times(s)).d,t);return qz=!0,e.s<0?new l(Vz).div(i):uH(i,r)}}else if(o<0)throw Error(zz+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,qz=!1,i=e.times(sH(s,r+12)),qz=!0,(i=rH(i)).s=o,i},Qz.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=dH(i,(n=iH(i))<=o.toExpNeg||n>=o.toExpPos):(eH(e,1,Bz),void 0===t?t=o.rounding:eH(t,0,8),r=dH(i=uH(new o(i),e,t),e<=(n=iH(i))||n<=o.toExpNeg,e)),r},Qz.toSignificantDigits=Qz.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(eH(e,1,Bz),void 0===t?t=n.rounding:eH(t,0,8)),uH(new n(this),e,t)},Qz.toString=Qz.valueOf=Qz.val=Qz.toJSON=Qz[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=iH(e),n=e.constructor;return dH(e,t<=n.toExpNeg||t>=n.toExpPos)};var nH=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%Jz|0,r=n/Jz|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*Jz+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,u,c,d,h,f,p,m,y,g,v,b,w,E,S,_,x,O=r.constructor,T=r.s==i.s?1:-1,A=r.d,I=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(zz+"Division by zero");for(l=r.e-i.e,_=I.length,E=A.length,p=(f=new O(T)).d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--l,(v=null==o?o=O.precision:a?o+(iH(r)-iH(i))+1:o)<0)return new O(0);if(v=v/7+2|0,u=0,1==_)for(c=0,I=I[0],v++;(u<E||c)&&v--;u++)b=c*Jz+(A[u]||0),p[u]=b/I|0,c=b%I|0;else{for((c=Jz/(I[0]+1)|0)>1&&(I=e(I,c),A=e(A,c),_=I.length,E=A.length),w=_,y=(m=A.slice(0,_)).length;y<_;)m[y++]=0;(x=I.slice()).unshift(0),S=I[0],I[1]>=Jz/2&&++S;do{c=0,(s=t(I,m,_,y))<0?(g=m[0],_!=y&&(g=g*Jz+(m[1]||0)),(c=g/S|0)>1?(c>=Jz&&(c=Jz-1),1==(s=t(d=e(I,c),m,h=d.length,y=m.length))&&(c--,n(d,_<h?x:I,h))):(0==c&&(s=c=1),d=I.slice()),(h=d.length)<y&&d.unshift(0),n(m,d,y),-1==s&&(s=t(I,m,_,y=m.length))<1&&(c++,n(m,_<y?x:I,y)),y=m.length):0===s&&(c++,m=[0]),p[u++]=c,s&&m[0]?m[y++]=A[w]||0:(m=[A[w]],y=1)}while((w++<E||void 0!==m[0])&&v--)}return p[0]||p.shift(),f.e=l,uH(f,a?o+iH(f)+1:o)}}();function rH(e,t){var n,r,i,o,a,s=0,l=0,u=e.constructor,c=u.precision;if(iH(e)>16)throw Error(Gz+iH(e));if(!e.s)return new u(Vz);for(qz=!1,a=c,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(Wz(2,l))/Math.LN10*2+5|0,n=r=i=new u(Vz),u.precision=a;;){if(r=uH(r.times(e),a),n=n.times(++s),tH((o=i.plus(nH(r,n,a))).d).slice(0,a)===tH(i.d).slice(0,a)){for(;l--;)i=uH(i.times(i),a);return u.precision=c,null==t?(qz=!0,uH(i,c)):i}i=o}}function iH(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function oH(e,t,n){if(t>e.LN10.sd())throw qz=!0,n&&(e.precision=n),Error(zz+"LN10 precision limit exceeded");return uH(new e(e.LN10),t)}function aH(e){for(var t="";e--;)t+="0";return t}function sH(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=e,f=h.d,p=h.constructor,m=p.precision;if(h.s<1)throw Error(zz+(h.s?"NaN":"-Infinity"));if(h.eq(Vz))return new p(0);if(null==t?(qz=!1,u=m):u=t,h.eq(10))return null==t&&(qz=!0),oH(p,u);if(u+=10,p.precision=u,r=(n=tH(f)).charAt(0),o=iH(h),!(Math.abs(o)<15e14))return l=oH(p,u+2,m).times(o+""),h=sH(new p(r+"."+n.slice(1)),u-10).plus(l),p.precision=m,null==t?(qz=!0,uH(h,m)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=tH((h=h.times(e)).d)).charAt(0),d++;for(o=iH(h),r>1?(h=new p("0."+n),o++):h=new p(r+"."+n.slice(1)),s=a=h=nH(h.minus(Vz),h.plus(Vz),u),c=uH(h.times(h),u),i=3;;){if(a=uH(a.times(c),u),tH((l=s.plus(nH(a,new p(i),u))).d).slice(0,u)===tH(s.d).slice(0,u))return s=s.times(2),0!==o&&(s=s.plus(oH(p,u+2,m).times(o+""))),s=nH(s,new p(d),u),p.precision=m,null==t?(qz=!0,uH(s,m)):s;s=l,i+=2}}function lH(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=$z(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),qz&&(e.e>Xz||e.e<-Xz))throw Error(Gz+n)}else e.s=0,e.e=0,e.d=[0];return e}function uH(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,u=d[c=0];else{if((c=Math.ceil((r+1)/7))>=(o=d.length))return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=u/(o=Wz(10,a-i-1))%10|0,l=t<0||void 0!==d[c+1]||u%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?u/Wz(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=iH(e),d.length=1,t=t-o-1,d[0]=Wz(10,(7-t%7)%7),e.e=$z(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=c,o=1,c--):(d.length=c+1,o=Wz(10,7-r),d[c]=i>0?(u/Wz(10,a-i)%Wz(10,i)|0)*o:0),l)for(;;){if(0==c){(d[0]+=o)==Jz&&(d[0]=1,++e.e);break}if(d[c]+=o,d[c]!=Jz)break;d[c--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(qz&&(e.e>Xz||e.e<-Xz))throw Error(Gz+iH(e));return e}function cH(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qz?uH(t,f):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r){for((c=a<0)?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),a>(i=Math.max(Math.ceil(f/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((c=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=Jz-1;--l[o],l[i]+=Jz}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,qz?uH(t,f):t):new h(0)}function dH(e,t,n){var r,i=iH(e),o=tH(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+aH(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+aH(-i-1)+o,n&&(r=n-a)>0&&(o+=aH(r))):i>=a?(o+=aH(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+aH(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=aH(r))),e.s<0?"-"+o:o}function hH(e,t){if(e.length>t)return e.length=t,!0}function fH(e){if(!e||"object"!=typeof e)throw Error(zz+"Object expected");var t,n,r,i=["precision",1,Bz,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!($z(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Hz+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Hz+n+": "+r);this[n]=new this(r)}return this}var pH=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Hz+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):lH(t,e.toString())}if("string"!=typeof e)throw Error(Hz+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Kz.test(e))throw Error(Hz+e);lH(t,e)}if(o.prototype=Qz,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=fH,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Vz=new pH(1);const mH=pH;function yH(e){return function(e){if(Array.isArray(e))return gH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vH=function(e){return e},bH={},wH=function(e){return e===bH},EH=function(e){return function t(){return 0===arguments.length||1===arguments.length&&wH(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},SH=function e(t,n){return 1===t?n:EH(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==bH}).length;return a>=t?n.apply(void 0,i):e(t-a,EH(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return wH(e)?t.shift():e});return n.apply(void 0,yH(o).concat(t))}))})},_H=function(e){return SH(e.length,e)},xH=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OH=_H(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),TH=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AH=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var IH=_H(function(e,t,n){var r=+e;return r+n*(+t-r)}),CH=_H(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),kH=_H(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const PH={rangeStep:function(e,t,n){for(var r=new mH(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new mH(e).abs().log(10).toNumber())+1},interpolateNumber:IH,uninterpolateNumber:CH,uninterpolateTruncation:kH};function NH(e){return function(e){if(Array.isArray(e))return MH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||RH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||RH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RH(e,t){if(e){if("string"==typeof e)return MH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MH(e,t):void 0}}function MH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DH(e){var t=jH(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function LH(e,t,n){if(e.lte(0))return new mH(0);var r=PH.getDigitCount(e.toNumber()),i=new mH(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new mH(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new mH(Math.ceil(s))}function UH(e,t,n){var r=1,i=new mH(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new mH(10).pow(PH.getDigitCount(e)-1),i=new mH(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new mH(Math.floor(e)))}else 0===e?i=new mH(Math.floor((t-1)/2)):n||(i=new mH(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return vH;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}}(OH(function(e){return i.add(new mH(e-a).mul(r)).toNumber()}),xH);return s(0,t)}function FH(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new mH(0),tickMin:new mH(0),tickMax:new mH(0)};var o,a=LH(new mH(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new mH(0):(o=new mH(e).add(t).div(2)).sub(new mH(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new mH(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?FH(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new mH(s).mul(a)),tickMax:o.add(new mH(l).mul(a))})}var VH=AH(function(e){var t=jH(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=jH(DH([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0){var c=u===1/0?[l].concat(NH(xH(0,i-1).map(function(){return 1/0}))):[].concat(NH(xH(0,i-1).map(function(){return-1/0})),[u]);return n>r?TH(c):c}if(l===u)return UH(l,i,o);var d=FH(l,u,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=PH.rangeStep(f,p.add(new mH(.1).mul(h)),h);return n>r?TH(m):m}),BH=AH(function(e,t){var n=jH(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=jH(DH([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(t,2),c=LH(new mH(l).sub(s).div(u-1),o,0),d=[].concat(NH(PH.rangeStep(new mH(s),new mH(l).sub(new mH(.99).mul(c)),c)),[l]);return r>i?TH(d):d});function qH(e,t){throw new Error("Invariant failed")}var zH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function HH(e){return(HH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GH(){return GH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GH.apply(this,arguments)}function $H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tG(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YH(e,t,n){return t=QH(t),function(e,t){if(t&&("object"===HH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XH()?Reflect.construct(t,n||[],QH(e).constructor):t.apply(e,n))}function XH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(XH=function(){return!!e})()}function QH(e){return(QH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZH(e,t){return(ZH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eG(e,t,n){return(t=tG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=function(e,t){if("object"!=HH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=HH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==HH(t)?t:t+""}var nG=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),YH(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZH(e,t)}(e,q.Component),JH(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,u=KH(e,zH),c=zC(u,!1);"x"===this.props.direction&&"number"!==s.type&&qH();var d=o.map(function(e){var o=a(e,i),u=o.x,d=o.y,h=o.value,f=o.errorVal;if(!f)return null;var p,m,y=[];if(Array.isArray(f)){var g=$H(f,2);p=g[0],m=g[1]}else p=m=f;if("vertical"===n){var v=s.scale,b=d+t,w=b+r,E=b-r,S=v(h-p),_=v(h+m);y.push({x1:_,y1:w,x2:_,y2:E}),y.push({x1:S,y1:b,x2:_,y2:b}),y.push({x1:S,y1:w,x2:S,y2:E})}else if("horizontal"===n){var x=l.scale,O=u+t,T=O-r,A=O+r,I=x(h-p),C=x(h+m);y.push({x1:T,y1:C,x2:A,y2:C}),y.push({x1:O,y1:I,x2:O,y2:C}),y.push({x1:T,y1:I,x2:A,y2:I})}return q.createElement(ek,GH({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},c),y.map(function(e){return q.createElement("line",GH({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return q.createElement(ek,{className:"recharts-errorBars"},d)}}])}();function rG(e){return(rG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach(function(t){aG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aG(e,t,n){var r;return r=function(e,t){if("object"!=rG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=rG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eG(nG,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),eG(nG,"displayName","ErrorBar");var sG=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=VC(t,$M);if(!o)return null;var a,s=$M.defaultProps,l=void 0!==s?oG(oG({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?oG(oG({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:yG(t),value:o||i,payload:r}}),oG(oG(oG({},l),$M.getWithHeight(o,r)),{},{payload:a,item:o})};function lG(e){return(lG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uG(e){return function(e){if(Array.isArray(e))return cG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dG(Object(n),!0).forEach(function(t){fG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fG(e,t,n){var r;return r=function(e,t){if("object"!=lG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pG(e,t,n){return DI(e)||DI(t)?n:mC(t)?MI(e,t,n):HT(t)?t(e):n}function mG(e,t,n,r){var i=Lz(e,function(e){return pG(e,t)});if("number"===n){var o=i.filter(function(e){return pC(e)||parseFloat(e)});return o.length?[kz(o),Oz(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!DI(e)}):i).map(function(e){return mC(e)||e instanceof Date?e:""})}var yG=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?hG(hG({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},gG=function(e,t,n,r,i){var o=FC(t.props.children,nG).filter(function(e){return function(e,t,n){return!!DI(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=pG(t,n);if(DI(r))return e;var i=Array.isArray(r)?[kz(r),Oz(r)]:[r,r],o=a.reduce(function(e,n){var r=pG(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},vG=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&gG(e,t,o,r)||mG(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},bG=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},wG=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||a.push(t),o||a.push(n),a},EG=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*hC(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!dC(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},SG=new WeakMap,_G=function(e,t){if("function"!=typeof t)return e;SG.has(e)||SG.set(e,new WeakMap);var n=SG.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},xG=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:cF(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:jV(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:hF(),realScaleType:"point"}:"category"===i?{scale:cF(),realScaleType:"band"}:{scale:jV(),realScaleType:"linear"};if(VI(r)){var s="scale".concat(Tk(r));return{scale:(vz[s]||hF)(),realScaleType:vz[s]?s:"point"}}return HT(r)?{scale:r}:{scale:hF(),realScaleType:"point"}},OG=1e-4,TG=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-OG,o=Math.max(r[0],r[1])+OG,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},AG={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=dC(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}AP(e,t)}},none:AP,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}AP(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],d=c[a][1]||0,h=(d-(c[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,u+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,AP(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=dC(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},IG=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=AG[n],o=function(){var e=Ak([]),t=IP,n=AP,r=CP;function i(i){var o,a,s=Array.from(e.apply(this,arguments),kP),l=s.length,u=-1;for(const e of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(e,s[o].key,u,i)]).data=e;for(o=0,a=Vk(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Ak(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Ak(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?IP:"function"==typeof e?e:Ak(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?AP:e,i):n},i}().keys(r).value(function(e,t){return+pG(e,t,0)}).order(IP).offset(i);return o(e)},CG=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var u=VH(l,i,a);return e.domain([kz(u),Oz(u)]),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:BH(c,i,a)}}return null},kG=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=pG(o,t.dataKey,t.domain[a]);return DI(s)?null:t.scale(s)-i/2+r},PG=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[kz(t.concat([e[0]]).filter(pC)),Oz(t.concat([e[1]]).filter(pC))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},NG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RG=function(e,t,n){if(HT(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(pC(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(NG.test(e[0])){var i=+NG.exec(e[0])[1];r[0]=t[0]-i}else HT(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(pC(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(jG.test(e[1])){var o=+jG.exec(e[1])[1];r[1]=t[1]+o}else HT(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},MG=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=BD(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},DG=function(e,t,n){return e&&e.length?Fz(e,MI(n,"type.defaultProps.domain"))?t:e:t},LG=function(e,t){var n=e.type.defaultProps?hG(hG({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,u=n.hide;return hG(hG({},zC(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:yG(e),value:pG(t,r),type:s,payload:t,chartType:l,hide:u})};function UG(e){return(UG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FG(Object(n),!0).forEach(function(t){BG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BG(e,t,n){var r;return r=function(e,t){if("object"!=UG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==UG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HG=Math.PI/180,GG=function(e){return 180*e/Math.PI},$G=function(e,t,n,r){return{x:e+Math.cos(-HG*r)*n,y:t+Math.sin(-HG*r)*n}},WG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},KG=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:GG(l),angleInRadian:l}},JG=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},YG=function(e,t){var n=e.x,r=e.y,i=KG({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=c.startAngle,h=c.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;u=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;u=f>=h&&f<=d}return u?VG(VG({},t),{},{radius:o,angle:JG(f,t)}):null},XG=function(e){return B.isValidElement(e)||HT(e)||"boolean"==typeof e?"":e.className};function QG(e){return(QG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ZG=["offset"];function e$(e){return function(e){if(Array.isArray(e))return t$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return t$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(t){o$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o$(e,t,n){var r;return r=function(e,t){if("object"!=QG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=QG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==QG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a$(){return a$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a$.apply(this,arguments)}var s$=function(e,t,n){var r,i,o=e.position,a=e.viewBox,s=e.offset,l=e.className,u=a,c=u.cx,d=u.cy,h=u.innerRadius,f=u.outerRadius,p=u.startAngle,m=u.endAngle,y=u.clockWise,g=(h+f)/2,v=function(e,t){return hC(t-e)*Math.min(Math.abs(t-e),360)}(p,m),b=v>=0?1:-1;"insideStart"===o?(r=p+b*s,i=y):"insideEnd"===o?(r=m-b*s,i=!y):"end"===o&&(r=m+b*s,i=y),i=v<=0?i:!i;var w=$G(c,d,g,r),E=$G(c,d,g,r+359*(i?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(E.x,",").concat(E.y),_=DI(e.id)?gC("recharts-radial-line-"):e.id;return q.createElement("text",a$({},n,{dominantBaseline:"central",className:hT("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:_,d:S})),q.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function l$(e){var t,n=e.offset,r=i$({offset:void 0===n?5:n},n$(e,ZG)),i=r.viewBox,o=r.position,a=r.value,s=r.children,l=r.content,u=r.className,c=void 0===u?"":u,d=r.textBreakAll;if(!i||DI(a)&&DI(s)&&!B.isValidElement(l)&&!HT(l))return null;if(B.isValidElement(l))return B.cloneElement(l,r);if(HT(l)){if(t=B.createElement(l,r),B.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=DI(e.children)?t:e.children;return HT(n)?n(r):r}(r);var h=function(e){return"cx"in e&&pC(e.cx)}(i),f=zC(r,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return s$(r,t,f);var p=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=$G(o,a,l+n,u),d=c.x;return{x:d,y:c.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=$G(o,a,(s+l)/2,u);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,u=o.height,c=u>=0?1:-1,d=c*r,h=c>0?"end":"start",f=c>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return i$(i$({},{x:a+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return i$(i$({},{x:a+l/2,y:s+u+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return i$(i$({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===i){var b={x:a+l+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return i$(i$({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var w=n?{width:l,height:u}:{};return"insideLeft"===i?i$({x:a+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},w):"insideRight"===i?i$({x:a+l-m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},w):"insideTop"===i?i$({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?i$({x:a+l/2,y:s+u-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?i$({x:a+m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideTopRight"===i?i$({x:a+l-m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideBottomLeft"===i?i$({x:a+m,y:s+u-d,textAnchor:g,verticalAnchor:h},w):"insideBottomRight"===i?i$({x:a+l-m,y:s+u-d,textAnchor:y,verticalAnchor:h},w):VT(i)&&(pC(i.x)||fC(i.x))&&(pC(i.y)||fC(i.y))?i$({x:a+vC(i.x,l),y:s+vC(i.y,u),textAnchor:"end",verticalAnchor:"end"},w):i$({x:a+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(r);return q.createElement(LU,a$({className:hT("recharts-label",c)},f,p,{breakAll:d}),t)}l$.displayName="Label";var u$=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(pC(p)&&pC(m)){if(pC(c)&&pC(d))return{x:c,y:d,width:p,height:m};if(pC(h)&&pC(f))return{x:h,y:f,width:p,height:m}}return pC(c)&&pC(d)?{x:c,y:d,width:0,height:0}:pC(t)&&pC(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:y}:e.viewBox?e.viewBox:{}};l$.parseViewBox=u$,l$.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=u$(e),o=FC(r,l$).map(function(e,n){return B.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return o;var a=function(e,t){return e?!0===e?q.createElement(l$,{key:"label-implicit",viewBox:t}):mC(e)?q.createElement(l$,{key:"label-implicit",viewBox:t,value:e}):B.isValidElement(e)?e.type===l$?B.cloneElement(e,{key:"label-implicit",viewBox:t}):q.createElement(l$,{key:"label-implicit",content:e,viewBox:t}):HT(e)?q.createElement(l$,{key:"label-implicit",content:e,viewBox:t}):VT(e)?q.createElement(l$,a$({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(e$(o))};const c$=n(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function d$(e){return(d$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h$=["valueAccessor"],f$=["data","dataKey","clockWise","id","textBreakAll"];function p$(e){return function(e){if(Array.isArray(e))return m$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y$(){return y$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y$.apply(this,arguments)}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(t){b$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b$(e,t,n){var r;return r=function(e,t){if("object"!=d$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=d$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var E$=function(e){return Array.isArray(e.value)?c$(e.value):e.value};function S$(e){var t=e.valueAccessor,n=void 0===t?E$:t,r=w$(e,h$),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=w$(r,f$);return i&&i.length?q.createElement(ek,{className:"recharts-label-list"},i.map(function(e,t){var r=DI(o)?n(e,t):pG(e&&e.payload,o),i=DI(s)?{}:{id:"".concat(s,"-").concat(t)};return q.createElement(l$,y$({},zC(e,!0),u,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:l$.parseViewBox(DI(a)?e:v$(v$({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))})):null}function _$(e){return(_$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x$(){return x$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x$.apply(this,arguments)}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(t){A$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A$(e,t,n){var r;return r=function(e,t){if("object"!=_$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}S$.displayName="LabelList",S$.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=FC(e.children,S$).map(function(e,n){return B.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?q.createElement(S$,{key:"labelList-implicit",data:t}):q.isValidElement(e)||HT(e)?q.createElement(S$,{key:"labelList-implicit",data:t,content:e}):VT(e)?q.createElement(S$,y$({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(p$(r)):r};var I$=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(a?1:-1)+r,c=Math.asin(s/u)/HG,d=l?i:i+o*c,h=l?i-o*c:i;return{center:$G(t,n,u,d),circleTangency:$G(t,n,r,d),lineTangency:$G(t,n,u*Math.cos(c*HG),h),theta:c}},C$=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return hC(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=$G(t,n,i,o),u=$G(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var d=$G(t,n,r,o),h=$G(t,n,r,s);c+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},k$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},P$=function(e){var t=T$(T$({},k$),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,d=t.className;if(o<i||u===c)return null;var h,f=hT("recharts-sector",d),p=o-i,m=vC(a,p,0,!0);return h=m>0&&Math.abs(u-c)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=hC(u-l),d=I$({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=I$({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-u):Math.abs(l-u)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):C$({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var E=I$({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=E.circleTangency,_=E.lineTangency,x=E.theta,O=I$({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=O.circleTangency,A=O.lineTangency,I=O.theta,C=s?Math.abs(l-u):Math.abs(l-u)-x-I;if(C<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(A.x,",").concat(A.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):C$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),q.createElement("path",x$({},zC(t,!0),{className:f,d:h,role:"img"}))};function N$(e){return(N$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j$(){return j$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j$.apply(this,arguments)}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(t){D$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D$(e,t,n){var r;return r=function(e,t){if("object"!=N$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=N$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L$={curveBasisClosed:function(e){return new pP(e)},curveBasisOpen:function(e){return new mP(e)},curveBasis:function(e){return new fP(e)},curveBumpX:function(e){return new Wk(e,!0)},curveBumpY:function(e){return new Wk(e,!1)},curveLinearClosed:function(e){return new yP(e)},curveLinear:qk,curveMonotoneX:function(e){return new EP(e)},curveMonotoneY:function(e){return new SP(e)},curveNatural:function(e){return new xP(e)},curveStep:function(e){return new TP(e,.5)},curveStepAfter:function(e){return new TP(e,1)},curveStepBefore:function(e){return new TP(e,0)}},U$=function(e){return e.x===+e.x&&e.y===+e.y},F$=function(e){return e.x},V$=function(e){return e.y},B$=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=void 0!==l&&l,c=function(e,t){if(HT(e))return e;var n="curve".concat(Tk(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?L$[n]||qk:L$["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=u?o.filter(function(e){return U$(e)}):o;if(Array.isArray(a)){var h=u?a.filter(function(e){return U$(e)}):a,f=d.map(function(e,t){return M$(M$({},e),{},{base:h[t]})});return(t="vertical"===s?$k().y(V$).x1(F$).x0(function(e){return e.base.x}):$k().x(F$).y1(V$).y0(function(e){return e.base.y})).defined(U$).curve(c),t(f)}return(t="vertical"===s&&pC(a)?$k().y(V$).x1(F$).x0(a):pC(a)?$k().x(F$).y1(V$).y0(a):Gk().x(F$).y(V$)).defined(U$).curve(c),t(d)},q$=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?B$(e):r;return B.createElement("path",j$({},zC(e,!1),CC(e),{className:hT("recharts-curve",t),d:o,ref:i}))},z$={exports:{}};function H$(){}function G$(){}G$.resetWarningCache=H$;z$.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G$,resetWarningCache:H$};return n.PropTypes=n,n}();const $$=n(z$.exports),{getOwnPropertyNames:W$,getOwnPropertySymbols:K$}=Object,{hasOwnProperty:J$}=Object.prototype;function Y$(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function X$(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);const{cache:i}=r,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);const s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Q$(e){return W$(e).concat(K$(e))}const Z$=Object.hasOwn||((e,t)=>J$.call(e,t));function eW(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:tW,keys:nW}=Object;function rW(e,t){return e.byteLength===t.byteLength&&yW(new Uint8Array(e),new Uint8Array(t))}function iW(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function oW(e,t){return e.byteLength===t.byteLength&&yW(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function aW(e,t){return eW(e.getTime(),t.getTime())}function sW(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lW(e,t){return e===t}function uW(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const r=t.entries();let o=!1,u=0;for(;(s=r.next())&&!s.done;){if(i[u]){u++;continue}const r=a.value,c=s.value;if(n.equals(r[0],c[0],l,u,e,t,n)&&n.equals(r[1],c[1],r[0],c[0],e,t,n)){o=i[u]=!0;break}u++}if(!o)return!1;l++}return!0}const cW=eW;function dW(e,t,n){const r=nW(e);let i=r.length;if(nW(t).length!==i)return!1;for(;i-- >0;)if(!vW(e,t,n,r[i]))return!1;return!0}function hW(e,t,n){const r=Q$(e);let i,o,a,s=r.length;if(Q$(t).length!==s)return!1;for(;s-- >0;){if(i=r[s],!vW(e,t,n,i))return!1;if(o=tW(e,i),a=tW(t,i),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable))return!1}return!0}function fW(e,t){return eW(e.valueOf(),t.valueOf())}function pW(e,t){return e.source===t.source&&e.flags===t.flags}function mW(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const r=t.values();let o=!1,l=0;for(;(s=r.next())&&!s.done;){if(!i[l]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){o=i[l]=!0;break}l++}if(!o)return!1}return!0}function yW(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function gW(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function vW(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Z$(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const bW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wW=Object.prototype.toString;function EW({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:p}){return function(m,y,g){if(m===y)return!0;if(null==m||null==y)return!1;const v=typeof m;if(v!==typeof y)return!1;if("object"!==v)return"number"===v?s(m,y,g):"function"===v&&o(m,y,g);const b=m.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(m,y,g);if(Array.isArray(m))return t(m,y,g);if(b===Date)return r(m,y,g);if(b===RegExp)return c(m,y,g);if(b===Map)return a(m,y,g);if(b===Set)return d(m,y,g);const w=wW.call(m);if("[object Date]"===w)return r(m,y,g);if("[object RegExp]"===w)return c(m,y,g);if("[object Map]"===w)return a(m,y,g);if("[object Set]"===w)return d(m,y,g);if("[object Object]"===w)return"function"!=typeof m.then&&"function"!=typeof y.then&&l(m,y,g);if("[object URL]"===w)return f(m,y,g);if("[object Error]"===w)return i(m,y,g);if("[object Arguments]"===w)return l(m,y,g);if(bW[w])return h(m,y,g);if("[object ArrayBuffer]"===w)return e(m,y,g);if("[object DataView]"===w)return n(m,y,g);if("[object Boolean]"===w||"[object Number]"===w||"[object String]"===w)return u(m,y,g);if(p){let e=p[w];if(!e){const t=null!=(E=m)?E[Symbol.toStringTag]:void 0;t&&(e=p[t])}if(e)return e(m,y,g)}var E;return!1}}const SW=_W();function _W(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=function({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:rW,areArraysEqual:n?hW:iW,areDataViewsEqual:oW,areDatesEqual:aW,areErrorsEqual:sW,areFunctionsEqual:lW,areMapsEqual:n?Y$(uW,hW):uW,areNumbersEqual:cW,areObjectsEqual:n?hW:dW,arePrimitiveWrappersEqual:fW,areRegExpsEqual:pW,areSetsEqual:n?Y$(mW,hW):mW,areTypedArraysEqual:n?Y$(yW,hW):yW,areUrlsEqual:gW,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const e=X$(r.areArraysEqual),t=X$(r.areMapsEqual),n=X$(r.areObjectsEqual),i=X$(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:i})}return r}(e),a=EW(o),s=n?n(a):(l=a,function(e,t,n,r,i,o,a){return l(e,t,a)});var l;return function({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(o,a){const{cache:s=(e?new WeakMap:void 0),meta:l}=n();return t(o,a,{cache:s,equals:r,meta:l,strict:i})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(e,n){return t(e,n,o)}}({circular:t,comparator:a,createState:r,equals:s,strict:i})}function xW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function OW(e){return(OW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TW(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return AW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IW(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=TW(r),o=i[0],a=i.slice(1);return"number"==typeof o?void xW(n.bind(null,a),o):(n(o),void xW(n.bind(null,a)))}"object"===OW(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function CW(e){return(CW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kW(Object(n),!0).forEach(function(t){NW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==CW(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==CW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===CW(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_W({strict:!0}),_W({circular:!0}),_W({circular:!0,strict:!0}),_W({createInternalComparator:()=>eW}),_W({strict:!0,createInternalComparator:()=>eW}),_W({circular:!0,createInternalComparator:()=>eW}),_W({circular:!0,createInternalComparator:()=>eW,strict:!0});var jW=function(e){return e},RW=function(e,t){return Object.keys(t).reduce(function(n,r){return PW(PW({},n),{},NW({},r,e(r,t[r])))},{})},MW=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function DW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||UW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LW(e){return function(e){if(Array.isArray(e))return FW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||UW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UW(e,t){if(e){if("string"==typeof e)return FW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FW(e,t):void 0}}function FW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var VW=1e-4,BW=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},qW=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},zW=function(e,t){return function(n){var r=BW(e,t);return qW(r,n)}},HW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=DW(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],i=l[1],o=l[2],a=l[3]}}var u,c,d=zW(r,o),h=zW(i,a),f=(u=r,c=o,function(e){var t=BW(u,c),n=[].concat(LW(t.map(function(e,t){return e*t}).slice(1)),[0]);return qW(n,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=f(n);if(Math.abs(i-t)<VW||o<VW)return h(n);n=p(n-i/o)}return h(n)};return m.isStepper=!1,m},GW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HW(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<VW&&Math.abs(o)<VW?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return HW(r)}return"function"==typeof r?r:null};function $W(e){return($W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WW(e){return function(e){if(Array.isArray(e))return ZW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KW(Object(n),!0).forEach(function(t){YW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==$W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||QW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QW(e,t){if(e){if("string"==typeof e)return ZW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZW(e,t):void 0}}function ZW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eK=function(e,t,n){return e+(t-e)*n},tK=function(e){return e.from!==e.to},nK=function e(t,n,r){var i=RW(function(e,n){if(tK(n)){var r=XW(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return JW(JW({},n),{},{from:i,velocity:o})}return n},n);return r<1?RW(function(e,t){return tK(t)?JW(JW({},t),{},{velocity:eK(t.velocity,i[e].velocity,r),from:eK(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const rK=function(e,t,n,r,i){var o,a,s,l,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),c=u.reduce(function(n,r){return JW(JW({},n),{},YW({},r,[e[r],t[r]]))},{}),d=u.reduce(function(n,r){return JW(JW({},n),{},YW({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=nK(n,d,o),i(JW(JW(JW({},e),t),RW(function(e,t){return t.from},d))),s=r,Object.values(d).filter(tK).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=RW(function(e,t){return eK.apply(void 0,WW(t).concat([n(a)]))},c);if(i(JW(JW(JW({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var u=RW(function(e,t){return eK.apply(void 0,WW(t).concat([n(1)]))},c);i(JW(JW(JW({},e),t),u))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function iK(e){return(iK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sK(e){return function(e){if(Array.isArray(e))return lK(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uK(Object(n),!0).forEach(function(t){dK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dK(e,t,n){return(t=fK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fK(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fK(e){var t=function(e,t){if("object"!==iK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==iK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iK(t)?t:String(t)}function pK(e,t){return(pK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($8){return!1}}();return function(){var n,r=vK(e);if(t){var i=vK(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yK(this,n)}}function yK(e,t){if(t&&("object"===iK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gK(e)}function gK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vK(e){return(vK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bK=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pK(e,t)}(t,B.PureComponent);var e=mK(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,n,r)).props,a=o.isActive,s=o.attributeName,l=o.from,u=o.to,c=o.steps,d=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(gK(i)),i.changeStyle=i.changeStyle.bind(gK(i)),!a||h<=0)return i.state={style:{}},"function"==typeof d&&(i.state={style:u}),yK(i);if(c&&c.length)i.state={style:c[0].style};else if(l){if("function"==typeof d)return i.state={style:l},yK(i);i.state={style:s?dK({},s,l):l}}else i.state={style:{}};return i}return hK(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(SW(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||o?s:e.to;if(this.state&&l){var d={style:i?dK({},i,c):c};(i&&l[i]!==c||!i&&l!==c)&&this.setState(d)}this.runAnimation(cK(cK({},this.props),{},{from:c,begin:0}))}}else{var h={style:i?dK({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=rK(n,r,GW(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(sK(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,u=r.properties,c=r.onAnimationEnd,d=i>0?n[i-1]:r,h=u||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(sK(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=MW(h,o,s),p=cK(cK(cK({},d.style),l),{},{transition:f});return[].concat(sK(e),[p,o,c]).filter(jW)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=IW());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof u&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?dK({},r,i):i,h=MW(Object.keys(d),n,o);c.start([a,t,cK(cK({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=aK(e,oK),o=B.Children.count(t),a=this.state.style;if("function"==typeof t)return t(a);if(!r||0===o||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return B.cloneElement(e,cK(cK({},i),{},{style:cK(cK({},r),a),className:o}))};return 1===o?s(B.Children.only(t)):q.createElement("div",null,B.Children.map(t,function(e){return s(e)}))}}]),t}();function wK(e){return(wK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EK(){return EK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EK.apply(this,arguments)}function SK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xK(Object(n),!0).forEach(function(t){TK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TK(e,t,n){var r;return r=function(e,t){if("object"!=wK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=wK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wK(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bK.displayName="Animate",bK.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},bK.propTypes={from:$$.oneOfType([$$.object,$$.string]),to:$$.oneOfType([$$.object,$$.string]),attributeName:$$.string,duration:$$.number,begin:$$.number,easing:$$.oneOfType([$$.string,$$.func]),steps:$$.arrayOf($$.shape({duration:$$.number.isRequired,style:$$.object.isRequired,easing:$$.oneOfType([$$.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$$.func]),properties:$$.arrayOf("string"),onAnimationEnd:$$.func})),children:$$.oneOfType([$$.node,$$.func]),isActive:$$.bool,canBegin:$$.bool,onAnimationEnd:$$.func,shouldReAnimate:$$.bool,onAnimationStart:$$.func,onAnimationReStart:$$.func};var AK=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0;d<4;d++)c[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(o+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),o+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(o+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),o+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(o+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),o+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(o+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},IK=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),u=Math.max(i,i+a),c=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=u&&r>=c&&r<=d}return!1},CK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kK=function(e){var t=OK(OK({},CK),e),n=B.useRef(),r=SK(B.useState(-1),2),i=r[0],o=r[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var a=t.x,s=t.y,l=t.width,u=t.height,c=t.radius,d=t.className,h=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isAnimationActive,y=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||u!==+u||0===l||0===u)return null;var g=hT("recharts-rectangle",d);return y?q.createElement(bK,{canBegin:i>0,from:{width:l,height:u,x:a,y:s},to:{width:l,height:u,x:a,y:s},duration:f,animationEasing:h,isActive:y},function(e){var r=e.width,o=e.height,a=e.x,s=e.y;return q.createElement(bK,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},q.createElement("path",EK({},zC(t,!0),{className:g,d:AK(a,s,r,o,c),ref:n})))}):q.createElement("path",EK({},zC(t,!0),{className:g,d:AK(a,s,l,u,c)}))},PK=["points","className","baseLinePoints","connectNulls"];function NK(){return NK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NK.apply(this,arguments)}function jK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RK(e){return function(e){if(Array.isArray(e))return MK(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return MK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DK=function(e){return e&&e.x===+e.x&&e.y===+e.y},LK=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){DK(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),DK(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(RK(e),RK(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},UK=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,o=jK(e,PK);if(!t||!t.length)return null;var a=hT("recharts-polygon",n);if(r&&r.length){var s=o.stroke&&"none"!==o.stroke,l=function(e,t,n){var r=LK(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(LK(t.reverse(),n).slice(1))}(t,r,i);return q.createElement("g",{className:a},q.createElement("path",NK({},zC(o,!0),{fill:"Z"===l.slice(-1)?o.fill:"none",stroke:"none",d:l})),s?q.createElement("path",NK({},zC(o,!0),{fill:"none",d:LK(t,i)})):null,s?q.createElement("path",NK({},zC(o,!0),{fill:"none",d:LK(r,i)})):null)}var u=LK(t,i);return q.createElement("path",NK({},zC(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:a,d:u}))};function FK(){return FK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FK.apply(this,arguments)}var VK=function(e){var t=e.cx,n=e.cy,r=e.r,i=hT("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?B.createElement("circle",FK({},zC(e,!1),CC(e),{className:i,cx:t,cy:n,r:r})):null};function BK(e){return(BK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qK=["x","y","top","left","width","height","className"];function zK(){return zK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zK.apply(this,arguments)}function HK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GK(e,t,n){var r;return r=function(e,t){if("object"!=BK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=BK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BK(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WK=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},KK=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,s=e.left,l=void 0===s?0:s,u=e.width,c=void 0===u?0:u,d=e.height,h=void 0===d?0:d,f=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HK(Object(n),!0).forEach(function(t){GK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:a,left:l,width:c,height:h},$K(e,qK));return pC(n)&&pC(i)&&pC(c)&&pC(h)&&pC(a)&&pC(l)?q.createElement("path",zK({},zC(p,!0),{className:hT("recharts-cross",f),d:WK(n,i,c,h,a,l)})):null},JK=wz,YK=Ez,XK=hM;const QK=n(function(e,t){return e&&e.length?JK(e,XK(t),YK):void 0});var ZK=wz,eJ=hM,tJ=Tz;const nJ=n(function(e,t){return e&&e.length?ZK(e,eJ(t),tJ):void 0});var rJ=["cx","cy","angle","ticks","axisLine"],iJ=["ticks","tick","angle","tickFormatter","stroke"];function oJ(e){return(oJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aJ(){return aJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aJ.apply(this,arguments)}function sJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sJ(Object(n),!0).forEach(function(t){mJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yJ(r.key),r)}}function dJ(e,t,n){return t=fJ(t),function(e,t){if(t&&("object"===oJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hJ()?Reflect.construct(t,n||[],fJ(e).constructor):t.apply(e,n))}function hJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hJ=function(){return!!e})()}function fJ(e){return(fJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pJ(e,t){return(pJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=function(e,t){if("object"!=oJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=oJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oJ(t)?t:t+""}var gJ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dJ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pJ(e,t)}(e,B.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return q.isValidElement(e)?q.cloneElement(e,t):HT(e)?e(t):q.createElement(LU,aJ({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return $G(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=QK(i,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:nJ(i,function(e){return e.coordinate||0}).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=e.axisLine,a=uJ(e,rJ),s=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=$G(t,n,s[0],r),u=$G(t,n,s[1],r),c=lJ(lJ(lJ({},zC(a,!1)),{},{fill:"none"},zC(o,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return q.createElement("line",aJ({className:"recharts-polar-radius-axis-line"},c))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.angle,a=n.tickFormatter,s=n.stroke,l=uJ(n,iJ),u=this.getTickTextAnchor(),c=zC(l,!1),d=zC(i,!1),h=r.map(function(n,r){var l=t.getTickValueCoord(n),h=lJ(lJ(lJ(lJ({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(l.x,", ").concat(l.y,")")},c),{},{stroke:"none",fill:s},d),{},{index:r},l),{},{payload:n});return q.createElement(ek,aJ({className:hT("recharts-polar-radius-axis-tick",XG(i)),key:"tick-".concat(n.coordinate)},kC(t.props,n,r)),e.renderTickItem(i,h,a?a(n.value,r):n.value))});return q.createElement(ek,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?q.createElement(ek,{className:hT("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),l$.renderCallByParent(this.props,this.getViewBox())):null}}])&&cJ(t.prototype,n),r&&cJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function vJ(e){return(vJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bJ(){return bJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bJ.apply(this,arguments)}function wJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wJ(Object(n),!0).forEach(function(t){AJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IJ(r.key),r)}}function _J(e,t,n){return t=OJ(t),function(e,t){if(t&&("object"===vJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xJ()?Reflect.construct(t,n||[],OJ(e).constructor):t.apply(e,n))}function xJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xJ=function(){return!!e})()}function OJ(e){return(OJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TJ(e,t){return(TJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AJ(e,t,n){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e){var t=function(e,t){if("object"!=vJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vJ(t)?t:t+""}mJ(gJ,"displayName","PolarRadiusAxis"),mJ(gJ,"axisType","radiusAxis"),mJ(gJ,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var CJ=Math.PI/180,kJ=1e-5,PJ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_J(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TJ(e,t)}(e,B.PureComponent),t=e,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=$G(n,r,i,e.coordinate),l=$G(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*CJ);return n>kJ?"outer"===t?"start":"end":n<-kJ?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,o=e.axisLineType,a=EJ(EJ({},zC(this.props,!1)),{},{fill:"none"},zC(i,!1));if("circle"===o)return q.createElement(VK,bJ({className:"recharts-polar-angle-axis-line"},a,{cx:t,cy:n,r:r}));var s=this.props.ticks.map(function(e){return $G(t,n,r,e.coordinate)});return q.createElement(UK,bJ({className:"recharts-polar-angle-axis-line"},a,{points:s}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.tickLine,a=n.tickFormatter,s=n.stroke,l=zC(this.props,!1),u=zC(i,!1),c=EJ(EJ({},l),{},{fill:"none"},zC(o,!1)),d=r.map(function(n,r){var d=t.getTickLineCoord(n),h=EJ(EJ(EJ({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:s},u),{},{index:r,payload:n,x:d.x2,y:d.y2});return q.createElement(ek,bJ({className:hT("recharts-polar-angle-axis-tick",XG(i)),key:"tick-".concat(n.coordinate)},kC(t.props,n,r)),o&&q.createElement("line",bJ({className:"recharts-polar-angle-axis-tick-line"},c,d)),i&&e.renderTickItem(i,h,a?a(n.value,r):n.value))});return q.createElement(ek,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:q.createElement(ek,{className:hT("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}],r=[{key:"renderTickItem",value:function(e,t,n){return q.isValidElement(e)?q.cloneElement(e,t):HT(e)?e(t):q.createElement(LU,bJ({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],n&&SJ(t.prototype,n),r&&SJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();AJ(PJ,"displayName","PolarAngleAxis"),AJ(PJ,"axisType","angleAxis"),AJ(PJ,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var NJ=kj(Object.getPrototypeOf,Object),jJ=CT,RJ=NJ,MJ=kT,DJ=Function.prototype,LJ=Object.prototype,UJ=DJ.toString,FJ=LJ.hasOwnProperty,VJ=UJ.call(Object);const BJ=n(function(e){if(!MJ(e)||"[object Object]"!=jJ(e))return!1;var t=RJ(e);if(null===t)return!0;var n=FJ.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&UJ.call(n)==VJ});var qJ=CT,zJ=kT;const HJ=n(function(e){return!0===e||!1===e||zJ(e)&&"[object Boolean]"==qJ(e)});function GJ(e){return(GJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $J(){return $J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$J.apply(this,arguments)}function WJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JJ(Object(n),!0).forEach(function(t){XJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XJ(e,t,n){var r;return r=function(e,t){if("object"!=GJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=GJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==GJ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QJ,ZJ=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},eY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tY=function(e){var t=YJ(YJ({},eY),e),n=B.useRef(),r=WJ(B.useState(-1),2),i=r[0],o=r[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var a=t.x,s=t.y,l=t.upperWidth,u=t.lowerWidth,c=t.height,d=t.className,h=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||u!==+u||c!==+c||0===l&&0===u||0===c)return null;var y=hT("recharts-trapezoid",d);return m?q.createElement(bK,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:l,lowerWidth:u,height:c,x:a,y:s},duration:f,animationEasing:h,isActive:m},function(e){var r=e.upperWidth,o=e.lowerWidth,a=e.height,s=e.x,l=e.y;return q.createElement(bK,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},q.createElement("path",$J({},zC(t,!0),{className:y,d:ZJ(s,l,r,o,a),ref:n})))}):q.createElement("g",null,q.createElement("path",$J({},zC(t,!0),{className:y,d:ZJ(a,s,l,u,c)})))},nY=["option","shapeType","propTransformer","activeClassName","isActive"];function rY(e){return(rY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oY(Object(n),!0).forEach(function(t){sY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sY(e,t,n){var r;return r=function(e,t){if("object"!=rY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=rY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rY(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lY(e,t){return aY(aY({},t),e)}function uY(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(kK,n);case"trapezoid":return q.createElement(tY,n);case"sector":return q.createElement(P$,n);case"symbols":if(function(e){return"symbols"===e}(t))return q.createElement(VP,n);break;default:return null}}function cY(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?lY:i,a=e.activeClassName,s=void 0===a?"recharts-active-shape":a,l=e.isActive,u=iY(e,nY);if(B.isValidElement(n))t=B.cloneElement(n,aY(aY({},u),function(e){return B.isValidElement(e)?e.props:e}(n)));else if(HT(n))t=n(u);else if(BJ(n)&&!HJ(n)){var c=o(n,u);t=q.createElement(uY,{shapeType:r,elementProps:c})}else{var d=u;t=q.createElement(uY,{shapeType:r,elementProps:d})}return l?q.createElement(ek,{className:s},t):t}function dY(e,t){return null!=t&&"trapezoids"in e.props}function hY(e,t){return null!=t&&"sectors"in e.props}function fY(e,t){return null!=t&&"points"in e.props}function pY(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function mY(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function yY(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function gY(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return dY(e,t)?n="trapezoids":hY(e,t)?n="sectors":fY(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return dY(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:hY(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:fY(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=Fz(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return dY(e,t)?n=pY:hY(e,t)?n=mY:fY(e,t)&&(n=yY),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}function vY(e){return(vY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bY(){return bY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bY.apply(this,arguments)}function wY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wY(Object(n),!0).forEach(function(t){AY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IY(r.key),r)}}function _Y(e,t,n){return t=OY(t),function(e,t){if(t&&("object"===vY(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xY()?Reflect.construct(t,n||[],OY(e).constructor):t.apply(e,n))}function xY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xY=function(){return!!e})()}function OY(e){return(OY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TY(e,t){return(TY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=function(e,t){if("object"!=vY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vY(t)?t:t+""}var CY=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),AY(n=_Y(this,e,[t]),"pieRef",null),AY(n,"sectorRefs",[]),AY(n,"id",gC("recharts-pie-")),AY(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),HT(e)&&e()}),AY(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),HT(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TY(e,t)}(e,B.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(q.isValidElement(e))return q.cloneElement(e,t);if(HT(e))return e(t);var r=hT("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return q.createElement(q$,bY({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(q.isValidElement(e))return q.cloneElement(e,t);var r=n;if(HT(e)&&(r=e(t),q.isValidElement(r)))return r;var i=hT("recharts-pie-label-text","boolean"==typeof e||HT(e)?"":e.className);return q.createElement(LU,bY({},t,{alignmentBaseline:"middle",className:i}),r)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,o=n.dataKey,a=n.valueKey,s=zC(this.props,!1),l=zC(r,!1),u=zC(i,!1),c=r&&r.offsetRadius||20,d=t.map(function(t,n){var d=(t.startAngle+t.endAngle)/2,h=$G(t.cx,t.cy,t.outerRadius+c,d),f=EY(EY(EY(EY({},s),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(h.x,t.cx)},h),p=EY(EY(EY(EY({},s),t),{},{fill:"none",stroke:t.fill},u),{},{index:n,points:[$G(t.cx,t.cy,t.outerRadius,d),h]}),m=o;return DI(o)&&DI(a)?m="value":DI(o)&&(m=a),q.createElement(ek,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},i&&e.renderLabelLineItem(i,p,"line"),e.renderLabelItem(r,f,pG(t,m)))});return q.createElement(ek,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map(function(n,a){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(a),l=o&&t.hasActiveIndex()?o:null,u=s?r:l,c=EY(EY({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return q.createElement(ek,bY({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},kC(t.props,n,a),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(a)}),q.createElement(cY,bY({option:u,isActive:s,shapeType:"sector"},c)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,a=t.animationEasing,s=t.animationId,l=this.state,u=l.prevSectors,c=l.prevIsAnimationActive;return q.createElement(bK,{begin:i,duration:o,isActive:r,easing:a,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(c),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,i=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=u&&u[t],a=t>0?MI(e,"paddingAngle",0):0;if(n){var s=wC(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=EY(EY({},e),{},{startAngle:o+a,endAngle:o+s(r)+a});i.push(l),o=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=wC(0,c-d)(r),f=EY(EY({},e),{},{startAngle:o+a,endAngle:o+h+a});i.push(f),o=f.endAngle}}),q.createElement(ek,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&Fz(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,o=t.label,a=t.cx,s=t.cy,l=t.innerRadius,u=t.outerRadius,c=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!pC(a)||!pC(s)||!pC(l)||!pC(u))return null;var h=hT("recharts-pie",i);return q.createElement(ek,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(r),l$.renderCallByParent(this.props,null,!1),(!c||d)&&S$.renderCallByParent(this.props,r,!1))}}])&&SY(t.prototype,n),r&&SY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();QJ=CY,AY(CY,"displayName","Pie"),AY(CY,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pL,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),AY(CY,"parseDeltaAngle",function(e,t){return hC(t-e)*Math.min(Math.abs(t-e),360)}),AY(CY,"getRealPieData",function(e){var t=e.data,n=e.children,r=zC(e,!1),i=FC(n,eU);return t&&t.length?t.map(function(e,t){return EY(EY(EY({payload:e},r),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return EY(EY({},r),e.props)}):[]}),AY(CY,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=WG(i,o);return{cx:r+vC(e.cx,i,i/2),cy:n+vC(e.cy,o,o/2),innerRadius:vC(e.innerRadius,a,0),outerRadius:vC(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}}),AY(CY,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?EY(EY({},t.type.defaultProps),t.props):t.props,i=QJ.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,f=Math.abs(r.minAngle),p=QJ.parseCoordinateOfPie(r,n),m=QJ.parseDeltaAngle(a,s),y=Math.abs(m),g=u;DI(u)&&DI(d)?(tk(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):DI(u)&&(tk(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var v,b,w=i.filter(function(e){return 0!==pG(e,g,0)}).length,E=y-w*f-(y>=360?w:w-1)*l,S=i.reduce(function(e,t){var n=pG(t,g,0);return e+(pC(n)?n:0)},0);S>0&&(v=i.map(function(e,t){var n,r=pG(e,g,0),i=pG(e,c,t),s=(pC(r)?r:0)/S,u=(n=t?b.endAngle+hC(m)*l*(0!==r?1:0):a)+hC(m)*((0!==r?f:0)+s*E),d=(n+u)/2,y=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:g,type:h}],w=$G(p.cx,p.cy,y,d);return b=EY(EY(EY({percent:s,cornerRadius:o,name:i,tooltipPayload:v,midAngle:d,middleRadius:y,tooltipPosition:w},e),p),{},{value:pG(e,g),startAngle:n,endAngle:u,payload:e,paddingAngle:hC(m)*l})}));return EY(EY({},p),{},{sectors:v,data:i})});var kY=Math.ceil,PY=Math.max;var NY=UL,jY=1/0;var RY=function(e){return e?(e=NY(e))===jY||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},MY=function(e,t,n,r){for(var i=-1,o=PY(kY((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},DY=LD,LY=RY;const UY=n(function(e){return function(t,n,r){return r&&"number"!=typeof r&&DY(t,n,r)&&(n=r=void 0),t=LY(t),void 0===n?(n=t,t=0):n=LY(n),r=void 0===r?t<n?1:-1:LY(r),MY(t,n,r,e)}}());function FY(e){return(FY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VY(Object(n),!0).forEach(function(t){qY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qY(e,t,n){var r;return r=function(e,t){if("object"!=FY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=FY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==FY(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zY=["Webkit","Moz","O","ms"];function HY(e){return(HY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GY(){return GY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GY.apply(this,arguments)}function $Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Y(Object(n),!0).forEach(function(t){ZY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eX(r.key),r)}}function JY(e,t,n){return t=XY(t),function(e,t){if(t&&("object"===HY(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YY()?Reflect.construct(t,n||[],XY(e).constructor):t.apply(e,n))}function YY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(YY=function(){return!!e})()}function XY(e){return(XY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QY(e,t){return(QY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ZY(e,t,n){return(t=eX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){var t=function(e,t){if("object"!=HY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=HY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==HY(t)?t:t+""}var tX=function(e){return e.changedTouches&&!!e.changedTouches.length},nX=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ZY(n=JY(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),ZY(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),ZY(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),ZY(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ZY(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ZY(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ZY(n,"handleSlideDragStart",function(e){var t=tX(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QY(e,t)}(e,B.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),q.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return q.isValidElement(t)?q.cloneElement(t,n):HT(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return WY({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=hF().domain(UY(0,s)).range([i,i+o-a]),u=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),u=Math.max(n,r),c=e.getIndexInRange(i,l),d=e.getIndexInRange(i,u);return{startIndex:c-c%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=pG(n[e],i,e);return HT(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===u&&f.endIndex===c||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=tX(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,u=s.width,c=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+u-c-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(ZY(ZY({},r,a+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=f.length-1,("startX"===r&&(i>o?g%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:g%h===0)||i>o&&v===e)&&d(y))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var u=l+e;if(!(-1===u||u>=i.length)){var c=i[u];"startX"===t&&c>=a||"endX"===t&&c<=o||this.setState(ZY({},t,c),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return q.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,a=e.children,s=e.padding,l=B.Children.only(a);return l?q.cloneElement(l,{x:t,y:n,width:r,height:i,margin:s,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,s=a.y,l=a.travellerWidth,u=a.height,c=a.traveller,d=a.ariaLabel,h=a.data,f=a.startIndex,p=a.endIndex,m=Math.max(t,this.props.x),y=WY(WY({},zC(this.props,!1)),{},{x:m,y:s,width:l,height:u}),g=d||"Min value: ".concat(null===(r=h[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=h[p])||void 0===i?void 0:i.name);return q.createElement(ek,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(c,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,l=Math.max(Math.abs(t-e)-a,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,s=this.state,l=s.startX,u=s.endX,c={pointerEvents:"none",fill:a};return q.createElement(ek,{className:"recharts-brush-texts"},q.createElement(LU,GY({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:r+i/2},c),this.getTextOfTick(t)),q.createElement(LU,GY({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+o+5,y:r+i/2},c),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,s=e.height,l=e.alwaysShowText,u=this.state,c=u.startX,d=u.endX,h=u.isTextActive,f=u.isSlideMoving,p=u.isTravellerMoving,m=u.isTravellerFocused;if(!t||!t.length||!pC(i)||!pC(o)||!pC(a)||!pC(s)||a<=0||s<=0)return null;var y,g,v,b,w=hT("recharts-brush",n),E=1===q.Children.count(r),S=(g="none",v=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(b=zY.reduce(function(e,t){return BY(BY({},e),{},qY({},t+v,g))},{}))[y]=g,b);return q.createElement(ek,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(c,d),this.renderTravellerLayer(c,"startX"),this.renderTravellerLayer(d,"endX"),(h||f||p||m||l)&&this.renderText())}}])&&KY(t.prototype,n),r&&KY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();ZY(nX,"displayName","Brush"),ZY(nX,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rX=rD;var iX=yN,oX=hM,aX=function(e,t){var n;return rX(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},sX=fT,lX=LD;const uX=n(function(e,t,n){var r=sX(e)?iX:aX;return n&&lX(e,t,n)&&(t=void 0),r(e,oX(t))});var cX=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},dX=xD;var hX=function(e,t,n){"__proto__"==t&&dX?dX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},fX=tD,pX=hM;const mX=n(function(e,t){var n={};return t=pX(t),fX(e,function(e,r,i){hX(n,r,t(e,r,i))}),n});var yX=rD;var gX=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},vX=function(e,t){var n=!0;return yX(e,function(e,r,i){return n=!!t(e,r,i)}),n},bX=hM,wX=fT,EX=LD;const SX=n(function(e,t,n){var r=wX(e)?gX:vX;return n&&EX(e,t,n)&&(t=void 0),r(e,bX(t))});var _X=["x","y"];function xX(e){return(xX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OX(){return OX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OX.apply(this,arguments)}function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(t){IX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IX(e,t,n){var r;return r=function(e,t){if("object"!=xX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=xX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xX(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kX(e,t){var n=e.x,r=e.y,i=CX(e,_X),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return AX(AX(AX(AX(AX({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function PX(e){return q.createElement(cY,OX({shapeType:"rectangle",propTransformer:kX,activeClassName:"recharts-active-bar"},e))}var NX,jX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i=pC(n)||function(e){return DI(e)}(n);return i?e(n,r):(i||qH(),t)}},RX=["value","background"];function MX(e){return(MX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LX(){return LX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LX.apply(this,arguments)}function UX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UX(Object(n),!0).forEach(function(t){GX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$X(r.key),r)}}function BX(e,t,n){return t=zX(t),function(e,t){if(t&&("object"===MX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qX()?Reflect.construct(t,n||[],zX(e).constructor):t.apply(e,n))}function qX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qX=function(){return!!e})()}function zX(e){return(zX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HX(e,t){return(HX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=function(e,t){if("object"!=MX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=MX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==MX(t)?t:t+""}var WX=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return GX(t=BX(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),GX(t,"id",gC("recharts-bar-")),GX(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),GX(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HX(e,t)}(e,B.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,s=zC(this.props,!1);return e&&e.map(function(e,n){var l=n===o,u=l?a:r,c=FX(FX(FX({},s),e),{},{isActive:l,option:u,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return q.createElement(ek,LX({className:"recharts-bar-rectangle"},kC(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),q.createElement(PX,c))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state.prevData;return q.createElement(bK,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,o=n.map(function(e,t){var n=u&&u[t];if(n){var o=wC(n.x,e.x),a=wC(n.y,e.y),s=wC(n.width,e.width),l=wC(n.height,e.height);return FX(FX({},e),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var c=wC(0,e.height)(i);return FX(FX({},e),{},{y:e.y+e.height-c,height:c})}var d=wC(0,e.width)(i);return FX(FX({},e),{},{width:d})});return q.createElement(ek,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Fz(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=zC(this.props.background,!1);return n.map(function(t,n){t.value;var a=t.background,s=DX(t,RX);if(!a)return null;var l=FX(FX(FX(FX(FX({},s),{},{fill:"#eee"},a),o),kC(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return q.createElement(PX,LX({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,s=FC(n.children,nG);if(!s)return null;var l="vertical"===a?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:pG(e,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return q.createElement(ek,c,s.map(function(e){return q.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:l,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,s=e.top,l=e.width,u=e.height,c=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,p=hT("recharts-bar",r),m=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,g=m||y,v=DI(h)?this.id:h;return q.createElement(ek,{className:p},m||y?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(v)},q.createElement("rect",{x:m?a:a-l/2,y:y?s:s-u/2,width:m?l:2*l,height:y?u:2*u}))):null,q.createElement(ek,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(v,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,v),(!c||f)&&S$.renderCallByParent(this.props,n))}}])&&VX(t.prototype,n),r&&VX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function KX(e){return(KX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZX(r.key),r)}}function YX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YX(Object(n),!0).forEach(function(t){QX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QX(e,t,n){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZX(e){var t=function(e,t){if("object"!=KX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=KX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KX(t)?t:t+""}NX=WX,GX(WX,"displayName","Bar"),GX(WX,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pL,animationBegin:0,animationDuration:400,animationEasing:"ease"}),GX(WX,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,y=void 0!==m?FX(FX({},m),n.props):n.props,g=y.dataKey,v=y.children,b=y.minPointSize,w="horizontal"===p?a:o,E=u?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),_=FC(v,eU),x=d.map(function(e,t){var r,d,h,m,y,v;u?r=function(e,t){if(!t||2!==t.length||!pC(t[0])||!pC(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pC(e[0])||e[0]<n)&&(i[0]=n),(!pC(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[c+t],E):(r=pG(e,g),Array.isArray(r)||(r=[S,r]));var w=jX(b,NX.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var x,O=[a.scale(r[0]),a.scale(r[1])],T=O[0],A=O[1];d=kG({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(x=null!=A?A:T)&&void 0!==x?x:void 0,m=f.size;var I=T-A;if(y=Number.isNaN(I)?0:I,v={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(y)<Math.abs(w)){var C=hC(y||w)*(Math.abs(w)-Math.abs(y));h-=C,y+=C}}else{var k=[o.scale(r[0]),o.scale(r[1])],P=k[0],N=k[1];if(d=P,h=kG({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=N-P,y=f.size,v={x:o.x,y:h,width:o.width,height:y},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=hC(m||w)*(Math.abs(w)-Math.abs(m))}return FX(FX(FX({},e),{},{x:d,y:h,width:m,height:y,value:u?r:r[1],payload:e,background:v},_&&_[t]&&_[t].props),{},{tooltipPayload:[LG(n,e)],tooltipPosition:{x:d+m/2,y:h+y/2}})});return FX({data:x,layout:p},h)});var eQ=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},tQ=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&JX(t.prototype,n),r&&JX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();QX(tQ,"EPS",1e-4);var nQ=function(e){var t=Object.keys(e).reduce(function(t,n){return XX(XX({},t),{},QX({},n,tQ.create(e[n])))},{});return XX(XX({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return mX(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return SX(e,function(e,n){return t[n].isInRange(e)})}})};var rQ=hM,iQ=Lj,oQ=Bj;var aQ=function(e){return function(t,n,r){var i=Object(t);if(!iQ(t)){var o=rQ(n);t=oQ(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}},sQ=RY;var lQ=fM,uQ=hM,cQ=function(e){var t=sQ(e),n=t%1;return t==t?n?t-n:t:0},dQ=Math.max;const hQ=n(aQ(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:cQ(n);return i<0&&(i=dQ(r+i,0)),lQ(e,uQ(t),i)}));var fQ=uI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),pQ=B.createContext(void 0),mQ=B.createContext(void 0),yQ=B.createContext(void 0),gQ=B.createContext({}),vQ=B.createContext(void 0),bQ=B.createContext(0),wQ=B.createContext(0),EQ=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,s=e.width,l=e.height,u=fQ(i);return q.createElement(pQ.Provider,{value:n},q.createElement(mQ.Provider,{value:r},q.createElement(gQ.Provider,{value:i},q.createElement(yQ.Provider,{value:u},q.createElement(vQ.Provider,{value:o},q.createElement(bQ.Provider,{value:l},q.createElement(wQ.Provider,{value:s},a)))))))},SQ=function(e){var t=B.useContext(pQ);null==t&&qH();var n=t[e];return null==n&&qH(),n},_Q=function(e){var t=B.useContext(mQ);null==t&&qH();var n=t[e];return null==n&&qH(),n},xQ=function(){return B.useContext(wQ)},OQ=function(){return B.useContext(bQ)};function TQ(e){return(TQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AQ(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MQ(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IQ(e,t,n){return t=kQ(t),function(e,t){if(t&&("object"===TQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CQ()?Reflect.construct(t,n||[],kQ(e).constructor):t.apply(e,n))}function CQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CQ=function(){return!!e})()}function kQ(e){return(kQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PQ(e,t){return(PQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NQ(Object(n),!0).forEach(function(t){RQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=function(e,t){if("object"!=TQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=TQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TQ(t)?t:t+""}function DQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UQ(){return UQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UQ.apply(this,arguments)}function FQ(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=B.useContext(vQ),c=SQ(i),d=_Q(o),h=B.useContext(yQ);if(!u||!h)return null;tk(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var u=i.x,c=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(cX(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:u+d,y:p},{x:u,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:o});if(cX(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:c+h},{x:g,y:c}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return cX(l,"discard")&&uX(b,function(t){return!e.isInRange(t)})?null:b}return null}(nQ({x:c.scale,y:d.scale}),mC(t),mC(n),r&&2===r.length,h,e.position,c.orientation,d.orientation,e);if(!f)return null;var p=DQ(f,2),m=p[0],y=m.x,g=m.y,v=p[1],b=v.x,w=v.y,E=jQ(jQ({clipPath:cX(e,"hidden")?"url(#".concat(u,")"):void 0},zC(e,!0)),{},{x1:y,y1:g,x2:b,y2:w});return q.createElement(ek,{className:hT("recharts-reference-line",s)},function(e,t){return q.isValidElement(e)?q.cloneElement(e,t):HT(e)?e(t):q.createElement("line",UQ({},t,{className:"recharts-reference-line-line"}))}(a,E),l$.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return eQ({x:t,y:n},{x:r,y:i})}({x1:y,y1:g,x2:b,y2:w})))}var VQ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),IQ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PQ(e,t)}(e,q.Component),AQ(e,[{key:"render",value:function(){return q.createElement(FQ,this.props)}}])}();function BQ(){return BQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BQ.apply(this,arguments)}function qQ(e){return(qQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zQ(Object(n),!0).forEach(function(t){YQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GQ(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XQ(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Q(e,t,n){return t=KQ(t),function(e,t){if(t&&("object"===qQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WQ()?Reflect.construct(t,n||[],KQ(e).constructor):t.apply(e,n))}function WQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WQ=function(){return!!e})()}function KQ(e){return(KQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JQ(e,t){return(JQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=function(e,t){if("object"!=qQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==qQ(t)?t:t+""}RQ(VQ,"displayName","ReferenceLine"),RQ(VQ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var QQ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$Q(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JQ(e,t)}(e,q.Component),GQ(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,s=mC(n),l=mC(r);if(tk(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=nQ({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return cX(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var c=u.x,d=u.y,h=this.props,f=h.shape,p=h.className,m=HQ(HQ({clipPath:cX(this.props,"hidden")?"url(#".concat(a,")"):void 0},zC(this.props,!0)),{},{cx:c,cy:d});return q.createElement(ek,{className:hT("recharts-reference-dot",p)},e.renderDot(f,m),l$.renderCallByParent(this.props,{x:c-i,y:d-i,width:2*i,height:2*i}))}}])}();function ZQ(){return ZQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZQ.apply(this,arguments)}function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(n),!0).forEach(function(t){lZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rZ(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uZ(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iZ(e,t,n){return t=aZ(t),function(e,t){if(t&&("object"===eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oZ()?Reflect.construct(t,n||[],aZ(e).constructor):t.apply(e,n))}function oZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(oZ=function(){return!!e})()}function aZ(e){return(aZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sZ(e,t){return(sZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=function(e,t){if("object"!=eZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=eZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==eZ(t)?t:t+""}YQ(QQ,"displayName","ReferenceDot"),YQ(QQ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),YQ(QQ,"renderDot",function(e,t){return q.isValidElement(e)?q.cloneElement(e,t):HT(e)?e(t):q.createElement(VK,BQ({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var cZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iZ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sZ(e,t)}(e,q.Component),rZ(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,s=t.alwaysShow,l=t.clipPathId;tk(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=mC(n),c=mC(r),d=mC(i),h=mC(o),f=this.props.shape;if(!(u||c||d||h||f))return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var d=nQ({x:u.scale,y:c.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!cX(i,"discard")||d.isInRange(h)&&d.isInRange(f)?eQ(h,f):null}(u,c,d,h,this.props);if(!p&&!f)return null;var m=cX(this.props,"hidden")?"url(#".concat(l,")"):void 0;return q.createElement(ek,{className:hT("recharts-reference-area",a)},e.renderRect(f,nZ(nZ({clipPath:m},zC(this.props,!0)),p)),l$.renderCallByParent(this.props,p))}}])}();function dZ(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function hZ(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function fZ(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function pZ(e){return(pZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mZ(Object(n),!0).forEach(function(t){gZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gZ(e,t,n){var r;return r=function(e,t){if("object"!=pZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=pZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pZ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(pC(l)||pL)return function(e,t){return dZ(e,t+1)}(i,"number"==typeof l&&pC(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=c&&"width"===f?lU(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=HT(u)?u(e.value,r):e.value;return"width"===f?hZ(lU(i,{fontSize:t,letterSpacing:n}),p,d):lU(i,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?hC(i[1].coordinate-i[0].coordinate):1,g=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,y,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,u=0,c=1,d=s,h=function(){var t=null==r?void 0:r[u];if(void 0===t)return{v:dZ(r,c)};var o,a=u,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===u||fZ(e,f,h,d,l);p||(u=0,d=s,c+=1),p&&(d=f+e*(h()/2+i),u+=c)};c<=a.length;)if(o=h())return o.v;return[]}(y,g,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);a[s-1]=c=yZ(yZ({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),fZ(e,c.tickCoord,function(){return d},l,u)&&(u=c.tickCoord-e*(d/2+i),a[s-1]=yZ(yZ({},c),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var c=e*(o.coordinate-e*s()/2-l);a[t]=o=yZ(yZ({},o),{},{tickCoord:c<0?o.coordinate-c*e:o.coordinate})}else a[t]=o=yZ(yZ({},o),{},{tickCoord:o.coordinate});fZ(e,o.tickCoord,s,l,u)&&(l=o.tickCoord+e*(s()/2+i),a[t]=yZ(yZ({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(y,g,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(t){var r,u=o[t],c=function(){return void 0===r&&(r=n(u,t)),r};if(t===a-1){var d=e*(u.coordinate+e*c()/2-l);o[t]=u=yZ(yZ({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate})}else o[t]=u=yZ(yZ({},u),{},{tickCoord:u.coordinate});fZ(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+i),o[t]=yZ(yZ({},u),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}(y,g,m,i,a),h.filter(function(e){return e.isShow}))}lZ(cZ,"displayName","ReferenceArea"),lZ(cZ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),lZ(cZ,"renderRect",function(e,t){return q.isValidElement(e)?q.cloneElement(e,t):HT(e)?e(t):q.createElement(kK,ZQ({},t,{className:"recharts-reference-area-rect"}))});var bZ=["viewBox"],wZ=["viewBox"],EZ=["ticks"];function SZ(e){return(SZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _Z(){return _Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_Z.apply(this,arguments)}function xZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xZ(Object(n),!0).forEach(function(t){NZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TZ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jZ(r.key),r)}}function IZ(e,t,n){return t=kZ(t),function(e,t){if(t&&("object"===SZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CZ()?Reflect.construct(t,n||[],kZ(e).constructor):t.apply(e,n))}function CZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CZ=function(){return!!e})()}function kZ(e){return(kZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PZ(e,t){return(PZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NZ(e,t,n){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jZ(e){var t=function(e,t){if("object"!=SZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=SZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==SZ(t)?t:t+""}var RZ=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=IZ(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PZ(e,t)}(e,B.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=hT(t.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(e)?q.cloneElement(e,OZ(OZ({},t),{},{className:r})):HT(e)?e(OZ(OZ({},t),{},{className:r})):q.createElement(LU,_Z({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=TZ(e,bZ),i=this.props,o=i.viewBox,a=TZ(i,wZ);return!_C(n,o)||!_C(r,a)||!_C(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,u=s.y,c=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||f,v=pC(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=u+ +!p*d)-y*g)-y*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*c)-y*g)-y*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*c)+y*g)+y*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=u+ +p*d)+y*g)+y*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,s=e.axisLine,l=OZ(OZ(OZ({},zC(this.props,!1)),zC(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!a||"bottom"===o&&a);l=OZ(OZ({},l),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var c=+("left"===o&&!a||"right"===o&&a);l=OZ(OZ({},l),{},{x1:t+c*r,y1:n,x2:t+c*r,y2:n+i})}return q.createElement("line",_Z({},l,{className:hT("recharts-cartesian-axis-line",MI(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,l=o.tick,u=o.tickFormatter,c=o.unit,d=vZ(OZ(OZ({},this.props),{},{ticks:t}),n,r),h=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=zC(this.props,!1),m=zC(l,!1),y=OZ(OZ({},p),{},{fill:"none"},zC(a,!1)),g=d.map(function(t,n){var r=i.getTickLineCoord(t),o=r.line,g=r.tick,v=OZ(OZ(OZ(OZ({textAnchor:h,verticalAnchor:f},p),{},{stroke:"none",fill:s},m),g),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:u});return q.createElement(ek,_Z({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},kC(i.props,t,n)),a&&q.createElement("line",_Z({},y,o,{className:hT("recharts-cartesian-axis-tick-line",MI(a,"className"))})),l&&e.renderTickItem(l,v,"".concat(HT(u)?u(t.value,n):t.value).concat(c||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,u=TZ(s,EZ),c=l;return HT(o)&&(c=l&&l.length>0?o(this.props):o(u)),r<=0||i<=0||!c||!c.length?null:q.createElement(ek,{className:hT("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(c,this.state.fontSize,this.state.letterSpacing),l$.renderCallByParent(this.props))}}])&&AZ(t.prototype,n),r&&AZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();NZ(RZ,"displayName","CartesianAxis"),NZ(RZ,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MZ=["x1","y1","x2","y2","key"],DZ=["offset"];function LZ(e){return(LZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UZ(Object(n),!0).forEach(function(t){VZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VZ(e,t,n){var r;return r=function(e,t){if("object"!=LZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=LZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LZ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(){return BZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BZ.apply(this,arguments)}function qZ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zZ=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.ry;return q.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HZ(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(HT(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=qZ(t,MZ),u=zC(l,!1);u.offset;var c=qZ(u,DZ);n=q.createElement("line",BZ({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function GZ(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=FZ(FZ({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return HZ(i,a)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function $Z(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=FZ(FZ({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return HZ(i,a)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function WZ(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=s.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var c=u.map(function(e,s){var l=!u[s+1]?i+a-e:u[s+1]-e;if(l<=0)return null;var c=s%t.length;return q.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[c],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function KZ(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==c[0]&&c.unshift(0);var d=c.map(function(e,t){var n=!c[t+1]?o+s-e:c[t+1]-e;if(n<=0)return null;var u=t%r.length;return q.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:l,stroke:"none",fill:r[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var JZ=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return wG(vZ(FZ(FZ(FZ({},RZ.defaultProps),n),{},{ticks:EG(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},YZ=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return wG(vZ(FZ(FZ(FZ({},RZ.defaultProps),n),{},{ticks:EG(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},XZ={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function QZ(e){var t,n,r,i,o,a,s,l,u=xQ(),c=OQ(),d=B.useContext(gQ),h=FZ(FZ({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:XZ.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:XZ.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:XZ.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:XZ.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:XZ.vertical,verticalFill:null!==(a=e.verticalFill)&&void 0!==a?a:XZ.verticalFill,x:pC(e.x)?e.x:d.left,y:pC(e.y)?e.y:d.top,width:pC(e.width)?e.width:d.width,height:pC(e.height)?e.height:d.height}),f=h.x,p=h.y,m=h.width,y=h.height,g=h.syncWithTicks,v=h.horizontalValues,b=h.verticalValues,w=(s=B.useContext(pQ),bC(s)),E=(l=B.useContext(mQ),hQ(l,function(e){return SX(e.domain,Number.isFinite)})||bC(l));if(!pC(m)||m<=0||!pC(y)||y<=0||!pC(f)||f!==+f||!pC(p)||p!==+p)return null;var S=h.verticalCoordinatesGenerator||JZ,_=h.horizontalCoordinatesGenerator||YZ,x=h.horizontalPoints,O=h.verticalPoints;if((!x||!x.length)&&HT(_)){var T=v&&v.length,A=_({yAxis:E?FZ(FZ({},E),{},{ticks:T?v:E.ticks}):void 0,width:u,height:c,offset:d},!!T||g);tk(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(LZ(A),"]")),Array.isArray(A)&&(x=A)}if((!O||!O.length)&&HT(S)){var I=b&&b.length,C=S({xAxis:w?FZ(FZ({},w),{},{ticks:I?b:w.ticks}):void 0,width:u,height:c,offset:d},!!I||g);tk(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(LZ(C),"]")),Array.isArray(C)&&(O=C)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(zZ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),q.createElement(GZ,BZ({},h,{offset:d,horizontalPoints:x,xAxis:w,yAxis:E})),q.createElement($Z,BZ({},h,{offset:d,verticalPoints:O,xAxis:w,yAxis:E})),q.createElement(WZ,BZ({},h,{horizontalPoints:x})),q.createElement(KZ,BZ({},h,{verticalPoints:O})))}function ZZ(e){return(ZZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a0(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0(e,t,n){return t=r0(t),function(e,t){if(t&&("object"===ZZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n0()?Reflect.construct(t,n||[],r0(e).constructor):t.apply(e,n))}function n0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n0=function(){return!!e})()}function r0(e){return(r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i0(e,t){return(i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o0(e,t,n){return(t=a0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0(e){var t=function(e,t){if("object"!=ZZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ZZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZZ(t)?t:t+""}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(this,arguments)}function l0(e){var t=e.xAxisId,n=xQ(),r=OQ(),i=SQ(t);return null==i?null:B.createElement(RZ,s0({},i,{className:hT("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return EG(e,!0)}}))}QZ.displayName="CartesianGrid";var u0=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t0(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i0(e,t)}(e,B.Component),e0(e,[{key:"render",value:function(){return B.createElement(l0,this.props)}}])}();function c0(e){return(c0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d0(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g0(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0(e,t,n){return t=p0(t),function(e,t){if(t&&("object"===c0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f0()?Reflect.construct(t,n||[],p0(e).constructor):t.apply(e,n))}function f0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f0=function(){return!!e})()}function p0(e){return(p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m0(e,t){return(m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y0(e,t,n){return(t=g0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0(e){var t=function(e,t){if("object"!=c0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=c0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==c0(t)?t:t+""}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(this,arguments)}o0(u0,"displayName","XAxis"),o0(u0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var b0=function(e){var t=e.yAxisId,n=xQ(),r=OQ(),i=_Q(t);return null==i?null:B.createElement(RZ,v0({},i,{className:hT("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return EG(e,!0)}}))},w0=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h0(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m0(e,t)}(e,B.Component),d0(e,[{key:"render",value:function(){return B.createElement(b0,this.props)}}])}();function E0(e){return function(e){if(Array.isArray(e))return S0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S0(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}y0(w0,"displayName","YAxis"),y0(w0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var _0=function(e,t,n,r,i){var o=FC(e,VQ),a=FC(e,QQ),s=[].concat(E0(o),E0(a)),l=FC(e,cZ),u="".concat(r,"Id"),c=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[u]===n&&cX(t.props,"extendDomain")&&pC(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(c,"1"),f="".concat(c,"2");d=l.reduce(function(e,t){if(t.props[u]===n&&cX(t.props,"extendDomain")&&pC(t.props[h])&&pC(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return pC(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},x0={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(x0);var O0=new(n(x0.exports)),T0="recharts.syncMouseEvents";function A0(e){return(A0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I0(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k0(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C0(e,t,n){return(t=k0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k0(e){var t=function(e,t){if("object"!=A0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=A0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==A0(t)?t:t+""}var P0=function(){return I0(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C0(this,"activeIndex",0),C0(this,"coordinateList",[]),C0(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,u=void 0===l?null:l,c=e.mouseHandlerCallback,d=void 0===c?null:c;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=u?u:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+a+s,c=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:u,pageY:c})}}}])}();function N0(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[$G(t,n,r,i),$G(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function j0(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return N0(t);var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.angle,h=$G(s,l,u,d),f=$G(s,l,c,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function R0(e){return(R0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M0(Object(n),!0).forEach(function(t){L0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L0(e,t,n){var r;return r=function(e,t){if("object"!=R0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=R0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==R0(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U0(e){var t,n,r,i=e.element,o=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,u=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,p=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!p||!a||!s||"ScatterChart"!==f&&"axis"!==o)return null;var m=q$;if("ScatterChart"===f)r=s,m=KK;else if("BarChart"===f)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,s,u,d),m=kK;else if("radial"===h){var y=N0(s),g=y.cx,v=y.cy,b=y.radius;r={cx:g,cy:v,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},m=P$}else r={points:j0(h,s,u)},m=q$;var w=D0(D0(D0(D0({stroke:"#ccc",pointerEvents:"none"},u),r),zC(p,!1)),{},{payload:l,payloadIndex:c,className:hT("recharts-tooltip-cursor",p.className)});return B.isValidElement(p)?B.cloneElement(p,w):B.createElement(m,w)}var F0=["item"],V0=["children","className","width","height","style","compact","title","desc"];function B0(e){return(B0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(this,arguments)}function z0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||X0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H0(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G0(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n1(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $0(e,t,n){return t=K0(t),function(e,t){if(t&&("object"===B0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W0()?Reflect.construct(t,n||[],K0(e).constructor):t.apply(e,n))}function W0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(W0=function(){return!!e})()}function K0(e){return(K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J0(e,t){return(J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Y0(e){return function(e){if(Array.isArray(e))return Q0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X0(e,t){if(e){if("string"==typeof e)return Q0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q0(e,t):void 0}}function Q0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z0(Object(n),!0).forEach(function(t){t1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t1(e,t,n){return(t=n1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n1(e){var t=function(e,t){if("object"!=B0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=B0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B0(t)?t:t+""}var r1={xAxis:["bottom","top"],yAxis:["left","right"]},i1={width:"100%",height:"100%"},o1={x:0,y:0};function a1(e){return e}var s1=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Y0(e),Y0(n)):e},[]);return o.length>0?o:e&&e.length&&pC(r)&&pC(i)?e.slice(r,i+1):[]};function l1(e){return"number"===e?[0,"auto"]:void 0}var u1=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=s1(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,u,c=null!==(l=s.props.data)&&void 0!==l?l:t;(c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?u=EC(void 0===c?a:c,o.dataKey,r):u=c&&c[n]||a[n];return u?[].concat(Y0(i),[LG(s,u)]):i},[])},c1=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var u=l>0?r[l-1].coordinate:r[a-1].coordinate,c=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(hC(c-u)!==hC(d-c)){var f=[];if(hC(d-c)===hC(s[1]-s[0])){h=d;var p=c+s[1]-s[0];f[0]=Math.min(p,(p+u)/2),f[1]=Math.max(p,(p+u)/2)}else{h=u;var m=d+s[1]-s[0];f[0]=Math.min(c,(m+c)/2),f[1]=Math.max(c,(m+c)/2)}var y=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var g=Math.min(u,d),v=Math.max(u,d);if(e>(g+c)/2&&e<=(v+c)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,d=u1(e,t,u,c),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return e1(e1(e1({},r),$G(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return e1(e1(e1({},r),$G(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return o1}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:d,activeCoordinate:h}}return null},d1=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=e.stackOffset,h=bG(u,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?e1(e1({},n.type.defaultProps),n.props):n.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,E=p.includeHidden,S=p[o];if(t[S])return t;var _,x,O,T=s1(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S}),dataStartIndex:s,dataEndIndex:l}),A=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&pC(r)&&pC(i))return!0}return!1})(p.domain,g,m)&&(_=RG(p.domain,null,g),!h||"number"!==m&&"auto"===b||(O=mG(T,y,"category")));var I=l1(m);if(!_||0===_.length){var C,k=null!==(C=p.domain)&&void 0!==C?C:I;if(y){if(_=mG(T,y,m),"category"===m&&h){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);v&&P?(x=_,_=UY(0,A)):v||(_=DG(k,_,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Y0(e),[t])},[]))}else if("category"===m)_=v?_.filter(function(e){return""!==e&&!DI(e)}):DG(k,_,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||DI(t)?e:[].concat(Y0(e),[t])},[]);else if("number"===m){var N=function(e,t,n,r,i){var o=t.map(function(t){return gG(e,t,n,i,r)}).filter(function(e){return!DI(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(T,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(E||!i)}),y,i,u);N&&(_=N)}!h||"number"!==m&&"auto"===b||(O=mG(T,y,"category"))}else _=h?UY(0,A):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:PG(a[S].stackGroups,s,l):vG(T,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(E||!n)}),m,u,!0);if("number"===m)_=_0(c,_,S,i,w),k&&(_=RG(k,_,g));else if("category"===m&&k){var j=k;_.every(function(e){return j.indexOf(e)>=0})&&(_=j)}}return e1(e1({},t),{},t1({},S,e1(e1({},p),{},{axisType:i,domain:_,categoricalDomain:O,duplicateDomain:x,originalDomain:null!==(f=p.domain)&&void 0!==f?f:I,isCategorical:h,layout:u})))},{})},h1=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),d=FC(u,i),h={};return d&&d.length?h=d1(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=s1(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=bG(u,i),p=-1;return n.reduce(function(e,t){var m,y=(void 0!==t.type.defaultProps?e1(e1({},t.type.defaultProps),t.props):t.props)[o],g=l1("number");return e[y]?e:(p++,f?m=UY(0,h):a&&a[y]&&a[y].hasStack?(m=PG(a[y].stackGroups,s,l),m=_0(c,m,y,i)):(m=RG(g,vG(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===y&&!i}),"number",u),r.defaultProps.allowDataOverflow),m=_0(c,m,y,i)),e1(e1({},e),{},t1({},y,e1(e1({axisType:i},r.defaultProps),{},{hide:!0,orientation:MI(r1,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:u}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},f1=function(e){var t=e.children,n=e.defaultShowTooltip,r=VC(t,nX),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},p1=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},m1=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,u=n.children,c=n.margin||{},d=VC(u,nX),h=VC(u,$M),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:e1(e1({},e),{},t1({},r,e[r]+n.width))},{left:c.left||0,right:c.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:e1(e1({},e),{},t1({},r,MI(e,"".concat(r))+n.height))},{top:c.top||0,bottom:c.bottom||0}),m=e1(e1({},p),f),y=m.bottom;d&&(m.bottom+=d.props.height||nX.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=sG({children:i,legendWidth:s});if(l){var u=r||{},c=u.width,d=u.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&pC(e[h]))return hG(hG({},e),{},fG({},h,e[h]+(c||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&pC(e[f]))return hG(hG({},e),{},fG({},f,e[f]+(d||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return e1(e1({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},y1=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},g1=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,a=void 0===o?["axis"]:o,s=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,c=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,l=t.dataEndIndex,u=e.barSize,c=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=p1(c),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=MC(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=s1(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:l}),w=void 0!==n.type.defaultProps?e1(e1({},n.type.defaultProps),n.props):n.props,E=w.dataKey,S=w.maxBarSize,_=w["".concat(m,"Id")],x=w["".concat(y,"Id")],O=s.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||qH();var o=r[i];return e1(e1({},e),{},t1(t1({},n.axisType,o),"".concat(n.axisType,"Ticks"),EG(o)))},{}),T=O[y],A=O["".concat(y,"Ticks")],I=r&&r[_]&&r[_].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?hG(hG({},e.type.defaultProps),e.props):e.props).stackId;if(mC(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[_].stackGroups),C=MC(n.type).indexOf("Bar")>=0,k=MG(T,A),P=[],N=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var u=i[a[s]].stackGroups,c=Object.keys(u),d=0,h=c.length;d<h;d++){var f=u[c[d]],p=f.items,m=f.cateAxisId,y=p.filter(function(e){return MC(e.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?hG(hG({},g),y[0].props):y[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var E=DI(b)?t:b;o[w].push({item:y[0],stackList:y.slice(1),barSize:DI(E)?void 0:vC(E,n,0)})}}return o}({barSize:u,stackGroups:r,totalSize:y1(O,y)});if(C){var j,R,M=DI(S)?f:S,D=null!==(j=null!==(R=MG(T,A,!0))&&void 0!==R?R:M)&&void 0!==j?j:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,u=vC(t,r,0,!0),c=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*u)>=r&&(f-=(s-1)*u,u=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-u,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+u,size:d?h:t.barSize}},r=[].concat(uG(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},c)}else{var m=vC(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var y=(r-2*m-(s-1)*u)/s;y>1&&(y>>=0);var g=a===+a?Math.min(y,a):y;l=o.reduce(function(e,t,n){var r=[].concat(uG(e),[{item:t.item,position:{offset:m+(y+u)*n+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},c)}return l}({barGap:d,barCategoryGap:h,bandSize:D!==k?D:k,sizeList:N[x],maxBarSize:M}),D!==k&&(P=P.map(function(e){return e1(e1({},e),{},{position:e1(e1({},e.position),{},{offset:e.position.offset-D/2})})}))}var L,U,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:e1(e1({},F(e1(e1({},O),{},{displayedData:b,props:e,dataKey:E,item:n,bandSize:k,barPosition:P,offset:i,stackedData:I,layout:c,dataStartIndex:a,dataEndIndex:l}))),{},t1(t1(t1({key:n.key||"item-".concat(p)},m,O[m]),y,O[y]),"animationId",o)),childIndex:(L=n,U=e.children,UC(U).indexOf(L)),item:n})}),v},h=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,l=e.updateId;if(!BC({props:i}))return null;var c=i.children,h=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,y=p1(h),g=y.numericAxisName,v=y.cateAxisName,b=FC(c,n),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?hG(hG({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(mC(a)){var u=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),l.hasStack=!0,l.stackGroups[a]=u}else l.stackGroups[gC("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return hG(hG({},e),{},fG({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return hG(hG({},t),{},fG({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:IG(e,a.items,i)}))},{})),hG(hG({},t),{},fG({},o,s))},{})}(p,b,"".concat(g,"Id"),"".concat(v,"Id"),f,m),E=s.reduce(function(e,t){var n="".concat(t.axisType,"Map");return e1(e1({},e),{},t1({},n,h1(i,e1(e1({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&w,dataStartIndex:o,dataEndIndex:a}))))},{}),S=m1(e1(e1({},E),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(E).forEach(function(e){E[e]=u(i,E[e],S,e.replace("Map",""),t)});var _,x,O=E["".concat(v,"Map")],T=(_=bC(O),{tooltipTicks:x=EG(_,!1,!0),orderedTooltipTicks:BD(x,function(e){return e.coordinate}),tooltipAxis:_,tooltipAxisBandSize:MG(_,x)}),A=d(i,e1(e1({},E),{},{dataStartIndex:o,dataEndIndex:a,updateId:l,graphicalItems:b,stackGroups:w,offset:S}));return e1(e1({formattedGraphicalItems:A,graphicalItems:b,offset:S,stackGroups:w},T),E)},f=function(){function e(n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t1(o=$0(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),t1(o,"accessibilityManager",new P0),t1(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(e1({legendBBox:e},h({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},e1(e1({},o.state),{},{legendBBox:e}))))}}),t1(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),t1(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return e1({dataStartIndex:t,dataEndIndex:n},h({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),t1(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=e1(e1({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;HT(r)&&r(n,e)}}),t1(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?e1(e1({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;HT(r)&&r(n,e)}),t1(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),t1(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),t1(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),t1(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;HT(n)&&n(t,e)}),t1(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&RC[t]?RC[t]:null}(e),r=MI(o.props,"".concat(n));n&&HT(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),t1(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=e1(e1({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;HT(r)&&r(n,e)}}),t1(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;HT(t)&&t(o.getMouseInfo(e),e)}),t1(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;HT(t)&&t(o.getMouseInfo(e),e)}),t1(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),t1(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),t1(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),t1(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;HT(t)&&t(o.getMouseInfo(e),e)}),t1(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;HT(t)&&t(o.getMouseInfo(e),e)}),t1(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&O0.emit(T0,o.props.syncId,e,o.eventEmitterSymbol)}),t1(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(e1({dataStartIndex:a,dataEndIndex:s},h({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,u=e.chartY,c=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"==typeof r)c=r(p,e);else if("value"===r){c=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){c=m;break}}var y=e1(e1({},f),{},{x:f.left,y:f.top}),g=Math.min(l,y.x+y.width),v=Math.min(u,y.y+y.height),b=p[c]&&p[c].value,w=u1(o.state,o.props.data,c),E=p[c]?{x:"horizontal"===n?p[c].coordinate:g,y:"horizontal"===n?v:p[c].coordinate}:o1;o.setState(e1(e1({},e),{},{activeLabel:b,activeCoordinate:E,activePayload:w,activeTooltipIndex:c}))}else o.setState(e)}),t1(o,"renderCursor",function(e){var n,r=o.state,i=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.offset,u=r.activeTooltipIndex,c=r.tooltipAxisBandSize,d=o.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:i,f=o.props.layout,p=e.key||"_recharts-cursor";return q.createElement(U0,{key:p,activeCoordinate:a,activePayload:s,activeTooltipIndex:u,chartName:t,element:e,isActive:h,layout:f,offset:l,tooltipAxisBandSize:c,tooltipEventType:d})}),t1(o,"renderPolarAxis",function(e,t,n){var r=MI(e,"type.axisType"),i=MI(o.state,"".concat(r,"Map")),a=e.type.defaultProps,s=void 0!==a?e1(e1({},a),e.props):e.props,l=i&&i[s["".concat(r,"Id")]];return B.cloneElement(e,e1(e1({},l),{},{className:hT(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:EG(l,!0)}))}),t1(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,a=o.state,s=a.radiusAxisMap,l=a.angleAxisMap,u=bC(s),c=bC(l),d=c.cx,h=c.cy,f=c.innerRadius,p=c.outerRadius;return B.cloneElement(e,{polarAngles:Array.isArray(r)?r:EG(c,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:EG(u,!0).map(function(e){return e.coordinate}),cx:d,cy:h,innerRadius:f,outerRadius:p,key:e.key||"polar-grid",radialLines:n})}),t1(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,a=o.props.margin||{},s=r-(a.left||0)-(a.right||0),u=sG({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!u)return null;var c=u.item,d=H0(u,F0);return B.cloneElement(c,e1(e1({},d),{},{chartWidth:r,chartHeight:i,margin:a,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),t1(o,"renderTooltip",function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=VC(n,TL);if(!i)return null;var a=o.state,s=a.isTooltipActive,l=a.activeCoordinate,u=a.activePayload,c=a.activeLabel,d=a.offset,h=null!==(e=i.props.active)&&void 0!==e?e:s;return B.cloneElement(i,{viewBox:e1(e1({},d),{},{x:d.left,y:d.top}),active:h,label:c,payload:h?u:[],coordinate:l,accessibilityLayer:r})}),t1(o,"renderBrush",function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,a=i.offset,s=i.dataStartIndex,l=i.dataEndIndex,u=i.updateId;return B.cloneElement(e,{key:e.key||"_recharts-brush",onChange:_G(o.handleBrushChange,e.props.onChange),data:r,x:pC(e.props.x)?e.props.x:a.left,y:pC(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:pC(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:l,updateId:"brush-".concat(u)})}),t1(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,a=i.xAxisMap,s=i.yAxisMap,l=i.offset,u=e.type.defaultProps||{},c=e.props,d=c.xAxisId,h=void 0===d?u.xAxisId:d,f=c.yAxisId,p=void 0===f?u.yAxisId:f;return B.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[h],yAxis:s[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),t1(o,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=n.props.key,u=void 0!==n.item.type.defaultProps?e1(e1({},n.item.type.defaultProps),n.item.props):n.item.props,c=u.activeDot,d=e1(e1({index:o,dataKey:u.dataKey,cx:r.x,cy:r.y,r:4,fill:yG(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},zC(c,!1)),CC(c));return s.push(e.renderActiveDot(c,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(e.renderActiveDot(c,e1(e1({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),t1(o,"renderGraphicChild",function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),a=o.state,s=a.isTooltipActive,l=a.tooltipAxis,u=a.activeTooltipIndex,c=a.activeLabel,d=VC(o.props.children,TL),h=r.props,f=h.points,p=h.isRange,m=h.baseLine,y=void 0!==r.item.type.defaultProps?e1(e1({},r.item.type.defaultProps),r.item.props):r.item.props,g=y.activeDot,v=y.hide,b=y.activeBar,w=y.activeShape,E=Boolean(!v&&s&&d&&(g||b||w)),S={};"axis"!==i&&d&&"click"===d.props.trigger?S={onClick:_G(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(S={onMouseLeave:_G(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:_G(o.handleItemMouseEnter,e.props.onMouseEnter)});var _=B.cloneElement(e,e1(e1({},r.props),S));if(E){if(!(u>=0)){var x,O=(null!==(x=o.getItemByXY(o.state.activeCoordinate))&&void 0!==x?x:{graphicalItem:_}).graphicalItem,T=O.item,A=void 0===T?e:T,I=O.childIndex,C=e1(e1(e1({},r.props),S),{},{activeIndex:I});return[B.cloneElement(A,C),null,null]}var k,P;if(l.dataKey&&!l.allowDuplicatedCategory){var N="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());k=EC(f,N,c),P=p&&m&&EC(m,N,c)}else k=null==f?void 0:f[u],P=p&&m&&m[u];if(w||b){var j=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[B.cloneElement(e,e1(e1(e1({},r.props),S),{},{activeIndex:j})),null,null]}if(!DI(k))return[_].concat(Y0(o.renderActivePoints({item:r,activePoint:k,basePoint:P,childIndex:u,isRange:p})))}return p?[_,null,null]:[_,null]}),t1(o,"renderCustomized",function(e,t,n){return B.cloneElement(e,e1(e1({key:"recharts-customized-".concat(n)},o.props),o.state))}),t1(o,"renderMap",{CartesianGrid:{handler:a1,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:a1},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:a1},YAxis:{handler:a1},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:gC("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=$L(o.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}(e,B.Component),G0(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=VC(t,TL);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=u1(this.state,n,a,s),u=this.state.tooltipTicks[a].coordinate,c=(this.state.offset.top+r)/2,d="horizontal"===i?{x:u,y:c}:{y:u,x:c},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=e1(e1({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){HC([VC(e.children,TL)],[VC(this.props.children,TL)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=VC(this.props.children,TL);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return a.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,u=l.xAxisMap,c=l.yAxisMap,d=this.getTooltipEventType(),h=c1(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&u&&c){var f=bC(u).scale,p=bC(c).scale,m=f&&f.invert?f.invert(o.chartX):null,y=p&&p.invert?p.invert(o.chartY):null;return e1(e1({},o),{},{xValue:m,yValue:y},h)}return h?e1(e1({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,u=s.radiusAxisMap;if(l&&u){var c=bC(l);return YG({x:i,y:o},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=VC(e,TL),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),e1(e1({},CC(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){O0.on(T0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O0.removeListener(T0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===MC(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return q.createElement("defs",null,q.createElement("clipPath",{id:e},q.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=z0(t,2),r=n[0],i=n[1];return e1(e1({},e),{},t1({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=z0(t,2),r=n[0],i=n[1];return e1(e1({},e),{},t1({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,u=void 0!==l.type.defaultProps?e1(e1({},l.type.defaultProps),l.props):l.props,c=MC(l.type);if("Bar"===c){var d=(s.data||[]).find(function(t){return IK(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===c){var h=(s.data||[]).find(function(t){return YG(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(dY(a,r)||hY(a,r)||fY(a,r)){var f=gY({graphicalItem:a,activeTooltipItem:r,itemData:u.data}),p=void 0===u.activeIndex?f:u.activeIndex;return{graphicalItem:e1(e1({},a),{},{childIndex:p}),payload:fY(a,r)?u.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!BC(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,s=r.height,l=r.style,u=r.compact,c=r.title,d=r.desc,h=H0(r,V0),f=zC(h,!1);if(u)return q.createElement(EQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(YC,q0({},f,{width:a,height:s,title:c,desc:d}),this.renderClipPath(),$C(i,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return q.createElement(EQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",q0({className:hT("recharts-wrapper",o),style:e1({position:"relative",cursor:"default",width:a,height:s},l)},p,{ref:function(t){e.container=t}}),q.createElement(YC,q0({},f,{width:a,height:s,title:c,desc:d,style:i1}),this.renderClipPath(),$C(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();t1(f,"displayName",t),t1(f,"defaultProps",e1({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),t1(f,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,u=e.margin,c=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=f1(e);return e1(e1(e1({},f),{},{updateId:0},h(e1(e1({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!_C(u,t.prevMargin)){var p=f1(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=e1(e1({},c1(t,r,s)),{},{updateId:t.updateId+1}),g=e1(e1(e1({},p),m),y);return e1(e1(e1({},g),h(e1({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(!HC(i,t.prevChildren)){var v,b,w,E,S=VC(i,nX),_=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:c,x=S&&null!==(w=null===(E=S.props)||void 0===E?void 0:E.endIndex)&&void 0!==w?w:d,O=_!==c||x!==d,T=!DI(r)&&!O?t.updateId:t.updateId+1;return e1(e1({updateId:T},h(e1(e1({props:e},t),{},{updateId:T,dataStartIndex:_,dataEndIndex:x}),t)),{},{prevChildren:i,dataStartIndex:_,dataEndIndex:x})}return null}),t1(f,"renderActiveDot",function(e,t,n){var r;return r=B.isValidElement(e)?B.cloneElement(e,t):HT(e)?e(t):q.createElement(VK,t),q.createElement(ek,{className:"recharts-active-dot",key:n},r)});var p=B.forwardRef(function(e,t){return q.createElement(f,q0({},e,{ref:t}))});return p.displayName=f.displayName,p},v1=g1({chartName:"BarChart",GraphicalChild:WX,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:u0},{axisType:"yAxis",AxisComp:w0}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,u=Object.keys(t),c={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!VC(l,WX);return u.reduce(function(o,a){var l,u,h,f,p,m=t[a],y=m.orientation,g=m.domain,v=m.padding,b=void 0===v?{}:v,w=m.mirror,E=m.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var _=g[1]-g[0],x=1/0,O=m.categoricalDomain.sort(SC);if(O.forEach(function(e,t){t>0&&(x=Math.min((e||0)-(O[t-1]||0),x))}),Number.isFinite(x)){var T=x/_,A="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=T*A/2),"no-gap"===m.padding){var I=vC(e.barCategoryGap,T*A),C=T*A/2;l=C-I-(C-I)/A*I}}}u="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,E&&(u=[u[1],u[0]]);var k=xG(m,i,d),P=k.scale,N=k.realScaleType;P.domain(g).range(u),TG(P);var j=CG(P,XX(XX({},m),{},{realScaleType:N}));"xAxis"===r?(p="top"===y&&!w||"bottom"===y&&w,h=n.left,f=c[S]-p*m.height):"yAxis"===r&&(p="left"===y&&!w||"right"===y&&w,h=c[S]-p*m.width,f=n.top);var R=XX(XX(XX({},m),j),{},{realScaleType:N,x:h,y:f,scale:P,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return R.bandSize=MG(R,j),m.hide||"xAxis"!==r?m.hide||(c[S]+=(p?-1:1)*R.width):c[S]+=(p?-1:1)*R.height,XX(XX({},o),{},QX({},a,R))},{})}}),b1=g1({chartName:"PieChart",GraphicalChild:CY,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PJ},{axisType:"radiusAxis",AxisComp:gJ}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,l=e.endAngle,u=vC(e.cx,o,o/2),c=vC(e.cy,a,a/2),d=WG(o,a,n),h=vC(e.innerRadius,d,0),f=vC(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var o,a=t[n],d=a.domain,p=a.reversed;if(DI(a.range))"angleAxis"===r?o=[s,l]:"radiusAxis"===r&&(o=[h,f]),p&&(o=[o[1],o[0]]);else{var m=qG(o=a.range,2);s=m[0],l=m[1]}var y=xG(a,i),g=y.realScaleType,v=y.scale;v.domain(d).range(o),TG(v);var b=CG(v,VG(VG({},a),{},{realScaleType:g})),w=VG(VG(VG({},a),b),{},{range:o,radius:f,realScaleType:g,scale:v,cx:u,cy:c,innerRadius:h,outerRadius:f,startAngle:s,endAngle:l});return VG(VG({},e),{},BG({},n,w))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const w1=()=>{var e;const{user:t,isTestMode:n}=q8(),[r,i]=B.useState([]),[o,a]=B.useState([]),[s,l]=B.useState(!0);B.useEffect(()=>{if(!t)return;if(n){const e=localStorage.getItem("smartfinance_accounts"),t=localStorage.getItem("smartfinance_transactions");return i(e?JSON.parse(e):[]),a(t?JSON.parse(t):[]),void l(!1)}if(!IO)return;const e=_O(rO(_x(IO,"accounts"),oO("userId","==",t.uid)),e=>{i(e.docs.map(e=>({id:e.id,...e.data()})))});var r;const o=_O(rO(_x(IO,"transactions"),oO("userId","==",t.uid),lO("date","desc"),(r=5,uO._create("limit",r,"F"))),e=>{a(e.docs.map(e=>({id:e.id,...e.data()}))),l(!1)});return()=>{e(),o()}},[t,n]);const u=r.reduce((e,t)=>e+t.balance,0),c=o.filter(e=>"income"===e.type&&e.date.startsWith((new Date).toISOString().slice(0,7))).reduce((e,t)=>e+t.amount,0),d=o.filter(e=>"expense"===e.type&&e.date.startsWith((new Date).toISOString().slice(0,7))).reduce((e,t)=>e+t.amount,0),h=[{name:"",value:c||0,color:"#10b981"},{name:"",value:d||0,color:"#ef4444"}];return s?null:X.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[X.jsx("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:X.jsxs("div",{children:[X.jsx("h2",{className:"text-3xl font-black text-slate-800",children:n?"":""}),X.jsx("p",{className:"text-slate-400 font-medium",children:n?"":`${null==(e=null==t?void 0:t.email)?void 0:e.split("@")[0]}`})]})}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[X.jsx(E1,{title:"",value:u,icon:X.jsx(cT,{className:"text-indigo-600"}),color:"indigo"}),X.jsx(E1,{title:"",value:c,icon:X.jsx(RO,{className:"text-emerald-600"}),color:"emerald"}),X.jsx(E1,{title:"",value:d,icon:X.jsx(jO,{className:"text-rose-600"}),color:"rose"})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-slate-100",children:[X.jsxs("h3",{className:"text-lg font-bold mb-8 text-slate-800 flex items-center gap-3",children:[X.jsx(QO,{className:"w-5 h-5 text-indigo-500"}),""]}),X.jsx("div",{className:"h-64",children:X.jsx(ZL,{width:"100%",height:"100%",children:X.jsxs(v1,{data:h,margin:{top:0,right:0,left:-20,bottom:0},children:[X.jsx(QZ,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),X.jsx(u0,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:600}}),X.jsx(w0,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),X.jsx(TL,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),X.jsx(WX,{dataKey:"value",radius:[8,8,8,8],barSize:50,children:h.map((e,t)=>X.jsx(eU,{fill:e.color},`cell-${t}`))})]})})})]}),X.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-slate-100",children:[X.jsxs("h3",{className:"text-lg font-bold mb-8 text-slate-800 flex items-center gap-3",children:[X.jsx(GO,{className:"w-5 h-5 text-indigo-500"}),""]}),X.jsxs("div",{className:"space-y-4",children:[o.slice(0,5).map(e=>X.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-slate-50/50 hover:bg-slate-50 transition-colors",children:[X.jsxs("div",{className:"flex items-center gap-4",children:[X.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center "+("income"===e.type?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:"income"===e.type?X.jsx(RO,{className:"w-6 h-6"}):X.jsx(jO,{className:"w-6 h-6"})}),X.jsxs("div",{children:[X.jsx("p",{className:"font-bold text-slate-800",children:e.category}),X.jsx("p",{className:"text-xs text-slate-400 font-bold",children:e.date})]})]}),X.jsxs("span",{className:"text-lg font-black "+("income"===e.type?"text-emerald-500":"text-rose-500"),children:["income"===e.type?"+":"-",e.amount.toLocaleString()]})]},e.id)),0===o.length&&X.jsx("div",{className:"text-center py-10",children:X.jsx("p",{className:"text-slate-300 font-bold",children:""})})]})]})]})]})},E1=({title:e,value:t,icon:n,color:r})=>X.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-slate-100 flex items-start justify-between group hover:border-indigo-100 transition-all",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:e}),X.jsxs("h4",{className:"text-3xl font-black text-slate-900",children:["$",t.toLocaleString()]})]}),X.jsx("div",{className:`p-4 rounded-2xl bg-${r}-50 group-hover:scale-110 transition-transform`,children:n})]}),S1=()=>{const[e,t]=B.useState(""),[n,r]=B.useState(""),[i,o]=B.useState(""),[a,s]=B.useState(!1),l=th(),{enterTestMode:u}=q8();return X.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-900",children:X.jsx("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl overflow-hidden",children:X.jsxs("div",{className:"p-8",children:[X.jsx("div",{className:"flex justify-center mb-8",children:X.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-200",children:X.jsx(cT,{className:"text-white w-10 h-10"})})}),X.jsx("h2",{className:"text-3xl font-extrabold text-center text-slate-900 mb-2",children:"SmartFinance"}),X.jsx("p",{className:"text-center text-slate-500 mb-8",children:""}),i&&X.jsxs("div",{className:"bg-rose-50 border border-rose-100 text-rose-600 px-4 py-3 rounded-xl flex items-center gap-3 mb-6",children:[X.jsx(NO,{className:"w-5 h-5 flex-shrink-0"}),X.jsx("p",{className:"text-sm",children:i})]}),X.jsxs("div",{className:"space-y-6",children:[X.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),CO)o("Firebase ");else if(AO){s(!0),o("");try{await gy(AO,e,n),l("/")}catch(r){o(""+(r.message||""))}finally{s(!1)}}},className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-indigo-600 mb-2",children:[X.jsx(nT,{className:"w-4 h-4"}),X.jsx("span",{children:" ()"})]}),X.jsx("div",{children:X.jsxs("div",{className:"relative",children:[X.jsx(XO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),X.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"",required:!0})]})}),X.jsx("div",{children:X.jsxs("div",{className:"relative",children:[X.jsx(JO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),X.jsx("input",{type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"",required:!0})]})}),X.jsx("button",{disabled:a,className:"w-full bg-slate-900 text-white font-bold py-4 rounded-xl hover:bg-slate-800 transition-all shadow-lg disabled:opacity-50",children:a?"...":""})]}),X.jsxs("div",{className:"relative",children:[X.jsx("div",{className:"absolute inset-0 flex items-center",children:X.jsx("div",{className:"w-full border-t border-slate-200"})}),X.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:X.jsx("span",{className:"bg-white px-2 text-slate-400",children:""})})]}),X.jsxs("button",{onClick:()=>{u(),l("/")},className:"w-full border-2 border-indigo-600 text-indigo-600 font-bold py-4 rounded-xl hover:bg-indigo-50 transition-all flex items-center justify-center gap-2",children:[X.jsx(BO,{className:"w-5 h-5"})," ()"]})]}),X.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 text-center text-slate-500",children:[""," ",X.jsx(_h,{to:"/register",className:"text-indigo-600 font-bold hover:underline",children:""})]})]})})})},_1=()=>{const[e,t]=B.useState(""),[n,r]=B.useState(""),[i,o]=B.useState(""),[a,s]=B.useState(""),[l,u]=B.useState(!1),c=th();return X.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-900",children:X.jsx("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl overflow-hidden",children:X.jsxs("div",{className:"p-8",children:[X.jsx("div",{className:"flex justify-center mb-8",children:X.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-200",children:X.jsx(lT,{className:"text-white w-10 h-10"})})}),X.jsx("h2",{className:"text-3xl font-extrabold text-center text-slate-900 mb-2",children:""}),X.jsx("p",{className:"text-center text-slate-500 mb-8",children:""}),a&&X.jsxs("div",{className:"bg-rose-50 border border-rose-100 text-rose-600 px-4 py-3 rounded-xl flex items-center gap-3 mb-6",children:[X.jsx(NO,{className:"w-5 h-5 flex-shrink-0"}),X.jsx("p",{className:"text-sm",children:a})]}),X.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),CO)s(" Firebase ");else if(AO)if(n===i){u(!0),s("");try{await async function(e,t,n){if(dp(e.app))return Promise.reject(Lp(e));const r=Vm(e),i=$m(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cy),o=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&yy(e),t}),a=await dy._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(AO,e,n),c("/")}catch(r){s(""+(r.message||""))}finally{u(!1)}}else s("")},className:"space-y-5",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:""}),X.jsxs("div",{className:"relative",children:[X.jsx(XO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),X.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"name@example.com",required:!0})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:""}),X.jsxs("div",{className:"relative",children:[X.jsx(JO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),X.jsx("input",{type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"",required:!0})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:""}),X.jsxs("div",{className:"relative",children:[X.jsx(JO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),X.jsx("input",{type:"password",value:i,onChange:e=>o(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"",required:!0})]})]}),X.jsx("button",{disabled:l,className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50",children:l?"...":""})]}),X.jsx("div",{className:"mt-8 pt-8 border-t border-slate-100 text-center",children:X.jsxs("p",{className:"text-slate-500",children:[""," ",X.jsx(_h,{to:"/login",className:"text-indigo-600 font-bold hover:underline",children:""})]})})]})})})},x1="smartfinance_accounts",O1=()=>{const{user:e,isTestMode:t}=q8(),[n,r]=B.useState([]),[i,o]=B.useState(!1),[a,s]=B.useState(""),[l,u]=B.useState(""),[c,d]=B.useState(0);B.useEffect(()=>{if(!e)return;if(t){const e=localStorage.getItem(x1);if(e)r(JSON.parse(e));else{const e=[{id:"t1",name:"",bankName:"",balance:5e3,color:"bg-indigo-600",createdAt:Date.now()}];r(e),localStorage.setItem(x1,JSON.stringify(e))}return}if(!IO)return;return _O(rO(_x(IO,"accounts"),oO("userId","==",e.uid)),e=>{r(e.docs.map(e=>({id:e.id,...e.data()})))})},[e,t]);const h=async e=>{if(confirm("")){if(t){const t=n.filter(t=>t.id!==e);return r(t),void localStorage.setItem(x1,JSON.stringify(t))}var i;if(IO)await(i=xx(IO,"accounts",e),xO(yx(i.firestore,Ax),[new zw(i._key,kw.none())]))}},f=()=>{s(""),u(""),d(0)};return X.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[X.jsxs("div",{className:"flex items-center justify-between mb-8",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),X.jsx("p",{className:"text-slate-500",children:t?"":""})]}),X.jsxs("button",{onClick:()=>o(!0),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg shadow-indigo-200",children:[X.jsx(ZO,{className:"w-5 h-5"}),""]})]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>X.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden group hover:shadow-xl transition-all duration-300",children:[X.jsx("div",{className:"h-2 bg-indigo-600"}),X.jsxs("div",{className:"p-6",children:[X.jsxs("div",{className:"flex justify-between items-start mb-6",children:[X.jsx("div",{className:"p-4 bg-indigo-50 rounded-2xl",children:X.jsx(LO,{className:"w-6 h-6 text-indigo-600"})}),X.jsx("button",{onClick:()=>h(e.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:X.jsx(oT,{className:"w-5 h-5"})})]}),X.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:e.name}),X.jsx("p",{className:"text-slate-400 text-sm mb-6 font-medium",children:e.bankName}),X.jsxs("div",{className:"flex items-end justify-between",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-1",children:"CURRENT BALANCE"}),X.jsxs("p",{className:"text-3xl font-black text-slate-900",children:[X.jsx("span",{className:"text-lg mr-1 text-slate-400",children:"$"}),e.balance.toLocaleString()]})]}),X.jsx(FO,{className:"w-12 h-12 text-slate-50 opacity-20"})]})]})]},e.id))}),i&&X.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:X.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-md p-8 shadow-2xl animate-in fade-in zoom-in duration-200",children:[X.jsx("h3",{className:"text-2xl font-bold mb-6 text-slate-800",children:""}),X.jsxs("form",{onSubmit:async i=>{if(i.preventDefault(),t){const e={id:"acc_"+Date.now(),name:a,bankName:l,balance:Number(c),color:"bg-indigo-600",createdAt:Date.now()},t=[...n,e];return r(t),localStorage.setItem(x1,JSON.stringify(t)),o(!1),void f()}if(IO&&e)try{await SO(_x(IO,"accounts"),{userId:e.uid,name:a,bankName:l,balance:Number(c),color:"bg-indigo-600",createdAt:Date.now()}),o(!1),f()}catch(s){alert("")}},className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:""}),X.jsx("input",{value:a,onChange:e=>s(e.target.value),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-medium",placeholder:"",required:!0})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"/"}),X.jsx("input",{value:l,onChange:e=>u(e.target.value),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-medium",placeholder:" / ",required:!0})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:""}),X.jsx("input",{type:"number",value:c,onChange:e=>d(Number(e.target.value)),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-black text-xl",required:!0})]}),X.jsxs("div",{className:"flex gap-3 pt-6",children:[X.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-4 font-bold text-slate-400 hover:bg-slate-50 rounded-2xl transition-all",children:""}),X.jsx("button",{type:"submit",className:"flex-1 py-4 font-bold bg-indigo-600 text-white rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]})]})]})})]})},T1=[{id:"1",name:"",type:"expense",icon:"Utensils"},{id:"2",name:"",type:"expense",icon:"Car"},{id:"3",name:"",type:"expense",icon:"ShoppingBag"},{id:"4",name:"",type:"expense",icon:"Home"},{id:"5",name:"",type:"expense",icon:"HeartPulse"},{id:"6",name:"",type:"expense",icon:"GraduationCap"},{id:"7",name:"",type:"income",icon:"Briefcase"},{id:"8",name:"",type:"income",icon:"TrendingUp"},{id:"9",name:"",type:"income",icon:"Gift"},{id:"10",name:"",type:"income",icon:"Wallet"}],A1=e=>{switch(e){case"Utensils":return X.jsx(uT,{className:"w-4 h-4"});case"Car":return X.jsx(UO,{className:"w-4 h-4"});case"ShoppingBag":return X.jsx(rT,{className:"w-4 h-4"});case"Home":return X.jsx($O,{className:"w-4 h-4"});case"HeartPulse":return X.jsx(HO,{className:"w-4 h-4"});case"GraduationCap":return X.jsx(zO,{className:"w-4 h-4"});case"Briefcase":return X.jsx(DO,{className:"w-4 h-4"});case"TrendingUp":return X.jsx(sT,{className:"w-4 h-4"});case"Gift":return X.jsx(qO,{className:"w-4 h-4"});default:return X.jsx(cT,{className:"w-4 h-4"})}},I1="smartfinance_transactions",C1="smartfinance_accounts",k1=()=>{const{user:e,isTestMode:t}=q8(),[n,r]=B.useState([]),[i,o]=B.useState([]),[a,s]=B.useState(!1),[l,u]=B.useState(""),[c,d]=B.useState("expense"),[h,f]=B.useState(""),[p,m]=B.useState(T1[0].name),[y,g]=B.useState(""),[v,b]=B.useState((new Date).toISOString().split("T")[0]);B.useEffect(()=>{if(!e)return;if(t){const e=localStorage.getItem(I1),t=localStorage.getItem(C1),n=t?JSON.parse(t):[];return o(n),n.length>0&&!h&&f(n[0].id),void r(e?JSON.parse(e):[])}if(!IO)return;const n=_O(rO(_x(IO,"accounts"),oO("userId","==",e.uid)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));o(t),t.length>0&&!h&&f(t[0].id)}),i=_O(rO(_x(IO,"transactions"),oO("userId","==",e.uid),lO("date","desc")),e=>{r(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>{n(),i()}},[e,t]);return X.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[X.jsxs("div",{className:"flex items-center justify-between mb-8",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),X.jsx("p",{className:"text-slate-500",children:""})]}),X.jsxs("button",{onClick:()=>s(!0),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg shadow-indigo-100",children:[X.jsx(ZO,{className:"w-5 h-5"}),""]})]}),X.jsx("div",{className:"bg-white rounded-[2rem] shadow-sm border border-slate-100 overflow-hidden",children:X.jsx("div",{className:"overflow-x-auto",children:X.jsxs("table",{className:"w-full text-left",children:[X.jsx("thead",{children:X.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[X.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),X.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),X.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),X.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),X.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:""})]})}),X.jsxs("tbody",{className:"divide-y divide-slate-50",children:[n.map(e=>{var t;const n=i.find(t=>t.id===e.accountId);return X.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[X.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-500",children:e.date}),X.jsx("td",{className:"px-6 py-4",children:X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("span",{className:"p-2 bg-slate-100 rounded-xl text-slate-600",children:A1((null==(t=T1.find(t=>t.name===e.category))?void 0:t.icon)||"")}),X.jsx("span",{className:"font-bold text-slate-700",children:e.category})]})}),X.jsx("td",{className:"px-6 py-4",children:X.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-bold",children:(null==n?void 0:n.name)||""})}),X.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:e.note||"-"}),X.jsxs("td",{className:"px-6 py-4 text-base font-black text-right "+("income"===e.type?"text-emerald-500":"text-rose-500"),children:["income"===e.type?"+":"-","$",e.amount.toLocaleString()]})]},e.id)}),0===n.length&&X.jsx("tr",{children:X.jsx("td",{colSpan:5,className:"px-6 py-20 text-center text-slate-300 font-medium",children:""})})]})]})})}),a&&X.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:X.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-lg p-8 shadow-2xl animate-in fade-in zoom-in duration-200",children:[X.jsx("h3",{className:"text-2xl font-bold mb-6 text-slate-800",children:""}),X.jsxs("form",{onSubmit:async a=>{a.preventDefault();const d=Number(l);if(t){const e=[{id:"tr_"+Date.now(),accountId:h,amount:d,type:c,category:p,note:y,date:v,createdAt:Date.now()},...n];r(e),localStorage.setItem(I1,JSON.stringify(e));const t=i.map(e=>{if(e.id===h){const t="income"===c?e.balance+d:e.balance-d;return{...e,balance:t}}return e});return o(t),localStorage.setItem(C1,JSON.stringify(t)),s(!1),u(""),void g("")}if(IO&&e&&h)try{await SO(_x(IO,"transactions"),{userId:e.uid,accountId:h,amount:d,type:c,category:p,note:y,date:v,createdAt:Date.now()});const t=xx(IO,"accounts",h),n=await bO(t);if(n.exists()){const e=n.data().balance,r="income"===c?e+d:e-d;await EO(t,{balance:r})}s(!1),u(""),g("")}catch(f){alert("")}},className:"space-y-6",children:[X.jsxs("div",{className:"grid grid-cols-2 gap-3 p-1.5 bg-slate-100 rounded-2xl",children:[X.jsx("button",{type:"button",onClick:()=>{d("expense"),m(T1[0].name)},className:"py-3 rounded-xl font-bold transition-all "+("expense"===c?"bg-white text-rose-500 shadow-sm":"text-slate-400"),children:""}),X.jsx("button",{type:"button",onClick:()=>{var e;d("income"),m((null==(e=T1.find(e=>"income"===e.type))?void 0:e.name)||"")},className:"py-3 rounded-xl font-bold transition-all "+("income"===c?"bg-white text-emerald-500 shadow-sm":"text-slate-400"),children:""})]}),X.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:""}),X.jsxs("div",{className:"relative",children:[X.jsx(VO,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),X.jsx("input",{type:"number",value:l,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-4 bg-slate-50 rounded-2xl outline-none font-black text-xl",required:!0})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:""}),X.jsx("input",{type:"date",value:v,onChange:e=>b(e.target.value),className:"w-full px-4 py-4 bg-slate-50 rounded-2xl outline-none font-bold",required:!0})]})]}),X.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:""}),X.jsx("select",{value:h,onChange:e=>f(e.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl outline-none font-bold",children:i.length>0?i.map(e=>X.jsx("option",{value:e.id,children:e.name},e.id)):X.jsx("option",{disabled:!0,children:""})})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:""}),X.jsx("select",{value:p,onChange:e=>m(e.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl outline-none font-bold",children:T1.filter(e=>e.type===c).map(e=>X.jsx("option",{value:e.name,children:e.name},e.id))})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:""}),X.jsx("input",{value:y,onChange:e=>g(e.target.value),className:"w-full px-4 py-4 bg-slate-50 rounded-2xl outline-none font-medium",placeholder:"..."})]}),X.jsxs("div",{className:"flex gap-3 pt-4",children:[X.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-4 font-bold text-slate-400 hover:bg-slate-50 rounded-2xl",children:""}),X.jsx("button",{type:"submit",disabled:0===i.length,className:"flex-1 py-4 font-bold bg-indigo-600 text-white rounded-2xl hover:bg-indigo-700 shadow-lg disabled:opacity-50",children:""})]})]})]})})]})};var P1={};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let N1,j1;function R1(e,t,n,r){var i,o;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:N1,vertexUrl:j1};return t?null!==(i=e.vertexUrl)&&void 0!==i?i:n:null!==(o=e.geminiUrl)&&void 0!==o?o:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M1{}function D1(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function L1(e,t,n){for(let o=0;o<t.length-1;o++){const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(!(i in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[i]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[i])){const r=e[i];if(Array.isArray(n))for(let e=0;e<r.length;e++){L1(r[e],t.slice(o+1),n[e])}else for(const e of r)L1(e,t.slice(o+1),n)}return}if(r.endsWith("[0]")){const i=r.slice(0,-3);i in e||(e[i]=[{}]);return void L1(e[i][0],t.slice(o+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],i=e[r];if(void 0!==i){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===i)return;if("object"!=typeof i||"object"!=typeof n||null===i||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(i,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function U1(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const i=e[o];return Array.isArray(i)?i.map(e=>U1(e,t.slice(r+1),n)):n}return n}e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function F1(e,t,n,r,i){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const e of s[a])F1(e,t,n,r+1,i)}else if("*"===o){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,o=Object.keys(t).filter(e=>!e.startsWith("_")&&!i.has(e)),a={};for(const e of o)a[e]=t[e];for(const[e,i]of Object.entries(a)){const o=[];for(const t of n.slice(r))"*"===t?o.push(e):o.push(t);L1(t,o,i)}for(const e of o)delete t[e]}}else{o in e&&F1(e[o],t,n,r+1,i)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V1(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response","generateVideoResponse"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["video"]);null!=n&&L1(t,["video"],function(e){const t={},n=U1(e,["uri"]);null!=n&&L1(t,["uri"],n);const r=U1(e,["encodedVideo"]);null!=r&&L1(t,["videoBytes"],V1(r));const i=U1(e,["encoding"]);null!=i&&L1(t,["mimeType"],i);return t}(n));return t}(e))),L1(t,["generatedVideos"],e)}const r=U1(e,["raiMediaFilteredCount"]);null!=r&&L1(t,["raiMediaFilteredCount"],r);const i=U1(e,["raiMediaFilteredReasons"]);null!=i&&L1(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function q1(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["_self"]);null!=n&&L1(t,["video"],function(e){const t={},n=U1(e,["gcsUri"]);null!=n&&L1(t,["uri"],n);const r=U1(e,["bytesBase64Encoded"]);null!=r&&L1(t,["videoBytes"],V1(r));const i=U1(e,["mimeType"]);null!=i&&L1(t,["mimeType"],i);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),L1(t,["generatedVideos"],e)}const r=U1(e,["raiMediaFilteredCount"]);null!=r&&L1(t,["raiMediaFilteredCount"],r);const i=U1(e,["raiMediaFilteredReasons"]);null!=i&&L1(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function z1(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["parent"]);null!=r&&L1(t,["parent"],r);const i=U1(e,["documentName"]);null!=i&&L1(t,["documentName"],i);return t}(a)),t}function H1(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["parent"]);null!=r&&L1(t,["parent"],r);const i=U1(e,["documentName"]);null!=i&&L1(t,["documentName"],i);return t}(a)),t}var G1,$1,W1,K1,J1,Y1,X1,Q1,Z1,e2,t2,n2,r2,i2,o2,a2,s2,l2,u2,c2,d2,h2,f2,p2,m2,y2,g2,v2,b2,w2,E2,S2,_2,x2,O2,T2,A2,I2,C2,k2,P2,N2,j2,R2,M2,D2,L2,U2,F2,V2,B2,q2,z2,H2,G2,$2,W2,K2,J2,Y2,X2,Q2,Z2,e4,t4,n4,r4,i4,o4,a4,s4,l4,u4,c4,d4,h4,f4,p4,m4,y4,g4,v4,b4,w4,E4,S4,_4,x4,O4,T4,A4,I4,C4,k4,P4,N4,j4,R4,M4,D4,L4,U4,F4,V4,B4,q4,z4,H4,G4,$4,W4,K4,J4,Y4;($1=G1||(G1={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",$1.OUTCOME_OK="OUTCOME_OK",$1.OUTCOME_FAILED="OUTCOME_FAILED",$1.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(K1=W1||(W1={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",K1.PYTHON="PYTHON",(Y1=J1||(J1={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",Y1.SILENT="SILENT",Y1.WHEN_IDLE="WHEN_IDLE",Y1.INTERRUPT="INTERRUPT",(Q1=X1||(X1={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",Q1.STRING="STRING",Q1.NUMBER="NUMBER",Q1.INTEGER="INTEGER",Q1.BOOLEAN="BOOLEAN",Q1.ARRAY="ARRAY",Q1.OBJECT="OBJECT",Q1.NULL="NULL",(e2=Z1||(Z1={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",e2.MODE_DYNAMIC="MODE_DYNAMIC",(n2=t2||(t2={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n2.SIMPLE_SEARCH="SIMPLE_SEARCH",n2.ELASTIC_SEARCH="ELASTIC_SEARCH",(i2=r2||(r2={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i2.NO_AUTH="NO_AUTH",i2.API_KEY_AUTH="API_KEY_AUTH",i2.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i2.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i2.OAUTH="OAUTH",i2.OIDC_AUTH="OIDC_AUTH",(a2=o2||(o2={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",a2.HTTP_IN_QUERY="HTTP_IN_QUERY",a2.HTTP_IN_HEADER="HTTP_IN_HEADER",a2.HTTP_IN_PATH="HTTP_IN_PATH",a2.HTTP_IN_BODY="HTTP_IN_BODY",a2.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(l2=s2||(s2={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l2.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l2.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l2.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l2.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l2.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l2.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(c2=u2||(u2={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",c2.LOW="LOW",c2.MEDIUM="MEDIUM",c2.HIGH="HIGH",c2.MINIMAL="MINIMAL",(h2=d2||(d2={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",h2.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",h2.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",h2.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",h2.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",h2.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",h2.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",h2.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",h2.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",h2.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",h2.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(p2=f2||(f2={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",p2.SEVERITY="SEVERITY",p2.PROBABILITY="PROBABILITY",(y2=m2||(m2={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",y2.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",y2.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",y2.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",y2.BLOCK_NONE="BLOCK_NONE",y2.OFF="OFF",(v2=g2||(g2={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",v2.STOP="STOP",v2.MAX_TOKENS="MAX_TOKENS",v2.SAFETY="SAFETY",v2.RECITATION="RECITATION",v2.LANGUAGE="LANGUAGE",v2.OTHER="OTHER",v2.BLOCKLIST="BLOCKLIST",v2.PROHIBITED_CONTENT="PROHIBITED_CONTENT",v2.SPII="SPII",v2.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",v2.IMAGE_SAFETY="IMAGE_SAFETY",v2.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",v2.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",v2.NO_IMAGE="NO_IMAGE",v2.IMAGE_RECITATION="IMAGE_RECITATION",v2.IMAGE_OTHER="IMAGE_OTHER",(w2=b2||(b2={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",w2.NEGLIGIBLE="NEGLIGIBLE",w2.LOW="LOW",w2.MEDIUM="MEDIUM",w2.HIGH="HIGH",(S2=E2||(E2={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",S2.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",S2.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",S2.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",S2.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(x2=_2||(_2={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",x2.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",x2.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",x2.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",x2.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(T2=O2||(O2={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",T2.SAFETY="SAFETY",T2.OTHER="OTHER",T2.BLOCKLIST="BLOCKLIST",T2.PROHIBITED_CONTENT="PROHIBITED_CONTENT",T2.IMAGE_SAFETY="IMAGE_SAFETY",T2.MODEL_ARMOR="MODEL_ARMOR",T2.JAILBREAK="JAILBREAK",(I2=A2||(A2={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",I2.ON_DEMAND="ON_DEMAND",I2.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(k2=C2||(C2={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",k2.TEXT="TEXT",k2.IMAGE="IMAGE",k2.AUDIO="AUDIO",(N2=P2||(P2={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",N2.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",N2.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",N2.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(R2=j2||(j2={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",R2.TUNING_MODE_FULL="TUNING_MODE_FULL",R2.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(D2=M2||(M2={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",D2.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",D2.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",D2.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",D2.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",D2.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",D2.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(U2=L2||(L2={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",U2.JOB_STATE_QUEUED="JOB_STATE_QUEUED",U2.JOB_STATE_PENDING="JOB_STATE_PENDING",U2.JOB_STATE_RUNNING="JOB_STATE_RUNNING",U2.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",U2.JOB_STATE_FAILED="JOB_STATE_FAILED",U2.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",U2.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",U2.JOB_STATE_PAUSED="JOB_STATE_PAUSED",U2.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",U2.JOB_STATE_UPDATING="JOB_STATE_UPDATING",U2.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(V2=F2||(F2={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",V2.TUNING_TASK_I2V="TUNING_TASK_I2V",V2.TUNING_TASK_T2V="TUNING_TASK_T2V",V2.TUNING_TASK_R2V="TUNING_TASK_R2V",(q2=B2||(B2={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",q2.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",q2.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",q2.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",q2.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(H2=z2||(z2={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",H2.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",H2.BALANCED="BALANCED",H2.PRIORITIZE_COST="PRIORITIZE_COST",($2=G2||(G2={})).UNSPECIFIED="UNSPECIFIED",$2.BLOCKING="BLOCKING",$2.NON_BLOCKING="NON_BLOCKING",(K2=W2||(W2={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",K2.MODE_DYNAMIC="MODE_DYNAMIC",(Y2=J2||(J2={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",Y2.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(Q2=X2||(X2={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Q2.AUTO="AUTO",Q2.ANY="ANY",Q2.NONE="NONE",Q2.VALIDATED="VALIDATED",(e4=Z2||(Z2={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e4.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e4.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e4.BLOCK_NONE="BLOCK_NONE",(n4=t4||(t4={})).DONT_ALLOW="DONT_ALLOW",n4.ALLOW_ADULT="ALLOW_ADULT",n4.ALLOW_ALL="ALLOW_ALL",(i4=r4||(r4={})).auto="auto",i4.en="en",i4.ja="ja",i4.ko="ko",i4.hi="hi",i4.zh="zh",i4.pt="pt",i4.es="es",(a4=o4||(o4={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a4.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a4.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a4.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a4.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(l4=s4||(s4={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l4.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l4.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l4.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(c4=u4||(u4={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",c4.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",c4.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",c4.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(h4=d4||(d4={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",h4.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",h4.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",h4.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",h4.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",h4.EDIT_MODE_STYLE="EDIT_MODE_STYLE",h4.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",h4.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(p4=f4||(f4={})).FOREGROUND="FOREGROUND",p4.BACKGROUND="BACKGROUND",p4.PROMPT="PROMPT",p4.SEMANTIC="SEMANTIC",p4.INTERACTIVE="INTERACTIVE",(y4=m4||(m4={})).ASSET="ASSET",y4.STYLE="STYLE",(v4=g4||(g4={})).INSERT="INSERT",v4.REMOVE="REMOVE",v4.REMOVE_STATIC="REMOVE_STATIC",v4.OUTPAINT="OUTPAINT",(w4=b4||(b4={})).OPTIMIZED="OPTIMIZED",w4.LOSSLESS="LOSSLESS",(S4=E4||(E4={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",S4.PREFERENCE_TUNING="PREFERENCE_TUNING",(x4=_4||(_4={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",x4.STATE_PENDING="STATE_PENDING",x4.STATE_ACTIVE="STATE_ACTIVE",x4.STATE_FAILED="STATE_FAILED",(T4=O4||(O4={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",T4.PROCESSING="PROCESSING",T4.ACTIVE="ACTIVE",T4.FAILED="FAILED",(I4=A4||(A4={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",I4.UPLOADED="UPLOADED",I4.GENERATED="GENERATED",(k4=C4||(C4={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",k4.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",k4.RESPONSE_REJECTED="RESPONSE_REJECTED",k4.NEED_MORE_INPUT="NEED_MORE_INPUT",(N4=P4||(P4={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",N4.TEXT="TEXT",N4.IMAGE="IMAGE",N4.VIDEO="VIDEO",N4.AUDIO="AUDIO",N4.DOCUMENT="DOCUMENT",(R4=j4||(j4={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",R4.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",R4.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(D4=M4||(M4={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",D4.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",D4.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(U4=L4||(L4={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",U4.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",U4.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(V4=F4||(F4={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",V4.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",V4.NO_INTERRUPTION="NO_INTERRUPTION",(q4=B4||(B4={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",q4.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",q4.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(H4=z4||(z4={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",H4.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",H4.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",H4.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",H4.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",H4.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",H4.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",H4.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",H4.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",H4.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",H4.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",H4.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",H4.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",($4=G4||(G4={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",$4.QUALITY="QUALITY",$4.DIVERSITY="DIVERSITY",$4.VOCALIZATION="VOCALIZATION",(K4=W4||(W4={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",K4.PLAY="PLAY",K4.PAUSE="PAUSE",K4.STOP="STOP",K4.RESET_CONTEXT="RESET_CONTEXT";class X4{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Q4{get text(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let l="",u=!1;const c=[];for(const d of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,l+=d.text}}return c.length,u?l:void 0}get data(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let l="";const u=[];for(const c of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(l+=atob(c.inlineData.data))}return u.length,l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const l=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class Z4{}class e3{}class t3{}class n3{}class r3{}class i3{}class o3{}class a3{}class s3{}class l3{}class u3{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new u3;let r;const i=e;return r=t?q1(i):B1(i),Object.assign(n,r),n}}class c3{}class d3{}class h3{}class f3{}class p3{}class m3{}class y3{}class g3{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new g3,r=z1(e);return Object.assign(n,r),n}}class v3{}class b3{}class w3{}class E3{}class S3{get text(){var e,t,n;let r="",i=!1;const o=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&o.push(e);if("string"==typeof a.text){if("boolean"==typeof a.thought&&a.thought)continue;i=!0,r+=a.text}}return o.length,i?r:void 0}get data(){var e,t,n;let r="";const i=[];for(const o of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(o))"inlineData"!==e&&null!==t&&i.push(e);o.inlineData&&"string"==typeof o.inlineData.data&&(r+=atob(o.inlineData.data))}return i.length,r.length>0?btoa(r):void 0}}class _3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class x3{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new x3,r=H1(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O3(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function T3(e,t){const n=O3(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function A3(e){return Array.isArray(e)?e.map(e=>I3(e)):[I3(e)]}function I3(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function C3(e){const t=I3(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function k3(e){const t=I3(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function P3(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function N3(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>P3(e)):[P3(e)]}function j3(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function R3(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function M3(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function D3(e){if(null==e)throw new Error("ContentUnion is required");return j3(e)?e:{role:"user",parts:N3(e)}}function L3(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=D3(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=D3(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>D3(e)):[D3(t)]}function U3(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(R3(e)||M3(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[D3(e)]}const t=[],n=[],r=j3(e[0]);for(const i of e){const e=j3(i);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(i);else{if(R3(i)||M3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:N3(n)}),t}function F3(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;null!=o&&2==o.length&&("null"===o[0].type?(t.nullable=!0,e=o[1]):"null"===o[1].type&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(X1).includes(n[0].toUpperCase())?n[0].toUpperCase():X1.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(X1).includes(e.toUpperCase())?e.toUpperCase():X1.TYPE_UNSPECIFIED})}}(e.type,t);for(const[a,s]of Object.entries(e))if(null!=s)if("type"==a){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(X1).includes(s.toUpperCase())?s.toUpperCase():X1.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=F3(s);else if(r.includes(a)){const e=[];for(const n of s)"null"!=n.type?e.push(F3(n)):t.nullable=!0;t[a]=e}else if(i.includes(a)){const e={};for(const[t,n]of Object.entries(s))e[t]=F3(n);t[a]=e}else{if("additionalProperties"===a)continue;t[a]=s}return t}function V3(e){return F3(e)}function B3(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function q3(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function z3(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=F3(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=F3(t.response));return e}function H3(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function G3(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}(e,t,"cachedContents")}function $3(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function W3(e){return V1(e)}function K3(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function J3(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Y3(e){for(const t of["models","tunedModels","publisherModels"])if(X3(e,t))return e[t];return[]}function X3(e,t){return null!==e&&"object"==typeof e&&t in e}function Q3(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function Z3(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==i)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function e5(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let i=!1;for(const o of r){if("object"!=typeof o||null===o)continue;const e=o.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function t5(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function n5(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r5(e){const t={},n=U1(e,["responsesFile"]);null!=n&&L1(t,["fileName"],n);const r=U1(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["response"]);null!=n&&L1(t,["response"],function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["content"]);null!=n&&L1(t,["content"],n);const r=U1(e,["citationMetadata"]);null!=r&&L1(t,["citationMetadata"],function(e){const t={},n=U1(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["citations"],e)}return t}(r));const i=U1(e,["tokenCount"]);null!=i&&L1(t,["tokenCount"],i);const o=U1(e,["finishReason"]);null!=o&&L1(t,["finishReason"],o);const a=U1(e,["avgLogprobs"]);null!=a&&L1(t,["avgLogprobs"],a);const s=U1(e,["groundingMetadata"]);null!=s&&L1(t,["groundingMetadata"],s);const l=U1(e,["index"]);null!=l&&L1(t,["index"],l);const u=U1(e,["logprobsResult"]);null!=u&&L1(t,["logprobsResult"],u);const c=U1(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["safetyRatings"],e)}const d=U1(e,["urlContextMetadata"]);null!=d&&L1(t,["urlContextMetadata"],d);return t}(e))),L1(t,["candidates"],e)}const i=U1(e,["modelVersion"]);null!=i&&L1(t,["modelVersion"],i);const o=U1(e,["promptFeedback"]);null!=o&&L1(t,["promptFeedback"],o);const a=U1(e,["responseId"]);null!=a&&L1(t,["responseId"],a);const s=U1(e,["usageMetadata"]);null!=s&&L1(t,["usageMetadata"],s);return t}(n));const r=U1(e,["error"]);null!=r&&L1(t,["error"],r);return t}(e))),L1(t,["inlinedResponses"],e)}const i=U1(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["inlinedEmbedContentResponses"],e)}return t}function i5(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata","displayName"]);null!=r&&L1(t,["displayName"],r);const i=U1(e,["metadata","state"]);null!=i&&L1(t,["state"],n5(i));const o=U1(e,["metadata","createTime"]);null!=o&&L1(t,["createTime"],o);const a=U1(e,["metadata","endTime"]);null!=a&&L1(t,["endTime"],a);const s=U1(e,["metadata","updateTime"]);null!=s&&L1(t,["updateTime"],s);const l=U1(e,["metadata","model"]);null!=l&&L1(t,["model"],l);const u=U1(e,["metadata","output"]);return null!=u&&L1(t,["dest"],r5(e5(u))),t}function o5(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["displayName"]);null!=r&&L1(t,["displayName"],r);const i=U1(e,["state"]);null!=i&&L1(t,["state"],n5(i));const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["createTime"]);null!=a&&L1(t,["createTime"],a);const s=U1(e,["startTime"]);null!=s&&L1(t,["startTime"],s);const l=U1(e,["endTime"]);null!=l&&L1(t,["endTime"],l);const u=U1(e,["updateTime"]);null!=u&&L1(t,["updateTime"],u);const c=U1(e,["model"]);null!=c&&L1(t,["model"],c);const d=U1(e,["inputConfig"]);null!=d&&L1(t,["src"],function(e){const t={},n=U1(e,["instancesFormat"]);null!=n&&L1(t,["format"],n);const r=U1(e,["gcsSource","uris"]);null!=r&&L1(t,["gcsUri"],r);const i=U1(e,["bigquerySource","inputUri"]);null!=i&&L1(t,["bigqueryUri"],i);return t}(d));const h=U1(e,["outputConfig"]);null!=h&&L1(t,["dest"],function(e){const t={},n=U1(e,["predictionsFormat"]);null!=n&&L1(t,["format"],n);const r=U1(e,["gcsDestination","outputUriPrefix"]);null!=r&&L1(t,["gcsUri"],r);const i=U1(e,["bigqueryDestination","outputUri"]);return null!=i&&L1(t,["bigqueryUri"],i),t}(e5(h)));const f=U1(e,["completionStats"]);return null!=f&&L1(t,["completionStats"],f),t}function a5(e,t){const n={};if(void 0!==U1(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==U1(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==U1(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=U1(t,["fileName"]);null!=r&&L1(n,["fileName"],r);const i=U1(t,["inlinedRequests"]);if(null!=i){let t=i;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["request","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>s5(e))),L1(n,["request","contents"],e)}const o=U1(t,["metadata"]);null!=o&&L1(n,["metadata"],o);const a=U1(t,["config"]);null!=a&&L1(n,["request","generationConfig"],function(e,t,n){const r={},i=U1(t,["systemInstruction"]);void 0!==n&&null!=i&&L1(n,["systemInstruction"],s5(D3(i)));const o=U1(t,["temperature"]);null!=o&&L1(r,["temperature"],o);const a=U1(t,["topP"]);null!=a&&L1(r,["topP"],a);const s=U1(t,["topK"]);null!=s&&L1(r,["topK"],s);const l=U1(t,["candidateCount"]);null!=l&&L1(r,["candidateCount"],l);const u=U1(t,["maxOutputTokens"]);null!=u&&L1(r,["maxOutputTokens"],u);const c=U1(t,["stopSequences"]);null!=c&&L1(r,["stopSequences"],c);const d=U1(t,["responseLogprobs"]);null!=d&&L1(r,["responseLogprobs"],d);const h=U1(t,["logprobs"]);null!=h&&L1(r,["logprobs"],h);const f=U1(t,["presencePenalty"]);null!=f&&L1(r,["presencePenalty"],f);const p=U1(t,["frequencyPenalty"]);null!=p&&L1(r,["frequencyPenalty"],p);const m=U1(t,["seed"]);null!=m&&L1(r,["seed"],m);const y=U1(t,["responseMimeType"]);null!=y&&L1(r,["responseMimeType"],y);const g=U1(t,["responseSchema"]);null!=g&&L1(r,["responseSchema"],V3(g));const v=U1(t,["responseJsonSchema"]);null!=v&&L1(r,["responseJsonSchema"],v);if(void 0!==U1(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==U1(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=U1(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["category"]);null!=n&&L1(t,["category"],n);if(void 0!==U1(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=U1(e,["threshold"]);null!=r&&L1(t,["threshold"],r);return t}(e))),L1(n,["safetySettings"],e)}const w=U1(t,["tools"]);if(void 0!==n&&null!=w){let e=H3(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["functionDeclarations"],e)}if(void 0!==U1(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=U1(e,["googleSearchRetrieval"]);null!=r&&L1(t,["googleSearchRetrieval"],r);const i=U1(e,["computerUse"]);null!=i&&L1(t,["computerUse"],i);const o=U1(e,["fileSearch"]);null!=o&&L1(t,["fileSearch"],o);const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);if(void 0!==U1(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=U1(e,["googleMaps"]);null!=s&&L1(t,["googleMaps"],function(e){const t={};if(void 0!==U1(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=U1(e,["enableWidget"]);null!=n&&L1(t,["enableWidget"],n);return t}(s));const l=U1(e,["googleSearch"]);null!=l&&L1(t,["googleSearch"],function(e){const t={};if(void 0!==U1(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==U1(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=U1(e,["timeRangeFilter"]);null!=n&&L1(t,["timeRangeFilter"],n);return t}(l));const u=U1(e,["urlContext"]);null!=u&&L1(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(z3(e)))),L1(n,["tools"],e)}const E=U1(t,["toolConfig"]);void 0!==n&&null!=E&&L1(n,["toolConfig"],function(e){const t={},n=U1(e,["functionCallingConfig"]);null!=n&&L1(t,["functionCallingConfig"],function(e){const t={},n=U1(e,["mode"]);null!=n&&L1(t,["mode"],n);const r=U1(e,["allowedFunctionNames"]);null!=r&&L1(t,["allowedFunctionNames"],r);if(void 0!==U1(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=U1(e,["retrievalConfig"]);null!=r&&L1(t,["retrievalConfig"],r);return t}(E));if(void 0!==U1(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const S=U1(t,["cachedContent"]);void 0!==n&&null!=S&&L1(n,["cachedContent"],G3(e,S));const _=U1(t,["responseModalities"]);null!=_&&L1(r,["responseModalities"],_);const x=U1(t,["mediaResolution"]);null!=x&&L1(r,["mediaResolution"],x);const O=U1(t,["speechConfig"]);null!=O&&L1(r,["speechConfig"],B3(O));if(void 0!==U1(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=U1(t,["thinkingConfig"]);null!=T&&L1(r,["thinkingConfig"],T);const A=U1(t,["imageConfig"]);null!=A&&L1(r,["imageConfig"],function(e){const t={},n=U1(e,["aspectRatio"]);null!=n&&L1(t,["aspectRatio"],n);const r=U1(e,["imageSize"]);null!=r&&L1(t,["imageSize"],r);if(void 0!==U1(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==U1(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const I=U1(t,["enableEnhancedCivicAnswers"]);null!=I&&L1(r,["enableEnhancedCivicAnswers"],I);return r}(e,a,U1(n,["request"],{})));return n}(e,t))),L1(n,["requests","requests"],t)}return n}function s5(e){const t={},n=U1(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["mediaResolution"]);null!=n&&L1(t,["mediaResolution"],n);const r=U1(e,["codeExecutionResult"]);null!=r&&L1(t,["codeExecutionResult"],r);const i=U1(e,["executableCode"]);null!=i&&L1(t,["executableCode"],i);const o=U1(e,["fileData"]);null!=o&&L1(t,["fileData"],function(e){const t={};if(void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=U1(e,["fileUri"]);null!=n&&L1(t,["fileUri"],n);const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(o));const a=U1(e,["functionCall"]);null!=a&&L1(t,["functionCall"],function(e){const t={},n=U1(e,["id"]);null!=n&&L1(t,["id"],n);const r=U1(e,["args"]);null!=r&&L1(t,["args"],r);const i=U1(e,["name"]);null!=i&&L1(t,["name"],i);if(void 0!==U1(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==U1(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=U1(e,["functionResponse"]);null!=s&&L1(t,["functionResponse"],s);const l=U1(e,["inlineData"]);null!=l&&L1(t,["inlineData"],function(e){const t={},n=U1(e,["data"]);if(null!=n&&L1(t,["data"],n),void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}(l));const u=U1(e,["text"]);null!=u&&L1(t,["text"],u);const c=U1(e,["thought"]);null!=c&&L1(t,["thought"],c);const d=U1(e,["thoughtSignature"]);null!=d&&L1(t,["thoughtSignature"],d);const h=U1(e,["videoMetadata"]);null!=h&&L1(t,["videoMetadata"],h);return t}(e))),L1(t,["parts"],e)}const r=U1(e,["role"]);return null!=r&&L1(t,["role"],r),t}function l5(e,t){const n=U1(e,["displayName"]);void 0!==t&&null!=n&&L1(t,["displayName"],n);const r=U1(e,["dest"]);return void 0!==t&&null!=r&&L1(t,["outputConfig"],function(e){const t={},n=U1(e,["format"]);null!=n&&L1(t,["predictionsFormat"],n);const r=U1(e,["gcsUri"]);null!=r&&L1(t,["gcsDestination","outputUriPrefix"],r);const i=U1(e,["bigqueryUri"]);if(null!=i&&L1(t,["bigqueryDestination","outputUri"],i),void 0!==U1(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==U1(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==U1(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function u5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["src"]);null!=i&&L1(n,["batch","inputConfig"],a5(e,Z3(e,i)));const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["displayName"]);if(void 0!==t&&null!=n&&L1(t,["batch","displayName"],n),void 0!==U1(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(o,n),n}function c5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["model"],O3(e,r));const i=U1(t,["src"]);null!=i&&L1(n,["inputConfig"],function(e){const t={},n=U1(e,["format"]);null!=n&&L1(t,["instancesFormat"],n);const r=U1(e,["gcsUri"]);null!=r&&L1(t,["gcsSource","uris"],r);const i=U1(e,["bigqueryUri"]);if(null!=i&&L1(t,["bigquerySource","inputUri"],i),void 0!==U1(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==U1(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Z3(e,i)));const o=U1(t,["config"]);return null!=o&&l5(o,n),n}function d5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["src"]);null!=i&&L1(n,["batch","inputConfig"],function(e,t){const n={},r=U1(t,["fileName"]);null!=r&&L1(n,["file_name"],r);const i=U1(t,["inlinedRequests"]);null!=i&&L1(n,["requests"],function(e,t){const n={},r=U1(t,["contents"]);if(null!=r){let t=L3(e,r);Array.isArray(t)&&(t=t.map(e=>e)),L1(n,["requests[]","request","content"],t)}const i=U1(t,["config"]);null!=i&&(L1(n,["_self"],function(e,t){const n={},r=U1(e,["taskType"]);void 0!==t&&null!=r&&L1(t,["requests[]","taskType"],r);const i=U1(e,["title"]);void 0!==t&&null!=i&&L1(t,["requests[]","title"],i);const o=U1(e,["outputDimensionality"]);void 0!==t&&null!=o&&L1(t,["requests[]","outputDimensionality"],o);if(void 0!==U1(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==U1(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(i,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),i=r.split("."),o=new Set;let a=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){a=e;break}if(-1!==a&&i.length>a)for(let e=a;e<i.length;e++){const t=i[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||o.add(t)}F1(e,t,i,0,o)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,i));return n}(e,i));const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["displayName"]);void 0!==t&&null!=n&&L1(t,["batch","displayName"],n)}(o,n),n}function h5(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);if(void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r),void 0!==U1(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function f5(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r);const i=U1(e,["filter"]);void 0!==t&&null!=i&&L1(t,["_query","filter"],i)}(n,t),t}(Y4=J4||(J4={})).PAGED_ITEM_BATCH_JOBS="batchJobs",Y4.PAGED_ITEM_MODELS="models",Y4.PAGED_ITEM_TUNING_JOBS="tuningJobs",Y4.PAGED_ITEM_FILES="files",Y4.PAGED_ITEM_CACHED_CONTENTS="cachedContents",Y4.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",Y4.PAGED_ITEM_DOCUMENTS="documents";class p5{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};o=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=null!==(i=null===(r=o.config)||void 0===r?void 0:r.pageSize)&&void 0!==i?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5 extends M1{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new p5(J4.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=u5(this.apiClient,e),n=D1("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,i=r.requests,o=[];for(const a of i){const e=Object.assign({},a);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}o.push(e)}return r.requests=o,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!i)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${i}_dest_${r}`}}return n}async createInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=c5(this.apiClient,e);return a=D1("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>o5(e))}{const t=u5(this.apiClient,e);return a=D1("{model}:batchGenerateContent",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>i5(e))}}async createEmbeddingsInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=d5(this.apiClient,e);return i=D1("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>i5(e))}}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);return a=D1("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>o5(e))}{const t=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);return a=D1("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>i5(e))}}async cancel(e){var t,n,r,i;let o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);o=D1("batchPredictionJobs/{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);o=D1("batches/{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal})}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=f5(e);return a=D1("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>o5(e))),L1(t,["batchJobs"],e)}return t}(e),n=new E3;return Object.assign(n,t),n})}{const t=h5(e);return a=D1("batches",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>i5(e))),L1(t,["batchJobs"],e)}return t}(e),n=new E3;return Object.assign(n,t),n})}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);return a=D1("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);return null!=o&&L1(t,["error"],o),t}(e))}{const t=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],t5(e,r)),n}(this.apiClient,e);return a=D1("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);return null!=o&&L1(t,["error"],o),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y5(e){const t={},n=U1(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["mediaResolution"]);null!=n&&L1(t,["mediaResolution"],n);const r=U1(e,["codeExecutionResult"]);null!=r&&L1(t,["codeExecutionResult"],r);const i=U1(e,["executableCode"]);null!=i&&L1(t,["executableCode"],i);const o=U1(e,["fileData"]);null!=o&&L1(t,["fileData"],function(e){const t={};if(void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=U1(e,["fileUri"]);null!=n&&L1(t,["fileUri"],n);const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(o));const a=U1(e,["functionCall"]);null!=a&&L1(t,["functionCall"],function(e){const t={},n=U1(e,["id"]);null!=n&&L1(t,["id"],n);const r=U1(e,["args"]);null!=r&&L1(t,["args"],r);const i=U1(e,["name"]);null!=i&&L1(t,["name"],i);if(void 0!==U1(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==U1(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=U1(e,["functionResponse"]);null!=s&&L1(t,["functionResponse"],s);const l=U1(e,["inlineData"]);null!=l&&L1(t,["inlineData"],function(e){const t={},n=U1(e,["data"]);if(null!=n&&L1(t,["data"],n),void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}(l));const u=U1(e,["text"]);null!=u&&L1(t,["text"],u);const c=U1(e,["thought"]);null!=c&&L1(t,["thought"],c);const d=U1(e,["thoughtSignature"]);null!=d&&L1(t,["thoughtSignature"],d);const h=U1(e,["videoMetadata"]);null!=h&&L1(t,["videoMetadata"],h);return t}(e))),L1(t,["parts"],e)}const r=U1(e,["role"]);return null!=r&&L1(t,["role"],r),t}function g5(e,t){const n=U1(e,["ttl"]);void 0!==t&&null!=n&&L1(t,["ttl"],n);const r=U1(e,["expireTime"]);void 0!==t&&null!=r&&L1(t,["expireTime"],r);const i=U1(e,["displayName"]);void 0!==t&&null!=i&&L1(t,["displayName"],i);const o=U1(e,["contents"]);if(void 0!==t&&null!=o){let e=U3(o);Array.isArray(e)&&(e=e.map(e=>y5(e))),L1(t,["contents"],e)}const a=U1(e,["systemInstruction"]);void 0!==t&&null!=a&&L1(t,["systemInstruction"],y5(D3(a)));const s=U1(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["functionDeclarations"],e)}if(void 0!==U1(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=U1(e,["googleSearchRetrieval"]);null!=r&&L1(t,["googleSearchRetrieval"],r);const i=U1(e,["computerUse"]);null!=i&&L1(t,["computerUse"],i);const o=U1(e,["fileSearch"]);null!=o&&L1(t,["fileSearch"],o);const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);if(void 0!==U1(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=U1(e,["googleMaps"]);null!=s&&L1(t,["googleMaps"],function(e){const t={};if(void 0!==U1(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=U1(e,["enableWidget"]);null!=n&&L1(t,["enableWidget"],n);return t}(s));const l=U1(e,["googleSearch"]);null!=l&&L1(t,["googleSearch"],function(e){const t={};if(void 0!==U1(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==U1(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=U1(e,["timeRangeFilter"]);null!=n&&L1(t,["timeRangeFilter"],n);return t}(l));const u=U1(e,["urlContext"]);null!=u&&L1(t,["urlContext"],u);return t}(e))),L1(t,["tools"],e)}const l=U1(e,["toolConfig"]);if(void 0!==t&&null!=l&&L1(t,["toolConfig"],function(e){const t={},n=U1(e,["functionCallingConfig"]);null!=n&&L1(t,["functionCallingConfig"],function(e){const t={},n=U1(e,["mode"]);null!=n&&L1(t,["mode"],n);const r=U1(e,["allowedFunctionNames"]);null!=r&&L1(t,["allowedFunctionNames"],r);if(void 0!==U1(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=U1(e,["retrievalConfig"]);null!=r&&L1(t,["retrievalConfig"],r);return t}(l)),void 0!==U1(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function v5(e,t){const n=U1(e,["ttl"]);void 0!==t&&null!=n&&L1(t,["ttl"],n);const r=U1(e,["expireTime"]);void 0!==t&&null!=r&&L1(t,["expireTime"],r);const i=U1(e,["displayName"]);void 0!==t&&null!=i&&L1(t,["displayName"],i);const o=U1(e,["contents"]);if(void 0!==t&&null!=o){let e=U3(o);Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["contents"],e)}const a=U1(e,["systemInstruction"]);void 0!==t&&null!=a&&L1(t,["systemInstruction"],D3(a));const s=U1(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==U1(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=U1(e,["description"]);null!=n&&L1(t,["description"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["parameters"]);null!=i&&L1(t,["parameters"],i);const o=U1(e,["parametersJsonSchema"]);null!=o&&L1(t,["parametersJsonSchema"],o);const a=U1(e,["response"]);null!=a&&L1(t,["response"],a);const s=U1(e,["responseJsonSchema"]);null!=s&&L1(t,["responseJsonSchema"],s);return t}(e))),L1(t,["functionDeclarations"],e)}const r=U1(e,["retrieval"]);null!=r&&L1(t,["retrieval"],r);const i=U1(e,["googleSearchRetrieval"]);null!=i&&L1(t,["googleSearchRetrieval"],i);const o=U1(e,["computerUse"]);null!=o&&L1(t,["computerUse"],o);if(void 0!==U1(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);const s=U1(e,["enterpriseWebSearch"]);null!=s&&L1(t,["enterpriseWebSearch"],s);const l=U1(e,["googleMaps"]);null!=l&&L1(t,["googleMaps"],l);const u=U1(e,["googleSearch"]);null!=u&&L1(t,["googleSearch"],u);const c=U1(e,["urlContext"]);null!=c&&L1(t,["urlContext"],c);return t}(e))),L1(t,["tools"],e)}const l=U1(e,["toolConfig"]);void 0!==t&&null!=l&&L1(t,["toolConfig"],l);const u=U1(e,["kmsKeyName"]);return void 0!==t&&null!=u&&L1(t,["encryption_spec","kmsKeyName"],u),{}}function b5(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r)}(n,t),t}function w5(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r)}(n,t),t}function E5(e,t){const n={},r=U1(t,["name"]);null!=r&&L1(n,["_url","name"],G3(e,r));const i=U1(t,["config"]);return null!=i&&function(e,t){const n=U1(e,["ttl"]);void 0!==t&&null!=n&&L1(t,["ttl"],n);const r=U1(e,["expireTime"]);void 0!==t&&null!=r&&L1(t,["expireTime"],r)}(i,n),n}function S5(e,t){const n={},r=U1(t,["name"]);null!=r&&L1(n,["_url","name"],G3(e,r));const i=U1(t,["config"]);return null!=i&&function(e,t){const n=U1(e,["ttl"]);void 0!==t&&null!=n&&L1(t,["ttl"],n);const r=U1(e,["expireTime"]);void 0!==t&&null!=r&&L1(t,["expireTime"],r)}(i,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _5 extends M1{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new p5(J4.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["model"],T3(e,r));const i=U1(t,["config"]);return null!=i&&v5(i,n),n}(this.apiClient,e);return a=D1("cachedContents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["model"],T3(e,r));const i=U1(t,["config"]);return null!=i&&g5(i,n),n}(this.apiClient,e);return a=D1("cachedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],G3(e,r)),n}(this.apiClient,e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],G3(e,r)),n}(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],G3(e,r)),n}(this.apiClient,e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new h3;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=U1(t,["name"]);return null!=r&&L1(n,["_url","name"],G3(e,r)),n}(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new h3;return Object.assign(n,t),n})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=S5(this.apiClient,e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=E5(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=w5(e);return a=D1("cachedContents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["cachedContents"],e)}return t}(e),n=new f3;return Object.assign(n,t),n})}{const t=b5(e);return a=D1("cachedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["cachedContents"],e)}return t}(e),n=new f3;return Object.assign(n,t),n})}}}function x5(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function O5(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function T5(e){return this instanceof T5?(this.v=e,this):new T5(e)}function A5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=i[e](t)).value instanceof T5?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch($8){c(o[0][3],$8)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function I5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=O5(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function C5(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&k5(n)}function k5(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function P5(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&"model"===e[r].role;)i.push(e[r]),o&&!k5(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class N5{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new j5(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class j5{constructor(e,t,n,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(i)}async sendMessage(e){var t;await this.sendPromise;const n=D3(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,i;const o=await r,a=null===(t=null===(e=o.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=o.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(i=s.slice(l))&&void 0!==i?i:[]);const c=a?[a]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=D3(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,n)}getHistory(e=!1){const t=e?P5(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return A5(this,arguments,function*(){var n,r,i,o,a,s;const l=[];try{for(var u,c=!0,d=I5(e);!(n=(u=yield T5(d.next())).done);c=!0){o=u.value,c=!1;const e=o;if(C5(e)){const t=null===(s=null===(a=e.candidates)||void 0===a?void 0:a[0])||void 0===s?void 0:s.content;void 0!==t&&l.push(t)}yield yield T5(e)}}catch(h){r={error:h}}finally{try{c||n||!(i=d.return)||(yield T5(i.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,l)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...P5(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R5 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,R5.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M5(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class D5 extends M1{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new p5(J4.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=M5(e);return i=D1("files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["files"],e)}return t}(e),n=new v3;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["file"]);return null!=n&&L1(t,["file"],n),t}(e);return i=D1("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new b3;return Object.assign(n,t),n})}}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","file"],K3(n)),t}(e);return i=D1("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","file"],K3(n)),t}(e);return i=D1("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new w3;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L5(e){const t={},n=U1(e,["data"]);if(null!=n&&L1(t,["data"],n),void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}function U5(e){const t={},n=U1(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["mediaResolution"]);null!=n&&L1(t,["mediaResolution"],n);const r=U1(e,["codeExecutionResult"]);null!=r&&L1(t,["codeExecutionResult"],r);const i=U1(e,["executableCode"]);null!=i&&L1(t,["executableCode"],i);const o=U1(e,["fileData"]);null!=o&&L1(t,["fileData"],function(e){const t={};if(void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=U1(e,["fileUri"]);null!=n&&L1(t,["fileUri"],n);const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(o));const a=U1(e,["functionCall"]);null!=a&&L1(t,["functionCall"],function(e){const t={},n=U1(e,["id"]);null!=n&&L1(t,["id"],n);const r=U1(e,["args"]);null!=r&&L1(t,["args"],r);const i=U1(e,["name"]);null!=i&&L1(t,["name"],i);if(void 0!==U1(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==U1(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=U1(e,["functionResponse"]);null!=s&&L1(t,["functionResponse"],s);const l=U1(e,["inlineData"]);null!=l&&L1(t,["inlineData"],L5(l));const u=U1(e,["text"]);null!=u&&L1(t,["text"],u);const c=U1(e,["thought"]);null!=c&&L1(t,["thought"],c);const d=U1(e,["thoughtSignature"]);null!=d&&L1(t,["thoughtSignature"],d);const h=U1(e,["videoMetadata"]);null!=h&&L1(t,["videoMetadata"],h);return t}(e))),L1(t,["parts"],e)}const r=U1(e,["role"]);return null!=r&&L1(t,["role"],r),t}function F5(e,t){const n=U1(e,["generationConfig"]);void 0!==t&&null!=n&&L1(t,["setup","generationConfig"],n);const r=U1(e,["responseModalities"]);void 0!==t&&null!=r&&L1(t,["setup","generationConfig","responseModalities"],r);const i=U1(e,["temperature"]);void 0!==t&&null!=i&&L1(t,["setup","generationConfig","temperature"],i);const o=U1(e,["topP"]);void 0!==t&&null!=o&&L1(t,["setup","generationConfig","topP"],o);const a=U1(e,["topK"]);void 0!==t&&null!=a&&L1(t,["setup","generationConfig","topK"],a);const s=U1(e,["maxOutputTokens"]);void 0!==t&&null!=s&&L1(t,["setup","generationConfig","maxOutputTokens"],s);const l=U1(e,["mediaResolution"]);void 0!==t&&null!=l&&L1(t,["setup","generationConfig","mediaResolution"],l);const u=U1(e,["seed"]);void 0!==t&&null!=u&&L1(t,["setup","generationConfig","seed"],u);const c=U1(e,["speechConfig"]);void 0!==t&&null!=c&&L1(t,["setup","generationConfig","speechConfig"],q3(c));const d=U1(e,["thinkingConfig"]);void 0!==t&&null!=d&&L1(t,["setup","generationConfig","thinkingConfig"],d);const h=U1(e,["enableAffectiveDialog"]);void 0!==t&&null!=h&&L1(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=U1(e,["systemInstruction"]);void 0!==t&&null!=f&&L1(t,["setup","systemInstruction"],U5(D3(f)));const p=U1(e,["tools"]);if(void 0!==t&&null!=p){let e=H3(p);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["functionDeclarations"],e)}if(void 0!==U1(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=U1(e,["googleSearchRetrieval"]);null!=r&&L1(t,["googleSearchRetrieval"],r);const i=U1(e,["computerUse"]);null!=i&&L1(t,["computerUse"],i);const o=U1(e,["fileSearch"]);null!=o&&L1(t,["fileSearch"],o);const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);if(void 0!==U1(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=U1(e,["googleMaps"]);null!=s&&L1(t,["googleMaps"],function(e){const t={};if(void 0!==U1(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=U1(e,["enableWidget"]);return null!=n&&L1(t,["enableWidget"],n),t}(s));const l=U1(e,["googleSearch"]);null!=l&&L1(t,["googleSearch"],function(e){const t={};if(void 0!==U1(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==U1(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=U1(e,["timeRangeFilter"]);return null!=n&&L1(t,["timeRangeFilter"],n),t}(l));const u=U1(e,["urlContext"]);null!=u&&L1(t,["urlContext"],u);return t}(z3(e)))),L1(t,["setup","tools"],e)}const m=U1(e,["sessionResumption"]);void 0!==t&&null!=m&&L1(t,["setup","sessionResumption"],function(e){const t={},n=U1(e,["handle"]);null!=n&&L1(t,["handle"],n);if(void 0!==U1(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const y=U1(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&L1(t,["setup","inputAudioTranscription"],y);const g=U1(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&L1(t,["setup","outputAudioTranscription"],g);const v=U1(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&L1(t,["setup","realtimeInputConfig"],v);const b=U1(e,["contextWindowCompression"]);void 0!==t&&null!=b&&L1(t,["setup","contextWindowCompression"],b);const w=U1(e,["proactivity"]);if(void 0!==t&&null!=w&&L1(t,["setup","proactivity"],w),void 0!==U1(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function V5(e,t){const n=U1(e,["generationConfig"]);void 0!==t&&null!=n&&L1(t,["setup","generationConfig"],function(e){const t={},n=U1(e,["modelSelectionConfig"]);null!=n&&L1(t,["modelConfig"],n);const r=U1(e,["responseJsonSchema"]);null!=r&&L1(t,["responseJsonSchema"],r);const i=U1(e,["audioTimestamp"]);null!=i&&L1(t,["audioTimestamp"],i);const o=U1(e,["candidateCount"]);null!=o&&L1(t,["candidateCount"],o);const a=U1(e,["enableAffectiveDialog"]);null!=a&&L1(t,["enableAffectiveDialog"],a);const s=U1(e,["frequencyPenalty"]);null!=s&&L1(t,["frequencyPenalty"],s);const l=U1(e,["logprobs"]);null!=l&&L1(t,["logprobs"],l);const u=U1(e,["maxOutputTokens"]);null!=u&&L1(t,["maxOutputTokens"],u);const c=U1(e,["mediaResolution"]);null!=c&&L1(t,["mediaResolution"],c);const d=U1(e,["presencePenalty"]);null!=d&&L1(t,["presencePenalty"],d);const h=U1(e,["responseLogprobs"]);null!=h&&L1(t,["responseLogprobs"],h);const f=U1(e,["responseMimeType"]);null!=f&&L1(t,["responseMimeType"],f);const p=U1(e,["responseModalities"]);null!=p&&L1(t,["responseModalities"],p);const m=U1(e,["responseSchema"]);null!=m&&L1(t,["responseSchema"],m);const y=U1(e,["routingConfig"]);null!=y&&L1(t,["routingConfig"],y);const g=U1(e,["seed"]);null!=g&&L1(t,["seed"],g);const v=U1(e,["speechConfig"]);null!=v&&L1(t,["speechConfig"],v);const b=U1(e,["stopSequences"]);null!=b&&L1(t,["stopSequences"],b);const w=U1(e,["temperature"]);null!=w&&L1(t,["temperature"],w);const E=U1(e,["thinkingConfig"]);null!=E&&L1(t,["thinkingConfig"],E);const S=U1(e,["topK"]);null!=S&&L1(t,["topK"],S);const _=U1(e,["topP"]);if(null!=_&&L1(t,["topP"],_),void 0!==U1(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=U1(e,["responseModalities"]);void 0!==t&&null!=r&&L1(t,["setup","generationConfig","responseModalities"],r);const i=U1(e,["temperature"]);void 0!==t&&null!=i&&L1(t,["setup","generationConfig","temperature"],i);const o=U1(e,["topP"]);void 0!==t&&null!=o&&L1(t,["setup","generationConfig","topP"],o);const a=U1(e,["topK"]);void 0!==t&&null!=a&&L1(t,["setup","generationConfig","topK"],a);const s=U1(e,["maxOutputTokens"]);void 0!==t&&null!=s&&L1(t,["setup","generationConfig","maxOutputTokens"],s);const l=U1(e,["mediaResolution"]);void 0!==t&&null!=l&&L1(t,["setup","generationConfig","mediaResolution"],l);const u=U1(e,["seed"]);void 0!==t&&null!=u&&L1(t,["setup","generationConfig","seed"],u);const c=U1(e,["speechConfig"]);void 0!==t&&null!=c&&L1(t,["setup","generationConfig","speechConfig"],q3(c));const d=U1(e,["thinkingConfig"]);void 0!==t&&null!=d&&L1(t,["setup","generationConfig","thinkingConfig"],d);const h=U1(e,["enableAffectiveDialog"]);void 0!==t&&null!=h&&L1(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=U1(e,["systemInstruction"]);void 0!==t&&null!=f&&L1(t,["setup","systemInstruction"],D3(f));const p=U1(e,["tools"]);if(void 0!==t&&null!=p){let e=H3(p);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==U1(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=U1(e,["description"]);null!=n&&L1(t,["description"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["parameters"]);null!=i&&L1(t,["parameters"],i);const o=U1(e,["parametersJsonSchema"]);null!=o&&L1(t,["parametersJsonSchema"],o);const a=U1(e,["response"]);null!=a&&L1(t,["response"],a);const s=U1(e,["responseJsonSchema"]);return null!=s&&L1(t,["responseJsonSchema"],s),t}(e))),L1(t,["functionDeclarations"],e)}const r=U1(e,["retrieval"]);null!=r&&L1(t,["retrieval"],r);const i=U1(e,["googleSearchRetrieval"]);null!=i&&L1(t,["googleSearchRetrieval"],i);const o=U1(e,["computerUse"]);null!=o&&L1(t,["computerUse"],o);if(void 0!==U1(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);const s=U1(e,["enterpriseWebSearch"]);null!=s&&L1(t,["enterpriseWebSearch"],s);const l=U1(e,["googleMaps"]);null!=l&&L1(t,["googleMaps"],l);const u=U1(e,["googleSearch"]);null!=u&&L1(t,["googleSearch"],u);const c=U1(e,["urlContext"]);null!=c&&L1(t,["urlContext"],c);return t}(z3(e)))),L1(t,["setup","tools"],e)}const m=U1(e,["sessionResumption"]);void 0!==t&&null!=m&&L1(t,["setup","sessionResumption"],m);const y=U1(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&L1(t,["setup","inputAudioTranscription"],y);const g=U1(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&L1(t,["setup","outputAudioTranscription"],g);const v=U1(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&L1(t,["setup","realtimeInputConfig"],v);const b=U1(e,["contextWindowCompression"]);void 0!==t&&null!=b&&L1(t,["setup","contextWindowCompression"],b);const w=U1(e,["proactivity"]);void 0!==t&&null!=w&&L1(t,["setup","proactivity"],w);const E=U1(e,["explicitVadSignal"]);return void 0!==t&&null!=E&&L1(t,["setup","explicitVadSignal"],E),{}}function B5(e){const t={},n=U1(e,["media"]);if(null!=n){let e=A3(n);Array.isArray(e)&&(e=e.map(e=>L5(e))),L1(t,["mediaChunks"],e)}const r=U1(e,["audio"]);null!=r&&L1(t,["audio"],L5(k3(r)));const i=U1(e,["audioStreamEnd"]);null!=i&&L1(t,["audioStreamEnd"],i);const o=U1(e,["video"]);null!=o&&L1(t,["video"],L5(C3(o)));const a=U1(e,["text"]);null!=a&&L1(t,["text"],a);const s=U1(e,["activityStart"]);null!=s&&L1(t,["activityStart"],s);const l=U1(e,["activityEnd"]);return null!=l&&L1(t,["activityEnd"],l),t}function q5(e){const t={},n=U1(e,["media"]);if(null!=n){let e=A3(n);Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["mediaChunks"],e)}const r=U1(e,["audio"]);null!=r&&L1(t,["audio"],k3(r));const i=U1(e,["audioStreamEnd"]);null!=i&&L1(t,["audioStreamEnd"],i);const o=U1(e,["video"]);null!=o&&L1(t,["video"],C3(o));const a=U1(e,["text"]);null!=a&&L1(t,["text"],a);const s=U1(e,["activityStart"]);null!=s&&L1(t,["activityStart"],s);const l=U1(e,["activityEnd"]);return null!=l&&L1(t,["activityEnd"],l),t}function z5(e){const t={},n=U1(e,["setupComplete"]);null!=n&&L1(t,["setupComplete"],n);const r=U1(e,["serverContent"]);null!=r&&L1(t,["serverContent"],r);const i=U1(e,["toolCall"]);null!=i&&L1(t,["toolCall"],i);const o=U1(e,["toolCallCancellation"]);null!=o&&L1(t,["toolCallCancellation"],o);const a=U1(e,["usageMetadata"]);null!=a&&L1(t,["usageMetadata"],function(e){const t={},n=U1(e,["promptTokenCount"]);null!=n&&L1(t,["promptTokenCount"],n);const r=U1(e,["cachedContentTokenCount"]);null!=r&&L1(t,["cachedContentTokenCount"],r);const i=U1(e,["candidatesTokenCount"]);null!=i&&L1(t,["responseTokenCount"],i);const o=U1(e,["toolUsePromptTokenCount"]);null!=o&&L1(t,["toolUsePromptTokenCount"],o);const a=U1(e,["thoughtsTokenCount"]);null!=a&&L1(t,["thoughtsTokenCount"],a);const s=U1(e,["totalTokenCount"]);null!=s&&L1(t,["totalTokenCount"],s);const l=U1(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["promptTokensDetails"],e)}const u=U1(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["cacheTokensDetails"],e)}const c=U1(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["responseTokensDetails"],e)}const d=U1(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["toolUsePromptTokensDetails"],e)}const h=U1(e,["trafficType"]);null!=h&&L1(t,["trafficType"],h);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(a));const s=U1(e,["goAway"]);null!=s&&L1(t,["goAway"],s);const l=U1(e,["sessionResumptionUpdate"]);null!=l&&L1(t,["sessionResumptionUpdate"],l);const u=U1(e,["voiceActivityDetectionSignal"]);return null!=u&&L1(t,["voiceActivityDetectionSignal"],u),t}function H5(e){const t={},n=U1(e,["content"]);null!=n&&L1(t,["content"],n);const r=U1(e,["citationMetadata"]);null!=r&&L1(t,["citationMetadata"],function(e){const t={},n=U1(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["citations"],e)}return t}(r));const i=U1(e,["tokenCount"]);null!=i&&L1(t,["tokenCount"],i);const o=U1(e,["finishReason"]);null!=o&&L1(t,["finishReason"],o);const a=U1(e,["avgLogprobs"]);null!=a&&L1(t,["avgLogprobs"],a);const s=U1(e,["groundingMetadata"]);null!=s&&L1(t,["groundingMetadata"],s);const l=U1(e,["index"]);null!=l&&L1(t,["index"],l);const u=U1(e,["logprobsResult"]);null!=u&&L1(t,["logprobsResult"],u);const c=U1(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["safetyRatings"],e)}const d=U1(e,["urlContextMetadata"]);return null!=d&&L1(t,["urlContextMetadata"],d),t}function G5(e){const t={},n=U1(e,["values"]);null!=n&&L1(t,["values"],n);const r=U1(e,["statistics"]);return null!=r&&L1(t,["statistics"],function(e){const t={},n=U1(e,["truncated"]);null!=n&&L1(t,["truncated"],n);const r=U1(e,["token_count"]);null!=r&&L1(t,["tokenCount"],r);return t}(r)),t}function $5(e){const t={},n=U1(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["mediaResolution"]);null!=n&&L1(t,["mediaResolution"],n);const r=U1(e,["codeExecutionResult"]);null!=r&&L1(t,["codeExecutionResult"],r);const i=U1(e,["executableCode"]);null!=i&&L1(t,["executableCode"],i);const o=U1(e,["fileData"]);null!=o&&L1(t,["fileData"],function(e){const t={};if(void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=U1(e,["fileUri"]);null!=n&&L1(t,["fileUri"],n);const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(o));const a=U1(e,["functionCall"]);null!=a&&L1(t,["functionCall"],function(e){const t={},n=U1(e,["id"]);null!=n&&L1(t,["id"],n);const r=U1(e,["args"]);null!=r&&L1(t,["args"],r);const i=U1(e,["name"]);null!=i&&L1(t,["name"],i);if(void 0!==U1(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==U1(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=U1(e,["functionResponse"]);null!=s&&L1(t,["functionResponse"],s);const l=U1(e,["inlineData"]);null!=l&&L1(t,["inlineData"],function(e){const t={},n=U1(e,["data"]);if(null!=n&&L1(t,["data"],n),void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}(l));const u=U1(e,["text"]);null!=u&&L1(t,["text"],u);const c=U1(e,["thought"]);null!=c&&L1(t,["thought"],c);const d=U1(e,["thoughtSignature"]);null!=d&&L1(t,["thoughtSignature"],d);const h=U1(e,["videoMetadata"]);null!=h&&L1(t,["videoMetadata"],h);return t}(e))),L1(t,["parts"],e)}const r=U1(e,["role"]);return null!=r&&L1(t,["role"],r),t}function W5(e,t){const n=U1(e,["systemInstruction"]);void 0!==t&&null!=n&&L1(t,["systemInstruction"],D3(n));const r=U1(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>T6(e))),L1(t,["tools"],e)}const i=U1(e,["generationConfig"]);return void 0!==t&&null!=i&&L1(t,["generationConfig"],function(e){const t={},n=U1(e,["modelSelectionConfig"]);null!=n&&L1(t,["modelConfig"],n);const r=U1(e,["responseJsonSchema"]);null!=r&&L1(t,["responseJsonSchema"],r);const i=U1(e,["audioTimestamp"]);null!=i&&L1(t,["audioTimestamp"],i);const o=U1(e,["candidateCount"]);null!=o&&L1(t,["candidateCount"],o);const a=U1(e,["enableAffectiveDialog"]);null!=a&&L1(t,["enableAffectiveDialog"],a);const s=U1(e,["frequencyPenalty"]);null!=s&&L1(t,["frequencyPenalty"],s);const l=U1(e,["logprobs"]);null!=l&&L1(t,["logprobs"],l);const u=U1(e,["maxOutputTokens"]);null!=u&&L1(t,["maxOutputTokens"],u);const c=U1(e,["mediaResolution"]);null!=c&&L1(t,["mediaResolution"],c);const d=U1(e,["presencePenalty"]);null!=d&&L1(t,["presencePenalty"],d);const h=U1(e,["responseLogprobs"]);null!=h&&L1(t,["responseLogprobs"],h);const f=U1(e,["responseMimeType"]);null!=f&&L1(t,["responseMimeType"],f);const p=U1(e,["responseModalities"]);null!=p&&L1(t,["responseModalities"],p);const m=U1(e,["responseSchema"]);null!=m&&L1(t,["responseSchema"],m);const y=U1(e,["routingConfig"]);null!=y&&L1(t,["routingConfig"],y);const g=U1(e,["seed"]);null!=g&&L1(t,["seed"],g);const v=U1(e,["speechConfig"]);null!=v&&L1(t,["speechConfig"],v);const b=U1(e,["stopSequences"]);null!=b&&L1(t,["stopSequences"],b);const w=U1(e,["temperature"]);null!=w&&L1(t,["temperature"],w);const E=U1(e,["thinkingConfig"]);null!=E&&L1(t,["thinkingConfig"],E);const S=U1(e,["topK"]);null!=S&&L1(t,["topK"],S);const _=U1(e,["topP"]);null!=_&&L1(t,["topP"],_);if(void 0!==U1(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(i)),{}}function K5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>$5(e))),L1(n,["contents"],e)}const o=U1(t,["config"]);return null!=o&&function(e){if(void 0!==U1(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==U1(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==U1(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(o),n}function J5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["prompt"]);null!=i&&L1(n,["instances[0]","prompt"],i);const o=U1(t,["referenceImages"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["referenceImage"]);null!=n&&L1(t,["referenceImage"],y6(n));const r=U1(e,["referenceId"]);null!=r&&L1(t,["referenceId"],r);const i=U1(e,["referenceType"]);null!=i&&L1(t,["referenceType"],i);const o=U1(e,["maskImageConfig"]);null!=o&&L1(t,["maskImageConfig"],function(e){const t={},n=U1(e,["maskMode"]);null!=n&&L1(t,["maskMode"],n);const r=U1(e,["segmentationClasses"]);null!=r&&L1(t,["maskClasses"],r);const i=U1(e,["maskDilation"]);null!=i&&L1(t,["dilation"],i);return t}(o));const a=U1(e,["controlImageConfig"]);null!=a&&L1(t,["controlImageConfig"],function(e){const t={},n=U1(e,["controlType"]);null!=n&&L1(t,["controlType"],n);const r=U1(e,["enableControlImageComputation"]);return null!=r&&L1(t,["computeControl"],r),t}(a));const s=U1(e,["styleImageConfig"]);null!=s&&L1(t,["styleImageConfig"],s);const l=U1(e,["subjectImageConfig"]);null!=l&&L1(t,["subjectImageConfig"],l);return t}(e))),L1(n,["instances[0]","referenceImages"],e)}const a=U1(t,["config"]);return null!=a&&function(e,t){const n=U1(e,["outputGcsUri"]);void 0!==t&&null!=n&&L1(t,["parameters","storageUri"],n);const r=U1(e,["negativePrompt"]);void 0!==t&&null!=r&&L1(t,["parameters","negativePrompt"],r);const i=U1(e,["numberOfImages"]);void 0!==t&&null!=i&&L1(t,["parameters","sampleCount"],i);const o=U1(e,["aspectRatio"]);void 0!==t&&null!=o&&L1(t,["parameters","aspectRatio"],o);const a=U1(e,["guidanceScale"]);void 0!==t&&null!=a&&L1(t,["parameters","guidanceScale"],a);const s=U1(e,["seed"]);void 0!==t&&null!=s&&L1(t,["parameters","seed"],s);const l=U1(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&L1(t,["parameters","safetySetting"],l);const u=U1(e,["personGeneration"]);void 0!==t&&null!=u&&L1(t,["parameters","personGeneration"],u);const c=U1(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&L1(t,["parameters","includeSafetyAttributes"],c);const d=U1(e,["includeRaiReason"]);void 0!==t&&null!=d&&L1(t,["parameters","includeRaiReason"],d);const h=U1(e,["language"]);void 0!==t&&null!=h&&L1(t,["parameters","language"],h);const f=U1(e,["outputMimeType"]);void 0!==t&&null!=f&&L1(t,["parameters","outputOptions","mimeType"],f);const p=U1(e,["outputCompressionQuality"]);void 0!==t&&null!=p&&L1(t,["parameters","outputOptions","compressionQuality"],p);const m=U1(e,["addWatermark"]);void 0!==t&&null!=m&&L1(t,["parameters","addWatermark"],m);const y=U1(e,["labels"]);void 0!==t&&null!=y&&L1(t,["labels"],y);const g=U1(e,["editMode"]);void 0!==t&&null!=g&&L1(t,["parameters","editMode"],g);const v=U1(e,["baseSteps"]);void 0!==t&&null!=v&&L1(t,["parameters","editConfig","baseSteps"],v)}(a,n),n}function Y5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let t=L3(e,i);Array.isArray(t)&&(t=t.map(e=>e)),L1(n,["requests[]","content"],t)}const o=U1(t,["config"]);null!=o&&function(e,t){const n=U1(e,["taskType"]);void 0!==t&&null!=n&&L1(t,["requests[]","taskType"],n);const r=U1(e,["title"]);void 0!==t&&null!=r&&L1(t,["requests[]","title"],r);const i=U1(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&L1(t,["requests[]","outputDimensionality"],i),void 0!==U1(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==U1(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(o,n);const a=U1(t,["model"]);return void 0!==a&&L1(n,["requests[]","model"],O3(e,a)),n}function X5(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let t=L3(e,i);Array.isArray(t)&&(t=t.map(e=>e)),L1(n,["instances[]","content"],t)}const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["taskType"]);void 0!==t&&null!=n&&L1(t,["instances[]","task_type"],n);const r=U1(e,["title"]);void 0!==t&&null!=r&&L1(t,["instances[]","title"],r);const i=U1(e,["outputDimensionality"]);void 0!==t&&null!=i&&L1(t,["parameters","outputDimensionality"],i);const o=U1(e,["mimeType"]);void 0!==t&&null!=o&&L1(t,["instances[]","mimeType"],o);const a=U1(e,["autoTruncate"]);void 0!==t&&null!=a&&L1(t,["parameters","autoTruncate"],a)}(o,n),n}function Q5(e,t,n){const r={},i=U1(t,["systemInstruction"]);void 0!==n&&null!=i&&L1(n,["systemInstruction"],$5(D3(i)));const o=U1(t,["temperature"]);null!=o&&L1(r,["temperature"],o);const a=U1(t,["topP"]);null!=a&&L1(r,["topP"],a);const s=U1(t,["topK"]);null!=s&&L1(r,["topK"],s);const l=U1(t,["candidateCount"]);null!=l&&L1(r,["candidateCount"],l);const u=U1(t,["maxOutputTokens"]);null!=u&&L1(r,["maxOutputTokens"],u);const c=U1(t,["stopSequences"]);null!=c&&L1(r,["stopSequences"],c);const d=U1(t,["responseLogprobs"]);null!=d&&L1(r,["responseLogprobs"],d);const h=U1(t,["logprobs"]);null!=h&&L1(r,["logprobs"],h);const f=U1(t,["presencePenalty"]);null!=f&&L1(r,["presencePenalty"],f);const p=U1(t,["frequencyPenalty"]);null!=p&&L1(r,["frequencyPenalty"],p);const m=U1(t,["seed"]);null!=m&&L1(r,["seed"],m);const y=U1(t,["responseMimeType"]);null!=y&&L1(r,["responseMimeType"],y);const g=U1(t,["responseSchema"]);null!=g&&L1(r,["responseSchema"],V3(g));const v=U1(t,["responseJsonSchema"]);if(null!=v&&L1(r,["responseJsonSchema"],v),void 0!==U1(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==U1(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=U1(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["category"]);null!=n&&L1(t,["category"],n);if(void 0!==U1(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=U1(e,["threshold"]);null!=r&&L1(t,["threshold"],r);return t}(e))),L1(n,["safetySettings"],e)}const w=U1(t,["tools"]);if(void 0!==n&&null!=w){let e=H3(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["functionDeclarations"],e)}if(void 0!==U1(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=U1(e,["googleSearchRetrieval"]);null!=r&&L1(t,["googleSearchRetrieval"],r);const i=U1(e,["computerUse"]);null!=i&&L1(t,["computerUse"],i);const o=U1(e,["fileSearch"]);null!=o&&L1(t,["fileSearch"],o);const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);if(void 0!==U1(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=U1(e,["googleMaps"]);null!=s&&L1(t,["googleMaps"],function(e){const t={};if(void 0!==U1(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=U1(e,["enableWidget"]);null!=n&&L1(t,["enableWidget"],n);return t}(s));const l=U1(e,["googleSearch"]);null!=l&&L1(t,["googleSearch"],function(e){const t={};if(void 0!==U1(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==U1(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=U1(e,["timeRangeFilter"]);null!=n&&L1(t,["timeRangeFilter"],n);return t}(l));const u=U1(e,["urlContext"]);null!=u&&L1(t,["urlContext"],u);return t}(z3(e)))),L1(n,["tools"],e)}const E=U1(t,["toolConfig"]);if(void 0!==n&&null!=E&&L1(n,["toolConfig"],function(e){const t={},n=U1(e,["functionCallingConfig"]);null!=n&&L1(t,["functionCallingConfig"],function(e){const t={},n=U1(e,["mode"]);null!=n&&L1(t,["mode"],n);const r=U1(e,["allowedFunctionNames"]);if(null!=r&&L1(t,["allowedFunctionNames"],r),void 0!==U1(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=U1(e,["retrievalConfig"]);null!=r&&L1(t,["retrievalConfig"],r);return t}(E)),void 0!==U1(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const S=U1(t,["cachedContent"]);void 0!==n&&null!=S&&L1(n,["cachedContent"],G3(e,S));const _=U1(t,["responseModalities"]);null!=_&&L1(r,["responseModalities"],_);const x=U1(t,["mediaResolution"]);null!=x&&L1(r,["mediaResolution"],x);const O=U1(t,["speechConfig"]);if(null!=O&&L1(r,["speechConfig"],B3(O)),void 0!==U1(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=U1(t,["thinkingConfig"]);null!=T&&L1(r,["thinkingConfig"],T);const A=U1(t,["imageConfig"]);null!=A&&L1(r,["imageConfig"],function(e){const t={},n=U1(e,["aspectRatio"]);null!=n&&L1(t,["aspectRatio"],n);const r=U1(e,["imageSize"]);null!=r&&L1(t,["imageSize"],r);if(void 0!==U1(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==U1(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const I=U1(t,["enableEnhancedCivicAnswers"]);return null!=I&&L1(r,["enableEnhancedCivicAnswers"],I),r}function Z5(e,t,n){const r={},i=U1(t,["systemInstruction"]);void 0!==n&&null!=i&&L1(n,["systemInstruction"],D3(i));const o=U1(t,["temperature"]);null!=o&&L1(r,["temperature"],o);const a=U1(t,["topP"]);null!=a&&L1(r,["topP"],a);const s=U1(t,["topK"]);null!=s&&L1(r,["topK"],s);const l=U1(t,["candidateCount"]);null!=l&&L1(r,["candidateCount"],l);const u=U1(t,["maxOutputTokens"]);null!=u&&L1(r,["maxOutputTokens"],u);const c=U1(t,["stopSequences"]);null!=c&&L1(r,["stopSequences"],c);const d=U1(t,["responseLogprobs"]);null!=d&&L1(r,["responseLogprobs"],d);const h=U1(t,["logprobs"]);null!=h&&L1(r,["logprobs"],h);const f=U1(t,["presencePenalty"]);null!=f&&L1(r,["presencePenalty"],f);const p=U1(t,["frequencyPenalty"]);null!=p&&L1(r,["frequencyPenalty"],p);const m=U1(t,["seed"]);null!=m&&L1(r,["seed"],m);const y=U1(t,["responseMimeType"]);null!=y&&L1(r,["responseMimeType"],y);const g=U1(t,["responseSchema"]);null!=g&&L1(r,["responseSchema"],V3(g));const v=U1(t,["responseJsonSchema"]);null!=v&&L1(r,["responseJsonSchema"],v);const b=U1(t,["routingConfig"]);null!=b&&L1(r,["routingConfig"],b);const w=U1(t,["modelSelectionConfig"]);null!=w&&L1(r,["modelConfig"],w);const E=U1(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>e)),L1(n,["safetySettings"],e)}const S=U1(t,["tools"]);if(void 0!==n&&null!=S){let e=H3(S);Array.isArray(e)&&(e=e.map(e=>T6(z3(e)))),L1(n,["tools"],e)}const _=U1(t,["toolConfig"]);void 0!==n&&null!=_&&L1(n,["toolConfig"],_);const x=U1(t,["labels"]);void 0!==n&&null!=x&&L1(n,["labels"],x);const O=U1(t,["cachedContent"]);void 0!==n&&null!=O&&L1(n,["cachedContent"],G3(e,O));const T=U1(t,["responseModalities"]);null!=T&&L1(r,["responseModalities"],T);const A=U1(t,["mediaResolution"]);null!=A&&L1(r,["mediaResolution"],A);const I=U1(t,["speechConfig"]);null!=I&&L1(r,["speechConfig"],B3(I));const C=U1(t,["audioTimestamp"]);null!=C&&L1(r,["audioTimestamp"],C);const k=U1(t,["thinkingConfig"]);null!=k&&L1(r,["thinkingConfig"],k);const P=U1(t,["imageConfig"]);if(null!=P&&L1(r,["imageConfig"],function(e){const t={},n=U1(e,["aspectRatio"]);null!=n&&L1(t,["aspectRatio"],n);const r=U1(e,["imageSize"]);null!=r&&L1(t,["imageSize"],r);const i=U1(e,["outputMimeType"]);null!=i&&L1(t,["imageOutputOptions","mimeType"],i);const o=U1(e,["outputCompressionQuality"]);null!=o&&L1(t,["imageOutputOptions","compressionQuality"],o);return t}(P)),void 0!==U1(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function e6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>$5(e))),L1(n,["contents"],e)}const o=U1(t,["config"]);return null!=o&&L1(n,["generationConfig"],Q5(e,o,n)),n}function t6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>e)),L1(n,["contents"],e)}const o=U1(t,["config"]);return null!=o&&L1(n,["generationConfig"],Z5(e,o,n)),n}function n6(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>H5(e))),L1(t,["candidates"],e)}const i=U1(e,["modelVersion"]);null!=i&&L1(t,["modelVersion"],i);const o=U1(e,["promptFeedback"]);null!=o&&L1(t,["promptFeedback"],o);const a=U1(e,["responseId"]);null!=a&&L1(t,["responseId"],a);const s=U1(e,["usageMetadata"]);return null!=s&&L1(t,["usageMetadata"],s),t}function r6(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["candidates"],e)}const i=U1(e,["createTime"]);null!=i&&L1(t,["createTime"],i);const o=U1(e,["modelVersion"]);null!=o&&L1(t,["modelVersion"],o);const a=U1(e,["promptFeedback"]);null!=a&&L1(t,["promptFeedback"],a);const s=U1(e,["responseId"]);null!=s&&L1(t,["responseId"],s);const l=U1(e,["usageMetadata"]);return null!=l&&L1(t,["usageMetadata"],l),t}function i6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["prompt"]);null!=i&&L1(n,["instances[0]","prompt"],i);const o=U1(t,["config"]);return null!=o&&function(e,t){if(void 0!==U1(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==U1(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=U1(e,["numberOfImages"]);void 0!==t&&null!=n&&L1(t,["parameters","sampleCount"],n);const r=U1(e,["aspectRatio"]);void 0!==t&&null!=r&&L1(t,["parameters","aspectRatio"],r);const i=U1(e,["guidanceScale"]);if(void 0!==t&&null!=i&&L1(t,["parameters","guidanceScale"],i),void 0!==U1(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=U1(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&L1(t,["parameters","safetySetting"],o);const a=U1(e,["personGeneration"]);void 0!==t&&null!=a&&L1(t,["parameters","personGeneration"],a);const s=U1(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&L1(t,["parameters","includeSafetyAttributes"],s);const l=U1(e,["includeRaiReason"]);void 0!==t&&null!=l&&L1(t,["parameters","includeRaiReason"],l);const u=U1(e,["language"]);void 0!==t&&null!=u&&L1(t,["parameters","language"],u);const c=U1(e,["outputMimeType"]);void 0!==t&&null!=c&&L1(t,["parameters","outputOptions","mimeType"],c);const d=U1(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&L1(t,["parameters","outputOptions","compressionQuality"],d),void 0!==U1(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==U1(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const h=U1(e,["imageSize"]);if(void 0!==t&&null!=h&&L1(t,["parameters","sampleImageSize"],h),void 0!==U1(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(o,n),n}function o6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["prompt"]);null!=i&&L1(n,["instances[0]","prompt"],i);const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["outputGcsUri"]);void 0!==t&&null!=n&&L1(t,["parameters","storageUri"],n);const r=U1(e,["negativePrompt"]);void 0!==t&&null!=r&&L1(t,["parameters","negativePrompt"],r);const i=U1(e,["numberOfImages"]);void 0!==t&&null!=i&&L1(t,["parameters","sampleCount"],i);const o=U1(e,["aspectRatio"]);void 0!==t&&null!=o&&L1(t,["parameters","aspectRatio"],o);const a=U1(e,["guidanceScale"]);void 0!==t&&null!=a&&L1(t,["parameters","guidanceScale"],a);const s=U1(e,["seed"]);void 0!==t&&null!=s&&L1(t,["parameters","seed"],s);const l=U1(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&L1(t,["parameters","safetySetting"],l);const u=U1(e,["personGeneration"]);void 0!==t&&null!=u&&L1(t,["parameters","personGeneration"],u);const c=U1(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&L1(t,["parameters","includeSafetyAttributes"],c);const d=U1(e,["includeRaiReason"]);void 0!==t&&null!=d&&L1(t,["parameters","includeRaiReason"],d);const h=U1(e,["language"]);void 0!==t&&null!=h&&L1(t,["parameters","language"],h);const f=U1(e,["outputMimeType"]);void 0!==t&&null!=f&&L1(t,["parameters","outputOptions","mimeType"],f);const p=U1(e,["outputCompressionQuality"]);void 0!==t&&null!=p&&L1(t,["parameters","outputOptions","compressionQuality"],p);const m=U1(e,["addWatermark"]);void 0!==t&&null!=m&&L1(t,["parameters","addWatermark"],m);const y=U1(e,["labels"]);void 0!==t&&null!=y&&L1(t,["labels"],y);const g=U1(e,["imageSize"]);void 0!==t&&null!=g&&L1(t,["parameters","sampleImageSize"],g);const v=U1(e,["enhancePrompt"]);void 0!==t&&null!=v&&L1(t,["parameters","enhancePrompt"],v)}(o,n),n}function a6(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["_self"]);null!=n&&L1(t,["image"],function(e){const t={},n=U1(e,["bytesBase64Encoded"]);null!=n&&L1(t,["imageBytes"],W3(n));const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(n));const r=U1(e,["raiFilteredReason"]);null!=r&&L1(t,["raiFilteredReason"],r);const i=U1(e,["_self"]);null!=i&&L1(t,["safetyAttributes"],S6(i));return t}(e))),L1(t,["generatedImages"],e)}const i=U1(e,["positivePromptSafetyAttributes"]);return null!=i&&L1(t,["positivePromptSafetyAttributes"],S6(i)),t}function s6(e,t){const n=U1(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&L1(t,["parameters","sampleCount"],n),void 0!==U1(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==U1(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=U1(e,["durationSeconds"]);if(void 0!==t&&null!=r&&L1(t,["parameters","durationSeconds"],r),void 0!==U1(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=U1(e,["aspectRatio"]);void 0!==t&&null!=i&&L1(t,["parameters","aspectRatio"],i);const o=U1(e,["resolution"]);void 0!==t&&null!=o&&L1(t,["parameters","resolution"],o);const a=U1(e,["personGeneration"]);if(void 0!==t&&null!=a&&L1(t,["parameters","personGeneration"],a),void 0!==U1(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const s=U1(e,["negativePrompt"]);void 0!==t&&null!=s&&L1(t,["parameters","negativePrompt"],s);const l=U1(e,["enhancePrompt"]);if(void 0!==t&&null!=l&&L1(t,["parameters","enhancePrompt"],l),void 0!==U1(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=U1(e,["lastFrame"]);void 0!==t&&null!=u&&L1(t,["instances[0]","lastFrame"],m6(u));const c=U1(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["image"]);null!=n&&L1(t,["image"],m6(n));const r=U1(e,["referenceType"]);null!=r&&L1(t,["referenceType"],r);return t}(e))),L1(t,["instances[0]","referenceImages"],e)}if(void 0!==U1(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==U1(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function l6(e,t){const n=U1(e,["numberOfVideos"]);void 0!==t&&null!=n&&L1(t,["parameters","sampleCount"],n);const r=U1(e,["outputGcsUri"]);void 0!==t&&null!=r&&L1(t,["parameters","storageUri"],r);const i=U1(e,["fps"]);void 0!==t&&null!=i&&L1(t,["parameters","fps"],i);const o=U1(e,["durationSeconds"]);void 0!==t&&null!=o&&L1(t,["parameters","durationSeconds"],o);const a=U1(e,["seed"]);void 0!==t&&null!=a&&L1(t,["parameters","seed"],a);const s=U1(e,["aspectRatio"]);void 0!==t&&null!=s&&L1(t,["parameters","aspectRatio"],s);const l=U1(e,["resolution"]);void 0!==t&&null!=l&&L1(t,["parameters","resolution"],l);const u=U1(e,["personGeneration"]);void 0!==t&&null!=u&&L1(t,["parameters","personGeneration"],u);const c=U1(e,["pubsubTopic"]);void 0!==t&&null!=c&&L1(t,["parameters","pubsubTopic"],c);const d=U1(e,["negativePrompt"]);void 0!==t&&null!=d&&L1(t,["parameters","negativePrompt"],d);const h=U1(e,["enhancePrompt"]);void 0!==t&&null!=h&&L1(t,["parameters","enhancePrompt"],h);const f=U1(e,["generateAudio"]);void 0!==t&&null!=f&&L1(t,["parameters","generateAudio"],f);const p=U1(e,["lastFrame"]);void 0!==t&&null!=p&&L1(t,["instances[0]","lastFrame"],y6(p));const m=U1(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["image"]);null!=n&&L1(t,["image"],y6(n));const r=U1(e,["referenceType"]);null!=r&&L1(t,["referenceType"],r);return t}(e))),L1(t,["instances[0]","referenceImages"],e)}const y=U1(e,["mask"]);void 0!==t&&null!=y&&L1(t,["instances[0]","mask"],function(e){const t={},n=U1(e,["image"]);null!=n&&L1(t,["_self"],y6(n));const r=U1(e,["maskMode"]);null!=r&&L1(t,["maskMode"],r);return t}(y));const g=U1(e,["compressionQuality"]);return void 0!==t&&null!=g&&L1(t,["parameters","compressionQuality"],g),{}}function u6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response","generateVideoResponse"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["video"]);null!=n&&L1(t,["video"],function(e){const t={},n=U1(e,["uri"]);null!=n&&L1(t,["uri"],n);const r=U1(e,["encodedVideo"]);null!=r&&L1(t,["videoBytes"],W3(r));const i=U1(e,["encoding"]);null!=i&&L1(t,["mimeType"],i);return t}(n));return t}(e))),L1(t,["generatedVideos"],e)}const r=U1(e,["raiMediaFilteredCount"]);null!=r&&L1(t,["raiMediaFilteredCount"],r);const i=U1(e,["raiMediaFilteredReasons"]);null!=i&&L1(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function c6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["_self"]);null!=n&&L1(t,["video"],function(e){const t={},n=U1(e,["gcsUri"]);null!=n&&L1(t,["uri"],n);const r=U1(e,["bytesBase64Encoded"]);null!=r&&L1(t,["videoBytes"],W3(r));const i=U1(e,["mimeType"]);null!=i&&L1(t,["mimeType"],i);return t}(n));return t}(e))),L1(t,["generatedVideos"],e)}const r=U1(e,["raiMediaFilteredCount"]);null!=r&&L1(t,["raiMediaFilteredCount"],r);const i=U1(e,["raiMediaFilteredReasons"]);null!=i&&L1(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function d6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["prompt"]);null!=i&&L1(n,["instances[0]","prompt"],i);const o=U1(t,["image"]);null!=o&&L1(n,["instances[0]","image"],m6(o));const a=U1(t,["video"]);null!=a&&L1(n,["instances[0]","video"],k6(a));const s=U1(t,["source"]);null!=s&&function(e,t){const n={},r=U1(e,["prompt"]);void 0!==t&&null!=r&&L1(t,["instances[0]","prompt"],r);const i=U1(e,["image"]);void 0!==t&&null!=i&&L1(t,["instances[0]","image"],m6(i));const o=U1(e,["video"]);void 0!==t&&null!=o&&L1(t,["instances[0]","video"],k6(o))}(s,n);const l=U1(t,["config"]);return null!=l&&s6(l,n),n}function h6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["prompt"]);null!=i&&L1(n,["instances[0]","prompt"],i);const o=U1(t,["image"]);null!=o&&L1(n,["instances[0]","image"],y6(o));const a=U1(t,["video"]);null!=a&&L1(n,["instances[0]","video"],P6(a));const s=U1(t,["source"]);null!=s&&function(e,t){const n={},r=U1(e,["prompt"]);void 0!==t&&null!=r&&L1(t,["instances[0]","prompt"],r);const i=U1(e,["image"]);void 0!==t&&null!=i&&L1(t,["instances[0]","image"],y6(i));const o=U1(e,["video"]);void 0!==t&&null!=o&&L1(t,["instances[0]","video"],P6(o))}(s,n);const l=U1(t,["config"]);return null!=l&&l6(l,n),n}function f6(e){const t={},n=U1(e,["_self"]);null!=n&&L1(t,["image"],p6(n));const r=U1(e,["raiFilteredReason"]);null!=r&&L1(t,["raiFilteredReason"],r);const i=U1(e,["_self"]);null!=i&&L1(t,["safetyAttributes"],_6(i));const o=U1(e,["prompt"]);return null!=o&&L1(t,["enhancedPrompt"],o),t}function p6(e){const t={},n=U1(e,["gcsUri"]);null!=n&&L1(t,["gcsUri"],n);const r=U1(e,["bytesBase64Encoded"]);null!=r&&L1(t,["imageBytes"],W3(r));const i=U1(e,["mimeType"]);return null!=i&&L1(t,["mimeType"],i),t}function m6(e){const t={};if(void 0!==U1(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=U1(e,["imageBytes"]);null!=n&&L1(t,["bytesBase64Encoded"],W3(n));const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}function y6(e){const t={},n=U1(e,["gcsUri"]);null!=n&&L1(t,["gcsUri"],n);const r=U1(e,["imageBytes"]);null!=r&&L1(t,["bytesBase64Encoded"],W3(r));const i=U1(e,["mimeType"]);return null!=i&&L1(t,["mimeType"],i),t}function g6(e,t){const n={},r=U1(t,["config"]);return null!=r&&function(e,t,n){const r=U1(t,["pageSize"]);void 0!==n&&null!=r&&L1(n,["_query","pageSize"],r);const i=U1(t,["pageToken"]);void 0!==n&&null!=i&&L1(n,["_query","pageToken"],i);const o=U1(t,["filter"]);void 0!==n&&null!=o&&L1(n,["_query","filter"],o);const a=U1(t,["queryBase"]);void 0!==n&&null!=a&&L1(n,["_url","models_url"],J3(e,a))}(e,r,n),n}function v6(e,t){const n={},r=U1(t,["config"]);return null!=r&&function(e,t,n){const r=U1(t,["pageSize"]);void 0!==n&&null!=r&&L1(n,["_query","pageSize"],r);const i=U1(t,["pageToken"]);void 0!==n&&null!=i&&L1(n,["_query","pageToken"],i);const o=U1(t,["filter"]);void 0!==n&&null!=o&&L1(n,["_query","filter"],o);const a=U1(t,["queryBase"]);void 0!==n&&null!=a&&L1(n,["_url","models_url"],J3(e,a))}(e,r,n),n}function b6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["displayName"]);null!=r&&L1(t,["displayName"],r);const i=U1(e,["description"]);null!=i&&L1(t,["description"],i);const o=U1(e,["version"]);null!=o&&L1(t,["version"],o);const a=U1(e,["_self"]);null!=a&&L1(t,["tunedModelInfo"],function(e){const t={},n=U1(e,["baseModel"]);null!=n&&L1(t,["baseModel"],n);const r=U1(e,["createTime"]);null!=r&&L1(t,["createTime"],r);const i=U1(e,["updateTime"]);null!=i&&L1(t,["updateTime"],i);return t}(a));const s=U1(e,["inputTokenLimit"]);null!=s&&L1(t,["inputTokenLimit"],s);const l=U1(e,["outputTokenLimit"]);null!=l&&L1(t,["outputTokenLimit"],l);const u=U1(e,["supportedGenerationMethods"]);null!=u&&L1(t,["supportedActions"],u);const c=U1(e,["temperature"]);null!=c&&L1(t,["temperature"],c);const d=U1(e,["maxTemperature"]);null!=d&&L1(t,["maxTemperature"],d);const h=U1(e,["topP"]);null!=h&&L1(t,["topP"],h);const f=U1(e,["topK"]);null!=f&&L1(t,["topK"],f);const p=U1(e,["thinking"]);return null!=p&&L1(t,["thinking"],p),t}function w6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["displayName"]);null!=r&&L1(t,["displayName"],r);const i=U1(e,["description"]);null!=i&&L1(t,["description"],i);const o=U1(e,["versionId"]);null!=o&&L1(t,["version"],o);const a=U1(e,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["endpoint"]);null!=n&&L1(t,["name"],n);const r=U1(e,["deployedModelId"]);return null!=r&&L1(t,["deployedModelId"],r),t}(e))),L1(t,["endpoints"],e)}const s=U1(e,["labels"]);null!=s&&L1(t,["labels"],s);const l=U1(e,["_self"]);null!=l&&L1(t,["tunedModelInfo"],function(e){const t={},n=U1(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&L1(t,["baseModel"],n);const r=U1(e,["createTime"]);null!=r&&L1(t,["createTime"],r);const i=U1(e,["updateTime"]);null!=i&&L1(t,["updateTime"],i);return t}(l));const u=U1(e,["defaultCheckpointId"]);null!=u&&L1(t,["defaultCheckpointId"],u);const c=U1(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["checkpoints"],e)}return t}function E6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["source"]);null!=i&&function(e,t){const n={},r=U1(e,["prompt"]);void 0!==t&&null!=r&&L1(t,["instances[0]","prompt"],r);const i=U1(e,["personImage"]);void 0!==t&&null!=i&&L1(t,["instances[0]","personImage","image"],y6(i));const o=U1(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["productImage"]);return null!=n&&L1(t,["image"],y6(n)),t}(e))),L1(t,["instances[0]","productImages"],e)}}(i,n);const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["numberOfImages"]);void 0!==t&&null!=n&&L1(t,["parameters","sampleCount"],n);const r=U1(e,["baseSteps"]);void 0!==t&&null!=r&&L1(t,["parameters","baseSteps"],r);const i=U1(e,["outputGcsUri"]);void 0!==t&&null!=i&&L1(t,["parameters","storageUri"],i);const o=U1(e,["seed"]);void 0!==t&&null!=o&&L1(t,["parameters","seed"],o);const a=U1(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&L1(t,["parameters","safetySetting"],a);const s=U1(e,["personGeneration"]);void 0!==t&&null!=s&&L1(t,["parameters","personGeneration"],s);const l=U1(e,["addWatermark"]);void 0!==t&&null!=l&&L1(t,["parameters","addWatermark"],l);const u=U1(e,["outputMimeType"]);void 0!==t&&null!=u&&L1(t,["parameters","outputOptions","mimeType"],u);const c=U1(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&L1(t,["parameters","outputOptions","compressionQuality"],c);const d=U1(e,["enhancePrompt"]);void 0!==t&&null!=d&&L1(t,["parameters","enhancePrompt"],d);const h=U1(e,["labels"]);void 0!==t&&null!=h&&L1(t,["labels"],h)}(o,n),n}function S6(e){const t={},n=U1(e,["safetyAttributes","categories"]);null!=n&&L1(t,["categories"],n);const r=U1(e,["safetyAttributes","scores"]);null!=r&&L1(t,["scores"],r);const i=U1(e,["contentType"]);return null!=i&&L1(t,["contentType"],i),t}function _6(e){const t={},n=U1(e,["safetyAttributes","categories"]);null!=n&&L1(t,["categories"],n);const r=U1(e,["safetyAttributes","scores"]);null!=r&&L1(t,["scores"],r);const i=U1(e,["contentType"]);return null!=i&&L1(t,["contentType"],i),t}function x6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["source"]);null!=i&&function(e,t){const n={},r=U1(e,["prompt"]);void 0!==t&&null!=r&&L1(t,["instances[0]","prompt"],r);const i=U1(e,["image"]);void 0!==t&&null!=i&&L1(t,["instances[0]","image"],y6(i));const o=U1(e,["scribbleImage"]);void 0!==t&&null!=o&&L1(t,["instances[0]","scribble"],function(e){const t={},n=U1(e,["image"]);return null!=n&&L1(t,["image"],y6(n)),t}(o))}(i,n);const o=U1(t,["config"]);return null!=o&&function(e,t){const n=U1(e,["mode"]);void 0!==t&&null!=n&&L1(t,["parameters","mode"],n);const r=U1(e,["maxPredictions"]);void 0!==t&&null!=r&&L1(t,["parameters","maxPredictions"],r);const i=U1(e,["confidenceThreshold"]);void 0!==t&&null!=i&&L1(t,["parameters","confidenceThreshold"],i);const o=U1(e,["maskDilation"]);void 0!==t&&null!=o&&L1(t,["parameters","maskDilation"],o);const a=U1(e,["binaryColorThreshold"]);void 0!==t&&null!=a&&L1(t,["parameters","binaryColorThreshold"],a);const s=U1(e,["labels"]);void 0!==t&&null!=s&&L1(t,["labels"],s)}(o,n),n}function O6(e){const t={},n=U1(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["_self"]);null!=n&&L1(t,["mask"],p6(n));const r=U1(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["labels"],e)}return t}(e))),L1(t,["generatedMasks"],e)}return t}function T6(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==U1(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=U1(e,["description"]);null!=n&&L1(t,["description"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["parameters"]);null!=i&&L1(t,["parameters"],i);const o=U1(e,["parametersJsonSchema"]);null!=o&&L1(t,["parametersJsonSchema"],o);const a=U1(e,["response"]);null!=a&&L1(t,["response"],a);const s=U1(e,["responseJsonSchema"]);return null!=s&&L1(t,["responseJsonSchema"],s),t}(e))),L1(t,["functionDeclarations"],e)}const r=U1(e,["retrieval"]);null!=r&&L1(t,["retrieval"],r);const i=U1(e,["googleSearchRetrieval"]);null!=i&&L1(t,["googleSearchRetrieval"],i);const o=U1(e,["computerUse"]);if(null!=o&&L1(t,["computerUse"],o),void 0!==U1(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);const s=U1(e,["enterpriseWebSearch"]);null!=s&&L1(t,["enterpriseWebSearch"],s);const l=U1(e,["googleMaps"]);null!=l&&L1(t,["googleMaps"],l);const u=U1(e,["googleSearch"]);null!=u&&L1(t,["googleSearch"],u);const c=U1(e,["urlContext"]);return null!=c&&L1(t,["urlContext"],c),t}function A6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","name"],O3(e,r));const i=U1(t,["config"]);return null!=i&&function(e,t){const n=U1(e,["displayName"]);void 0!==t&&null!=n&&L1(t,["displayName"],n);const r=U1(e,["description"]);void 0!==t&&null!=r&&L1(t,["description"],r);const i=U1(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&L1(t,["defaultCheckpointId"],i)}(i,n),n}function I6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["config"]);return null!=i&&function(e,t){const n=U1(e,["displayName"]);void 0!==t&&null!=n&&L1(t,["displayName"],n);const r=U1(e,["description"]);void 0!==t&&null!=r&&L1(t,["description"],r);const i=U1(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&L1(t,["defaultCheckpointId"],i)}(i,n),n}function C6(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["image"]);null!=i&&L1(n,["instances[0]","image"],y6(i));const o=U1(t,["upscaleFactor"]);null!=o&&L1(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=U1(t,["config"]);return null!=a&&function(e,t){const n=U1(e,["outputGcsUri"]);void 0!==t&&null!=n&&L1(t,["parameters","storageUri"],n);const r=U1(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&L1(t,["parameters","safetySetting"],r);const i=U1(e,["personGeneration"]);void 0!==t&&null!=i&&L1(t,["parameters","personGeneration"],i);const o=U1(e,["includeRaiReason"]);void 0!==t&&null!=o&&L1(t,["parameters","includeRaiReason"],o);const a=U1(e,["outputMimeType"]);void 0!==t&&null!=a&&L1(t,["parameters","outputOptions","mimeType"],a);const s=U1(e,["outputCompressionQuality"]);void 0!==t&&null!=s&&L1(t,["parameters","outputOptions","compressionQuality"],s);const l=U1(e,["enhanceInputImage"]);void 0!==t&&null!=l&&L1(t,["parameters","upscaleConfig","enhanceInputImage"],l);const u=U1(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&L1(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=U1(e,["labels"]);void 0!==t&&null!=c&&L1(t,["labels"],c);const d=U1(e,["numberOfImages"]);void 0!==t&&null!=d&&L1(t,["parameters","sampleCount"],d);const h=U1(e,["mode"]);void 0!==t&&null!=h&&L1(t,["parameters","mode"],h)}(a,n),n}function k6(e){const t={},n=U1(e,["uri"]);null!=n&&L1(t,["uri"],n);const r=U1(e,["videoBytes"]);null!=r&&L1(t,["encodedVideo"],W3(r));const i=U1(e,["mimeType"]);return null!=i&&L1(t,["encoding"],i),t}function P6(e){const t={},n=U1(e,["uri"]);null!=n&&L1(t,["gcsUri"],n);const r=U1(e,["videoBytes"]);null!=r&&L1(t,["bytesBase64Encoded"],W3(r));const i=U1(e,["mimeType"]);return null!=i&&L1(t,["mimeType"],i),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N6(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["displayName"]);void 0!==t&&null!=n&&L1(t,["displayName"],n)}(n,t),t}function j6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["_url","name"],n);const r=U1(e,["config"]);return null!=r&&function(e,t){const n=U1(e,["force"]);void 0!==t&&null!=n&&L1(t,["_query","force"],n)}(r,t),t}function R6(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["name"],n);const r=U1(e,["metadata"]);null!=r&&L1(t,["metadata"],r);const i=U1(e,["done"]);null!=i&&L1(t,["done"],i);const o=U1(e,["error"]);null!=o&&L1(t,["error"],o);const a=U1(e,["response"]);return null!=a&&L1(t,["response"],function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["parent"]);null!=r&&L1(t,["parent"],r);const i=U1(e,["documentName"]);null!=i&&L1(t,["documentName"],i);return t}(a)),t}function M6(e){const t={},n=U1(e,["fileSearchStoreName"]);null!=n&&L1(t,["_url","file_search_store_name"],n);const r=U1(e,["fileName"]);null!=r&&L1(t,["fileName"],r);const i=U1(e,["config"]);return null!=i&&function(e,t){const n=U1(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["customMetadata"],e)}const r=U1(e,["chunkingConfig"]);void 0!==t&&null!=r&&L1(t,["chunkingConfig"],r)}(i,t),t}function D6(e){const t={},n=U1(e,["config"]);return null!=n&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r)}(n,t),t}function L6(e,t){const n=U1(e,["mimeType"]);void 0!==t&&null!=n&&L1(t,["mimeType"],n);const r=U1(e,["displayName"]);void 0!==t&&null!=r&&L1(t,["displayName"],r);const i=U1(e,["customMetadata"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["customMetadata"],e)}const o=U1(e,["chunkingConfig"]);return void 0!==t&&null!=o&&L1(t,["chunkingConfig"],o),{}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const U6="x-goog-api-client";class F6{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))r.searchParams.append(o,String(a));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))"object"==typeof i?n[r]=Object.assign(Object.assign({},n[r]),i):void 0!==i&&(n[r]=i);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,i=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=i}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch($8){return}function r(e,t){const n=Object.assign({},e);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const e=t[i],o=n[i];e&&"object"==typeof e&&!Array.isArray(e)&&o&&"object"==typeof o&&!Array.isArray(o)?n[i]=r(o,e):n[i]=e}return n}const i=r(n,t);e.body=JSON.stringify(i)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await V6(e),new X4(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await V6(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return A5(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const i="data:",o=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:a,value:s}=yield T5(n.read());if(a){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=r.decode(s,{stream:!0});try{const e=JSON.parse(l);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new R5({message:i,status:r})}}}catch($8){if("ApiError"===$8.name)throw $8}t+=l;let u=-1,c=0;for(;;){u=-1,c=0;for(const e of o){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,c=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+c);const r=n.trim();if(r.startsWith(i)){const t=r.substring(i.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield T5(new X4(n))}catch($8){throw new Error(`exception parsing stream chunk ${t}. ${$8}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.34.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[U6]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);r.sizeBytes=String(o.size);const a=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:o.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const s={file:r},l=this.getFileName(e),u=D1("upload/v1beta/files",s._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,l,s,null==t?void 0:t.httpOptions);return i.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const i=this.clientOptions.uploader,o=await i.stat(t),a=String(o.size),s=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:o.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const l=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&L6(n,c);const d=await this.fetchUploadUrl(l,a,s,u,c,null==n?void 0:n.httpOptions);return i.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,i,o){var a;let s={};s=o||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const l=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!l||!(null==l?void 0:l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(a=null==l?void 0:l.headers)||void 0===a?void 0:a["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function V6(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);if(n>=400&&n<600){throw new R5({message:i,status:n})}throw new Error(i)}}function B6(e){for(const t of e){if(z6(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function q6(e){var t;const n=null!==(t=e[U6])&&void 0!==t?t:"";e[U6]=(n+" mcp_used/unknown").trimStart()}function z6(e){return null!==e&&"object"==typeof e&&e instanceof G6}function H6(e){return A5(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield T5(e.listTools({cursor:n}));for(const e of t.tools)yield yield T5(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class G6{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new G6(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const i={},o=[];for(const c of this.mcpClients)try{for(var a,s=!0,l=(t=void 0,I5(H6(c)));!(e=(a=await l.next()).done);s=!0){r=a.value,s=!1;const e=r;o.push(e);const t=e.name;if(i[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=c}}catch(u){t={error:u}}finally{try{s||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const i of e){const e=i.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const o=Q3(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const i=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $6{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),a=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let s=()=>{};const l=new Promise(e=>{s=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const r=new _3;let i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,i),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(a,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(o),c);d.connect(),await l;const h={setup:{model:O3(this.apiClient,e.model)}};return d.send(JSON.stringify(h)),new W6(d,this.apiClient)}}class W6{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=U1(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=U1(e,["musicGenerationConfig"]);return null!=n&&L1(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(W4.PLAY)}pause(){this.sendPlaybackControl(W4.PAUSE)}stop(){this.sendPlaybackControl(W4.STOP)}resetContext(){this.sendPlaybackControl(W4.RESET_CONTEXT)}close(){this.conn.close()}}class K6{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new $6(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,i,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&B6(e.config.tools)&&q6(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI())u=`${s}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),u=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.${t}?${n}=${e}`}let h=()=>{};const f=new Promise(e=>{h=e}),p=e.callbacks,m=this.apiClient,y={onopen:function(){var e;null===(e=null==p?void 0:p.onopen)||void 0===e||e.call(p),h({})},onmessage:e=>{!async function(e,t,n){const r=new S3;let i;i=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const o=JSON.parse(i);if(e.isVertexAI()){const e=z5(o);Object.assign(r,e)}else{const e=o;Object.assign(r,e)}t(r)}(m,p.onmessage,e)},onerror:null!==(t=null==p?void 0:p.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==p?void 0:p.onclose)&&void 0!==n?n:function(e){}},g=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),y);g.connect(),await f;let v=O3(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[C2.AUDIO]}:e.config.responseModalities=[C2.AUDIO]),null===(i=e.config)||void 0===i||i.generationConfig;const w=null!==(a=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==a?a:[],E=[];for(const _ of w)if(this.isCallableTool(_)){const e=_;E.push(await e.tool())}else E.push(_);E.length>0&&(e.config.tools=E);const S={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["setup","model"],O3(e,r));const i=U1(t,["config"]);return null!=i&&L1(n,["config"],V5(i,n)),n}(this.apiClient,S):function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["setup","model"],O3(e,r));const i=U1(t,["config"]);return null!=i&&L1(n,["config"],F5(i,n)),n}(this.apiClient,S),delete b.config,g.send(JSON.stringify(b)),new Y6(g,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const J6={turnComplete:!0};class Y6{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=U3(t.turns),e.isVertexAI()||(r=r.map(e=>$5(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},J6),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:q5(e)}:{realtimeInput:B5(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function X6(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let i=!1;for(const a of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Q6(a)){i=!0;break}if(!i)return!0;const o=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(o&&(o<0||!Number.isInteger(o))||0==o)}function Q6(e){return"callTool"in e&&"function"==typeof e.callTool}function Z6(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Q6(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function e9(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t9 extends M1{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,i,o;const a=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Q6(e)))&&void 0!==r&&r}(e)||X6(e.config))return await this.generateContentInternal(a);const s=Z6(e);if(s.length>0){const e=s.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let l,u;const c=U3(a.contents),d=null!==(r=null===(n=null===(t=a.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let h=0;for(;h<d&&(l=await this.generateContentInternal(a),l.functionCalls&&0!==l.functionCalls.length);){const t=l.candidates[0].content,n=[];for(const r of null!==(o=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==o?o:[])if(Q6(r)){const e=r,t=await e.callTool(l.functionCalls);n.push(...t)}h++,u={role:"user",parts:n},a.contents=U3(a.contents),a.contents.push(t),a.contents.push(u),e9(a.config)&&(c.push(t),c.push(u))}return e9(a.config)&&(l.automaticFunctionCallingHistory=c),l},this.generateContentStream=async e=>{var t,n,r,i,o;if(this.maybeMoveToResponseJsonSchem(e),X6(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const a=Z6(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const s=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,l=null===(o=null===(i=null==e?void 0:e.config)||void 0===i?void 0:i.automaticFunctionCalling)||void 0===o?void 0:o.disable;if(s&&!l)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const o of e.generatedImages)o&&(null==o?void 0:o.safetyAttributes)&&"Positive Prompt"===(null===(t=null==o?void 0:o.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==o?void 0:o.safetyAttributes:r.push(o);let i;return i=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},i}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new p5(J4.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,i,o,a;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(i=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===i?void 0:i.uri)&&(null===(a=null===(o=e.source)||void 0===o?void 0:o.video)||void 0===a?void 0:a.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const i=null===(t=e.config)||void 0===t?void 0:t.tools;if(!i)return e;const o=await Promise.all(i.map(async e=>{if(Q6(e)){const t=e;return await t.tool()}return e})),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&B6(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let i=Object.assign({},t);0===Object.keys(i).length&&(i=this.apiClient.getDefaultHeaders()),q6(i),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:i})}return a}async initAfcToolsMap(e){var t,n,r;const i=new Map;for(const o of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Q6(o)){const e=o,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(i.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);i.set(n.name,e)}}return i}async processAfcStream(e){var t,n,r;const i=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let o=!1,a=0;return function(e,t,n){return A5(this,arguments,function*(){for(var r,s,l,u,c,d;a<i;){o&&(a++,o=!1);const y=yield T5(e.processParamsMaybeAddMcpUsage(n)),g=yield T5(e.generateContentStreamInternal(y)),v=[],b=[];try{for(var h,f=!0,p=(s=void 0,I5(g));!(r=(h=yield T5(p.next())).done);f=!0){u=h.value,f=!1;const e=u;if(yield yield T5(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(a<i&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield T5(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){s={error:m}}finally{try{f||r||!(l=p.return)||(yield T5(l.call(p)))}finally{if(s)throw s.error}}if(!(v.length>0))break;{o=!0;const e=new Q4;e.candidates=[{content:{role:"user",parts:v}}],yield yield T5(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=U3(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=t6(this.apiClient,e);return a=D1("{model}:generateContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=r6(e),n=new Q4;return Object.assign(n,t),n})}{const t=e6(this.apiClient,e);return a=D1("{model}:generateContent",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=n6(e),n=new Q4;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=t6(this.apiClient,e);a=D1("{model}:streamGenerateContent?alt=sse",r._url),s=r._query,delete r._url,delete r._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),o.then(function(e){return A5(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=I5(e);!(t=(o=yield T5(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=r6(yield T5(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Q4;Object.assign(n,t),yield yield T5(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield T5(r.call(s)))}finally{if(n)throw n.error}}})})}{const t=e6(this.apiClient,e);a=D1("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t._url,delete t._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}),o.then(function(e){return A5(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=I5(e);!(t=(o=yield T5(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=n6(yield T5(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Q4;Object.assign(n,t),yield yield T5(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield T5(r.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=X5(this.apiClient,e);return a=D1("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>G5(e))),L1(t,["embeddings"],e)}const i=U1(e,["metadata"]);return null!=i&&L1(t,["metadata"],i),t}(e),n=new Z4;return Object.assign(n,t),n})}{const t=Y5(this.apiClient,e);return a=D1("{model}:batchEmbedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["embeddings"],e)}const i=U1(e,["metadata"]);return null!=i&&L1(t,["metadata"],i),t}(e),n=new Z4;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=o6(this.apiClient,e);return a=D1("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>f6(e))),L1(t,["generatedImages"],e)}const i=U1(e,["positivePromptSafetyAttributes"]);return null!=i&&L1(t,["positivePromptSafetyAttributes"],_6(i)),t}(e),n=new e3;return Object.assign(n,t),n})}{const t=i6(this.apiClient,e);return a=D1("{model}:predict",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=a6(e),n=new e3;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=J5(this.apiClient,e);return i=D1("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>f6(e))),L1(t,["generatedImages"],e)}return t}(e),n=new t3;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=C6(this.apiClient,e);return i=D1("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>f6(e))),L1(t,["generatedImages"],e)}return t}(e),n=new n3;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=E6(this.apiClient,e);return i=D1("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=U1(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>f6(e))),L1(t,["generatedImages"],e)}return t}(e),n=new r3;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=x6(this.apiClient,e);return i=D1("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=O6(e),n=new i3;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["model"]);return null!=r&&L1(n,["_url","name"],O3(e,r)),n}(this.apiClient,e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>w6(e))}{const t=function(e,t){const n={},r=U1(t,["model"]);return null!=r&&L1(n,["_url","name"],O3(e,r)),n}(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>b6(e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=v6(this.apiClient,e);return a=D1("{models_url}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["_self"]);if(null!=i){let e=Y3(i);Array.isArray(e)&&(e=e.map(e=>w6(e))),L1(t,["models"],e)}return t}(e),n=new o3;return Object.assign(n,t),n})}{const t=g6(this.apiClient,e);return a=D1("{models_url}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["_self"]);if(null!=i){let e=Y3(i);Array.isArray(e)&&(e=e.map(e=>b6(e))),L1(t,["models"],e)}return t}(e),n=new o3;return Object.assign(n,t),n})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=I6(this.apiClient,e);return a=D1("{model}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>w6(e))}{const t=A6(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>b6(e))}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["model"]);return null!=r&&L1(n,["_url","name"],O3(e,r)),n}(this.apiClient,e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new a3;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=U1(t,["model"]);return null!=r&&L1(n,["_url","name"],O3(e,r)),n}(this.apiClient,e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new a3;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>e)),L1(n,["contents"],e)}const o=U1(t,["config"]);return null!=o&&W5(o,n),n}(this.apiClient,e);return a=D1("{model}:countTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["totalTokens"]);return null!=r&&L1(t,["totalTokens"],r),t}(e),n=new s3;return Object.assign(n,t),n})}{const t=K5(this.apiClient,e);return a=D1("{model}:countTokens",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["totalTokens"]);null!=r&&L1(t,["totalTokens"],r);const i=U1(e,["cachedContentTokenCount"]);return null!=i&&L1(t,["cachedContentTokenCount"],i),t}(e),n=new s3;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["_url","model"],O3(e,r));const i=U1(t,["contents"]);if(null!=i){let e=U3(i);Array.isArray(e)&&(e=e.map(e=>e)),L1(n,["contents"],e)}return n}(this.apiClient,e);return i=D1("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["tokensInfo"],e)}return t}(e),n=new l3;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=h6(this.apiClient,e);return a=D1("{model}:predictLongRunning",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=c6(e),n=new u3;return Object.assign(n,t),n})}{const t=d6(this.apiClient,e);return a=D1("{model}:predictLongRunning",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=u6(e),n=new u3;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n9 extends M1{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=U1(e,["operationName"]);return null!=n&&L1(t,["_url","operationName"],n),t}(e);return a=D1("{operationName}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o}{const t=function(e){const t={},n=U1(e,["operationName"]);return null!=n&&L1(t,["_url","operationName"],n),t}(e);return a=D1("{operationName}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o}}async fetchPredictVideosOperationInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=U1(e,["operationName"]);null!=n&&L1(t,["operationName"],n);const r=U1(e,["resourceName"]);return null!=r&&L1(t,["_url","resourceName"],r),t}(e);return i=D1("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r9(e){const t={},n=U1(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["mediaResolution"]);null!=n&&L1(t,["mediaResolution"],n);const r=U1(e,["codeExecutionResult"]);null!=r&&L1(t,["codeExecutionResult"],r);const i=U1(e,["executableCode"]);null!=i&&L1(t,["executableCode"],i);const o=U1(e,["fileData"]);null!=o&&L1(t,["fileData"],function(e){const t={};if(void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=U1(e,["fileUri"]);null!=n&&L1(t,["fileUri"],n);const r=U1(e,["mimeType"]);null!=r&&L1(t,["mimeType"],r);return t}(o));const a=U1(e,["functionCall"]);null!=a&&L1(t,["functionCall"],function(e){const t={},n=U1(e,["id"]);null!=n&&L1(t,["id"],n);const r=U1(e,["args"]);null!=r&&L1(t,["args"],r);const i=U1(e,["name"]);null!=i&&L1(t,["name"],i);if(void 0!==U1(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==U1(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=U1(e,["functionResponse"]);null!=s&&L1(t,["functionResponse"],s);const l=U1(e,["inlineData"]);null!=l&&L1(t,["inlineData"],function(e){const t={},n=U1(e,["data"]);if(null!=n&&L1(t,["data"],n),void 0!==U1(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=U1(e,["mimeType"]);return null!=r&&L1(t,["mimeType"],r),t}(l));const u=U1(e,["text"]);null!=u&&L1(t,["text"],u);const c=U1(e,["thought"]);null!=c&&L1(t,["thought"],c);const d=U1(e,["thoughtSignature"]);null!=d&&L1(t,["thoughtSignature"],d);const h=U1(e,["videoMetadata"]);null!=h&&L1(t,["videoMetadata"],h);return t}(e))),L1(t,["parts"],e)}const r=U1(e,["role"]);return null!=r&&L1(t,["role"],r),t}function i9(e,t,n){const r=U1(t,["expireTime"]);void 0!==n&&null!=r&&L1(n,["expireTime"],r);const i=U1(t,["newSessionExpireTime"]);void 0!==n&&null!=i&&L1(n,["newSessionExpireTime"],i);const o=U1(t,["uses"]);void 0!==n&&null!=o&&L1(n,["uses"],o);const a=U1(t,["liveConnectConstraints"]);void 0!==n&&null!=a&&L1(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=U1(t,["model"]);null!=r&&L1(n,["setup","model"],O3(e,r));const i=U1(t,["config"]);null!=i&&L1(n,["config"],function(e,t){const n={},r=U1(e,["generationConfig"]);void 0!==t&&null!=r&&L1(t,["setup","generationConfig"],r);const i=U1(e,["responseModalities"]);void 0!==t&&null!=i&&L1(t,["setup","generationConfig","responseModalities"],i);const o=U1(e,["temperature"]);void 0!==t&&null!=o&&L1(t,["setup","generationConfig","temperature"],o);const a=U1(e,["topP"]);void 0!==t&&null!=a&&L1(t,["setup","generationConfig","topP"],a);const s=U1(e,["topK"]);void 0!==t&&null!=s&&L1(t,["setup","generationConfig","topK"],s);const l=U1(e,["maxOutputTokens"]);void 0!==t&&null!=l&&L1(t,["setup","generationConfig","maxOutputTokens"],l);const u=U1(e,["mediaResolution"]);void 0!==t&&null!=u&&L1(t,["setup","generationConfig","mediaResolution"],u);const c=U1(e,["seed"]);void 0!==t&&null!=c&&L1(t,["setup","generationConfig","seed"],c);const d=U1(e,["speechConfig"]);void 0!==t&&null!=d&&L1(t,["setup","generationConfig","speechConfig"],q3(d));const h=U1(e,["thinkingConfig"]);void 0!==t&&null!=h&&L1(t,["setup","generationConfig","thinkingConfig"],h);const f=U1(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&L1(t,["setup","generationConfig","enableAffectiveDialog"],f);const p=U1(e,["systemInstruction"]);void 0!==t&&null!=p&&L1(t,["setup","systemInstruction"],r9(D3(p)));const m=U1(e,["tools"]);if(void 0!==t&&null!=m){let e=H3(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=U1(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["functionDeclarations"],e)}if(void 0!==U1(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=U1(e,["googleSearchRetrieval"]);null!=r&&L1(t,["googleSearchRetrieval"],r);const i=U1(e,["computerUse"]);null!=i&&L1(t,["computerUse"],i);const o=U1(e,["fileSearch"]);null!=o&&L1(t,["fileSearch"],o);const a=U1(e,["codeExecution"]);null!=a&&L1(t,["codeExecution"],a);if(void 0!==U1(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=U1(e,["googleMaps"]);null!=s&&L1(t,["googleMaps"],function(e){const t={};if(void 0!==U1(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=U1(e,["enableWidget"]);null!=n&&L1(t,["enableWidget"],n);return t}(s));const l=U1(e,["googleSearch"]);null!=l&&L1(t,["googleSearch"],function(e){const t={};if(void 0!==U1(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==U1(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=U1(e,["timeRangeFilter"]);null!=n&&L1(t,["timeRangeFilter"],n);return t}(l));const u=U1(e,["urlContext"]);null!=u&&L1(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(z3(e)))),L1(t,["setup","tools"],e)}const y=U1(e,["sessionResumption"]);void 0!==t&&null!=y&&L1(t,["setup","sessionResumption"],function(e){const t={},n=U1(e,["handle"]);null!=n&&L1(t,["handle"],n);if(void 0!==U1(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(y));const g=U1(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&L1(t,["setup","inputAudioTranscription"],g);const v=U1(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&L1(t,["setup","outputAudioTranscription"],v);const b=U1(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&L1(t,["setup","realtimeInputConfig"],b);const w=U1(e,["contextWindowCompression"]);void 0!==t&&null!=w&&L1(t,["setup","contextWindowCompression"],w);const E=U1(e,["proactivity"]);void 0!==t&&null!=E&&L1(t,["setup","proactivity"],E);if(void 0!==U1(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(i,n));return n}(e,a));const s=U1(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&L1(n,["fieldMask"],s),{}}function o9(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));const o=[];r&&o.push(r),n.length>0&&o.push(...n),o.length>0?e.fieldMask=o.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class a9 extends M1{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=U1(t,["config"]);return null!=r&&L1(n,["config"],i9(e,r,n)),n}(this.apiClient,e);i=D1("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const s=o9(a,e.config);return r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s9(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["_url","name"],n);const r=U1(e,["config"]);return null!=r&&function(e,t){const n=U1(e,["force"]);void 0!==t&&null!=n&&L1(t,["_query","force"],n)}(r,t),t}function l9(e){const t={},n=U1(e,["parent"]);null!=n&&L1(t,["_url","parent"],n);const r=U1(e,["config"]);return null!=r&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class u9 extends M1{constructor(e){super(),this.apiClient=e,this.list=async e=>new p5(J4.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return i=D1("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=s9(e);r=D1("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=l9(e);return i=D1("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["documents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["documents"],e)}return t}(e),n=new p3;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c9 extends M1{constructor(e,t=new u9(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new p5(J4.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=N6(e);return i=D1("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return i=D1("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=j6(e);r=D1("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=D6(e);return i=D1("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["fileSearchStores"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["fileSearchStores"],e)}return t}(e),n=new m3;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=U1(e,["fileSearchStoreName"]);null!=n&&L1(t,["_url","file_search_store_name"],n);const r=U1(e,["config"]);return null!=r&&L6(r,t),t}(e);return i=D1("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new y3;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=M6(e);return i=D1("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=R6(e),n=new g3;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let d9=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return d9=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function h9(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const f9=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p9 extends Error{}class m9 extends p9{constructor(e,t,n,r){super(`${m9.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new g9({message:n,cause:f9(t)});const i=t;return 400===e?new b9(e,i,n,r):401===e?new w9(e,i,n,r):403===e?new E9(e,i,n,r):404===e?new S9(e,i,n,r):409===e?new _9(e,i,n,r):422===e?new x9(e,i,n,r):429===e?new O9(e,i,n,r):e>=500?new T9(e,i,n,r):new m9(e,i,n,r)}}class y9 extends m9{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class g9 extends m9{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class v9 extends g9{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class b9 extends m9{}class w9 extends m9{}class E9 extends m9{}class S9 extends m9{}class _9 extends m9{}class x9 extends m9{}class O9 extends m9{}class T9 extends m9{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A9=/^[a-z][a-z0-9+.-]*:/i;let I9=e=>(I9=Array.isArray,I9(e));const C9=I9;const k9="0.0.1";const P9=()=>{var e,t,n,r,i;const o="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":k9,"X-Stainless-OS":j9(Deno.build.os),"X-Stainless-Arch":N9(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":k9,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":k9,"X-Stainless-OS":j9(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":N9(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(i=globalThis.process.version)&&void 0!==i?i:"unknown"};const a=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":k9,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":k9,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const N9=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",j9=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let R9;function M9(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function D9(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return M9({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function L9(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch($8){throw t.releaseLock(),$8}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const U9=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),F9=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V9(e,t,n){return F9(),new File(e,null!=t?t:"unknown_file",n)}const B9=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q9(e){var t,n,r,i,o;let a=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(B9(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(o=null==e?void 0:e.constructor)||void 0===o?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e)}`)}try{for(var s,l=!0,u=I5(e);!(t=(s=await u.next()).done);l=!0){i=s.value,l=!1;const e=i;a.push(...await q9(e))}}catch(c){n={error:c}}finally{try{l||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return a}class z9{constructor(e){this._client=e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function H9(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}z9._key=[];const G9=Object.freeze(Object.create(null)),$9=(e=H9)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const i=[],o=t.reduce((t,o,a)=>{var s,l,u;/[?#]/.test(o)&&(r=!0);const c=n[a];let d=(r?encodeURIComponent:e)(""+c);return a!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(s=c.hasOwnProperty)&&void 0!==s?s:G9))&&void 0!==l?l:G9))||void 0===u?void 0:u.toString))&&(d=c+"",i.push({start:t.length+o.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+o+(a===n.length?"":d)},""),a=o.split(/[?#]/,1)[0],s=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let l;for(;null!==(l=s.exec(a));)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,n)=>{const r=" ".repeat(n.start-e),i="^".repeat(n.length);return e=n.start+n.length,t+r+i},"");throw new p9(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${o}\n${t}`)}return o},W9=$9(H9);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class K9 extends z9{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,i=x5(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new p9("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new p9("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(W9`/${r}/interactions`,Object.assign(Object.assign({body:i},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(W9`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(W9`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const i=null!=t?t:{},{api_version:o=this._client.apiVersion}=i,a=x5(i,["api_version"]);return this._client.get(W9`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}K9._key=Object.freeze(["interactions"]);class J9 extends K9{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Y9,X9;function Q9(e){let t;return(null!=Y9?Y9:(t=new globalThis.TextEncoder,Y9=t.encode.bind(t)))(e)}function Z9(e){let t;return(null!=X9?X9:(t=new globalThis.TextDecoder,X9=t.decode.bind(t)))(e)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e8{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Q9(e):e;this.buffer=function(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=t8(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(Z9(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=Z9(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function t8(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function n8(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */e8.NEWLINE_CHARS=new Set(["\n","\r"]),e8.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const r8={off:0,error:200,warn:300,info:400,debug:500},i8=(e,t,n)=>{var r,i;if(e)return r=r8,i=e,Object.prototype.hasOwnProperty.call(r,i)?e:void u8(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(r8))}`)};function o8(){}function a8(e,t,n){return!t||r8[e]>r8[n]?o8:t[e].bind(t)}const s8={error:o8,warn:o8,info:o8,debug:o8};let l8=new WeakMap;function u8(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return s8;const i=l8.get(n);if(i&&i[0]===r)return i[1];const o={error:a8("error",n,r),warn:a8("warn",n,r),info:a8("info",n,r),debug:a8("debug",n,r)};return l8.set(n,[r,o]),o}const c8=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d8{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const i=n?u8(n):console;return new d8(function(){return A5(this,arguments,function*(){var n,o,a,s;if(r)throw new p9("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{try{for(var u,c=!0,d=I5(function(e,t){return A5(this,arguments,function*(){var n,r,i,o;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new p9("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new p9("Attempted to iterate over a response with no body")}const a=new h8,s=new e8,l=L9(e.body);try{for(var u,c=!0,d=I5(function(e){return A5(this,arguments,function*(){var t,n,r,i;let o=new Uint8Array;try{for(var a,s=!0,l=I5(e);!(t=(a=yield T5(l.next())).done);s=!0){i=a.value,s=!1;const e=i;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Q9(e):e;let n,r=new Uint8Array(o.length+t.length);for(r.set(o),r.set(t,o.length),o=r;-1!==(n=n8(o));)yield yield T5(o.slice(0,n)),o=o.slice(n)}}catch(u){n={error:u}}finally{try{s||t||!(r=l.return)||(yield T5(r.call(l)))}finally{if(n)throw n.error}}o.length>0&&(yield yield T5(o))})}(l));!(n=(u=yield T5(d.next())).done);c=!0){o=u.value,c=!1;const e=o;for(const t of s.decode(e)){const e=a.decode(t);e&&(yield yield T5(e))}}}catch(h){r={error:h}}finally{try{c||n||!(i=d.return)||(yield T5(i.call(d)))}finally{if(r)throw r.error}}for(const e of s.flush()){const t=a.decode(e);t&&(yield yield T5(t))}})}(e,t));!(n=(u=yield T5(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(!l)if(e.data.startsWith("[DONE]"))l=!0;else try{yield yield T5(JSON.parse(e.data))}catch($8){throw i.error("Could not parse message into JSON:",e.data),i.error("From chunk:",e.raw),$8}}}catch(h){o={error:h}}finally{try{c||n||!(a=d.return)||(yield T5(a.call(d)))}finally{if(o)throw o.error}}l=!0}catch($8){if(h9($8))return yield T5(void 0);throw $8}finally{l||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new d8(function(){return A5(this,arguments,function*(){var n,i,o,a;if(r)throw new p9("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var l,u=!0,c=I5(function(){return A5(this,arguments,function*(){var t,n,r,i;const o=new e8,a=L9(e);try{for(var s,l=!0,u=I5(a);!(t=(s=yield T5(u.next())).done);l=!0){i=s.value,l=!1;const e=i;for(const t of o.decode(e))yield yield T5(t)}}catch(c){n={error:c}}finally{try{l||t||!(r=u.return)||(yield T5(r.call(u)))}finally{if(n)throw n.error}}for(const e of o.flush())yield yield T5(e)})}());!(n=(l=yield T5(c.next())).done);u=!0){a=l.value,u=!1;const e=a;s||e&&(yield yield T5(JSON.parse(e)))}}catch(d){i={error:d}}finally{try{u||n||!(o=c.return)||(yield T5(o.call(c)))}finally{if(i)throw i.error}}s=!0}catch($8){if(h9($8))return yield T5(void 0);throw $8}finally{s||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new d8(()=>r(e),this.controller,this.client),new d8(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return M9({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const i=Q9(JSON.stringify(n)+"\n");e.enqueue(i)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class h8{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function f8(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var r;if(t.options.stream)return u8(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):d8.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const i=n.headers.get("content-type"),o=null===(r=null==i?void 0:i.split(";")[0])||void 0===r?void 0:r.trim();if((null==o?void 0:o.includes("application/json"))||(null==o?void 0:o.endsWith("+json"))){return await n.json()}return await n.text()})();return u8(e).debug(`[${r}] response parsed`,c8({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p8 extends Promise{constructor(e,t,n=f8){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new p8(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m8=Symbol("brand.privateNullableHeaders");function*y8(e){if(!e)return;if(m8 in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():C9(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=C9(r[1])?r[1]:[r[1]];let i=!1;for(const r of t)void 0!==r&&(n&&!i&&(i=!0,yield[e,null]),yield[e,r])}}const g8=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[i,o]of y8(r)){const r=i.toLowerCase();e.has(r)||(t.delete(i),e.add(r)),null===o?(t.delete(i),n.add(r)):(t.append(i,o),n.delete(r))}}return{[m8]:!0,values:t,nulls:n}},v8=e=>{var t,n,r,i,o,a;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=P1)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(a=null===(o=null===(i=globalThis.Deno.env)||void 0===i?void 0:i.get)||void 0===o?void 0:o.call(i,e))||void 0===a?void 0:a.trim():void 0};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var b8;class w8{constructor(e){var t,n,r,i,o,a,s,{baseURL:l=v8("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=v8("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=x5(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:l||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=null!==(n=h.timeout)&&void 0!==n?n:w8.DEFAULT_TIMEOUT,this.logger=null!==(r=h.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(o=null!==(i=i8(h.logLevel,"ClientOptions.logLevel",this))&&void 0!==i?i:i8(v8("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==o?o:f,this.fetchOptions=h.fetchOptions,this.maxRetries=null!==(a=h.maxRetries)&&void 0!==a?a:2,this.fetch=null!==(s=h.fetch)&&void 0!==s?s:
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=U9,this._options=h,this.apiKey=u,this.apiVersion=c,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=g8([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?g8([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?g8([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new p9(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${k9}`}defaultIdempotencyKey(){return`stainless-node-retry-${d9()}`}makeStatusError(e,t,n,r){return m9.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,i=(e=>A9.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(o)||(t=Object.assign(Object.assign({},o),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new p8(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,i,o;const a=await e,s=null!==(r=a.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=s),await this.prepareOptions(a);const{req:l,url:u,timeout:c}=await this.buildRequest(a,{retryCount:s-t});await this.prepareRequest(l,{url:u,options:a});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(u8(this).debug(`[${d}] sending request`,c8({retryOfRequestLogID:n,method:a.method,url:u,options:a,headers:l.headers})),null===(i=a.signal)||void 0===i?void 0:i.aborted)throw new y9;const p=new AbortController,m=await this.fetchWithTimeout(u,l,c,p).catch(f9),y=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(o=a.signal)||void 0===o?void 0:o.aborted)throw new y9;const r=h9(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return u8(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),u8(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,c8({retryOfRequestLogID:n,url:u,durationMs:y-f,message:m.message})),this.retryRequest(a,t,null!=n?n:d);if(u8(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),u8(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,c8({retryOfRequestLogID:n,url:u,durationMs:y-f,message:m.message})),r)throw new v9;throw new g9({cause:m})}const g=`[${d}${h}] ${l.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${y-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}(m.body),u8(this).info(`${g} - ${e}`),u8(this).debug(`[${d}] response error (${e})`,c8({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-f})),this.retryRequest(a,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";u8(this).info(`${g} - ${r}`);const i=await m.text().catch(e=>f9(e).message),o=(e=>{try{return JSON.parse(e)}catch(t){return}})(i),s=o?void 0:i;u8(this).debug(`[${d}] response error (${r})`,c8({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:s,durationMs:Date.now()-f}));throw this.makeStatusError(m.status,o,s,m.headers)}return u8(this).info(g),u8(this).debug(`[${d}] response start`,c8({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-f})),{response:m,options:a,controller:p,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const i=t||{},{signal:o,method:a}=i,s=x5(i,["signal","method"]);o&&o.addEventListener("abort",()=>r.abort());const l=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||"object"==typeof s.body&&null!==s.body&&Symbol.asyncIterator in s.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),s);a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){var i;let o;const a=null==r?void 0:r.get("retry-after-ms");if(a){const e=parseFloat(a);Number.isNaN(e)||(o=e)}const s=null==r?void 0:r.get("retry-after");if(s&&!o){const e=parseFloat(s);o=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const n=null!==(i=e.maxRetries)&&void 0!==i?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}var l;return await(l=o,new Promise(e=>setTimeout(e,l))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,i;const o=Object.assign({},e),{method:a,path:s,query:l,defaultBaseURL:u}=o,c=this.buildURL(s,l,u);"timeout"in o&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new p9(`${e} must be an integer`);if(t<0)throw new p9(`${e} must be a positive integer`)})("timeout",o.timeout),o.timeout=null!==(n=o.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:o}),f=await this.buildHeaders({options:e,method:a,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:f},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(i=o.fetchOptions)&&void 0!==i?i:{}),url:c,timeout:o.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let a=g8([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=R9?R9:R9=P9()),this._options.defaultHeaders,n,e.headers,o]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=g8([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:D9(e)}:this.encoder({body:e,headers:n})}}w8.DEFAULT_TIMEOUT=6e4;class E8 extends w8{constructor(){super(...arguments),this.interactions=new J9(this)}}function S8(e,t){const n={},r=U1(e,["baseModel"]);null!=r&&L1(n,["baseModel"],r);const i=U1(e,["preTunedModel"]);null!=i&&L1(n,["preTunedModel"],i);const o=U1(e,["trainingDataset"]);null!=o&&function(e){const t={};if(void 0!==U1(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==U1(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=U1(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),L1(t,["examples","examples"],e)}}(o);const a=U1(e,["config"]);return null!=a&&function(e,t){const n={};if(void 0!==U1(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=U1(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&L1(t,["displayName"],r),void 0!==U1(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const i=U1(e,["epochCount"]);void 0!==t&&null!=i&&L1(t,["tuningTask","hyperparameters","epochCount"],i);const o=U1(e,["learningRateMultiplier"]);if(null!=o&&L1(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==U1(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==U1(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==U1(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=U1(e,["batchSize"]);void 0!==t&&null!=a&&L1(t,["tuningTask","hyperparameters","batchSize"],a);const s=U1(e,["learningRate"]);if(void 0!==t&&null!=s&&L1(t,["tuningTask","hyperparameters","learningRate"],s),void 0!==U1(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==U1(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(a,n),n}function _8(e,t){const n={},r=U1(e,["baseModel"]);null!=r&&L1(n,["baseModel"],r);const i=U1(e,["preTunedModel"]);null!=i&&L1(n,["preTunedModel"],i);const o=U1(e,["trainingDataset"]);null!=o&&function(e,t,n){const r={};let i=U1(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=U1(e,["gcsUri"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=U1(e,["gcsUri"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let o=U1(n,["config","method"]);void 0===o&&(o="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===o){const n=U1(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=U1(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==U1(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(o,n,t);const a=U1(e,["config"]);return null!=a&&function(e,t,n){let r=U1(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=U1(e,["validationDataset"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec"],I8(n))}else if("PREFERENCE_TUNING"===r){const n=U1(e,["validationDataset"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec"],I8(n))}const i=U1(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&L1(t,["tunedModelDisplayName"],i);const o=U1(e,["description"]);void 0!==t&&null!=o&&L1(t,["description"],o);let a=U1(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=U1(e,["epochCount"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===a){const n=U1(e,["epochCount"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let s=U1(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=U1(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===s){const n=U1(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let l=U1(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=U1(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===l){const n=U1(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=U1(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=U1(e,["adapterSize"]);void 0!==t&&null!=n&&L1(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=U1(e,["adapterSize"]);void 0!==t&&null!=n&&L1(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==U1(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==U1(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=U1(e,["labels"]);void 0!==t&&null!=c&&L1(t,["labels"],c);const d=U1(e,["beta"]);void 0!==t&&null!=d&&L1(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(a,n,t),n}function x8(e,t){const n={},r=U1(e,["config"]);return null!=r&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r);const i=U1(e,["filter"]);void 0!==t&&null!=i&&L1(t,["_query","filter"],i)}(r,n),n}function O8(e,t){const n={},r=U1(e,["config"]);return null!=r&&function(e,t){const n=U1(e,["pageSize"]);void 0!==t&&null!=n&&L1(t,["_query","pageSize"],n);const r=U1(e,["pageToken"]);void 0!==t&&null!=r&&L1(t,["_query","pageToken"],r);const i=U1(e,["filter"]);void 0!==t&&null!=i&&L1(t,["_query","filter"],i)}(r,n),n}function T8(e,t){const n={},r=U1(e,["sdkHttpResponse"]);null!=r&&L1(n,["sdkHttpResponse"],r);const i=U1(e,["name"]);null!=i&&L1(n,["name"],i);const o=U1(e,["state"]);null!=o&&L1(n,["state"],$3(o));const a=U1(e,["createTime"]);null!=a&&L1(n,["createTime"],a);const s=U1(e,["tuningTask","startTime"]);null!=s&&L1(n,["startTime"],s);const l=U1(e,["tuningTask","completeTime"]);null!=l&&L1(n,["endTime"],l);const u=U1(e,["updateTime"]);null!=u&&L1(n,["updateTime"],u);const c=U1(e,["description"]);null!=c&&L1(n,["description"],c);const d=U1(e,["baseModel"]);null!=d&&L1(n,["baseModel"],d);const h=U1(e,["_self"]);return null!=h&&L1(n,["tunedModel"],function(e){const t={},n=U1(e,["name"]);null!=n&&L1(t,["model"],n);const r=U1(e,["name"]);return null!=r&&L1(t,["endpoint"],r),t}(h)),n}function A8(e,t){const n={},r=U1(e,["sdkHttpResponse"]);null!=r&&L1(n,["sdkHttpResponse"],r);const i=U1(e,["name"]);null!=i&&L1(n,["name"],i);const o=U1(e,["state"]);null!=o&&L1(n,["state"],$3(o));const a=U1(e,["createTime"]);null!=a&&L1(n,["createTime"],a);const s=U1(e,["startTime"]);null!=s&&L1(n,["startTime"],s);const l=U1(e,["endTime"]);null!=l&&L1(n,["endTime"],l);const u=U1(e,["updateTime"]);null!=u&&L1(n,["updateTime"],u);const c=U1(e,["error"]);null!=c&&L1(n,["error"],c);const d=U1(e,["description"]);null!=d&&L1(n,["description"],d);const h=U1(e,["baseModel"]);null!=h&&L1(n,["baseModel"],h);const f=U1(e,["tunedModel"]);null!=f&&L1(n,["tunedModel"],f);const p=U1(e,["preTunedModel"]);null!=p&&L1(n,["preTunedModel"],p);const m=U1(e,["supervisedTuningSpec"]);null!=m&&L1(n,["supervisedTuningSpec"],m);const y=U1(e,["preferenceOptimizationSpec"]);null!=y&&L1(n,["preferenceOptimizationSpec"],y);const g=U1(e,["tuningDataStats"]);null!=g&&L1(n,["tuningDataStats"],g);const v=U1(e,["encryptionSpec"]);null!=v&&L1(n,["encryptionSpec"],v);const b=U1(e,["partnerModelTuningSpec"]);null!=b&&L1(n,["partnerModelTuningSpec"],b);const w=U1(e,["customBaseModel"]);null!=w&&L1(n,["customBaseModel"],w);const E=U1(e,["experiment"]);null!=E&&L1(n,["experiment"],E);const S=U1(e,["labels"]);null!=S&&L1(n,["labels"],S);const _=U1(e,["outputUri"]);null!=_&&L1(n,["outputUri"],_);const x=U1(e,["pipelineJob"]);null!=x&&L1(n,["pipelineJob"],x);const O=U1(e,["serviceAccount"]);null!=O&&L1(n,["serviceAccount"],O);const T=U1(e,["tunedModelDisplayName"]);null!=T&&L1(n,["tunedModelDisplayName"],T);const A=U1(e,["veoTuningSpec"]);return null!=A&&L1(n,["veoTuningSpec"],A),n}function I8(e,t){const n={},r=U1(e,["gcsUri"]);null!=r&&L1(n,["validationDatasetUri"],r);const i=U1(e,["vertexDatasetResource"]);return null!=i&&L1(n,["validationDatasetUri"],i),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */b8=E8,E8.GeminiNextGenAPIClient=b8,E8.GeminiNextGenAPIClientError=p9,E8.APIError=m9,E8.APIConnectionError=g9,E8.APIConnectionTimeoutError=v9,E8.APIUserAbortError=y9,E8.NotFoundError=S9,E8.ConflictError=_9,E8.RateLimitError=O9,E8.BadRequestError=b9,E8.AuthenticationError=w9,E8.InternalServerError=T9,E8.PermissionDeniedError=E9,E8.UnprocessableEntityError=x9,E8.toFile=async function(e,t,n){if(F9(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&B9(e))(e=await e))return e instanceof File?e:V9([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),V9(await q9(r),t,n)}const r=await q9(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return V9(r,t,n)},E8.Interactions=J9;class C8 extends M1{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new p5(J4.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:L2.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return a=D1("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>A8(e))}{const t=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return a=D1("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>T8(e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=O8(e);return a=D1("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>A8(e))),L1(t,["tuningJobs"],e)}return t}(e),n=new c3;return Object.assign(n,t),n})}{const t=x8(e);return a=D1("tunedModels",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["nextPageToken"]);null!=r&&L1(t,["nextPageToken"],r);const i=U1(e,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>T8(e))),L1(t,["tuningJobs"],e)}return t}(e),n=new c3;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return a=D1("{name}:cancel",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new d3;return Object.assign(n,t),n})}{const t=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const t={},n=U1(e,["name"]);return null!=n&&L1(t,["_url","name"],n),t}(e);return a=D1("{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=U1(e,["sdkHttpResponse"]);return null!=n&&L1(t,["sdkHttpResponse"],n),t}(e),n=new d3;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=_8(e,e);return i=D1("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>A8(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=S8(e);return i=D1("tunedModels",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=U1(e,["sdkHttpResponse"]);null!=n&&L1(t,["sdkHttpResponse"],n);const r=U1(e,["name"]);null!=r&&L1(t,["name"],r);const i=U1(e,["metadata"]);null!=i&&L1(t,["metadata"],i);const o=U1(e,["done"]);null!=o&&L1(t,["done"],o);const a=U1(e,["error"]);return null!=a&&L1(t,["error"],a),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k8{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const P8="x-goog-upload-status";async function N8(e,t,n){var r,i;let o=0,a=0,s=new X4(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(8388608,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[P8]));)d++,await j8(h),h*=2;if(a+=u,"active"!==(null===(i=null==s?void 0:s.headers)||void 0===i?void 0:i[P8]))break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}function j8(e){return new Promise(t=>setTimeout(t,e))}class R8{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const i=await N8(e,t,n),o=await(null==i?void 0:i.json());if("final"!==(null===(r=null==i?void 0:i.headers)||void 0===r?void 0:r[P8]))throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const i=await N8(e,t,n),o=await(null==i?void 0:i.json());if("final"!==(null===(r=null==i?void 0:i.headers)||void 0===r?void 0:r[P8]))throw new Error("Failed to upload file: Upload status is not finalized.");const a=H1(o),s=new x3;return Object.assign(s,a),s}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M8{create(e,t,n){return new D8(e,t,n)}}class D8{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L8="x-goog-api-key";class U8{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(L8)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(L8,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F8{get interactions(){if(void 0!==this._interactions)return this._interactions;const e=this.httpOptions;null==e||e.extraBody;const t=new E8({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=R1(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new U8(this.apiKey);this.apiClient=new F6({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new R8,downloader:new k8}),this.models=new t9(this.apiClient),this.live=new K6(this.apiClient,r,new M8),this.batches=new m5(this.apiClient),this.chats=new N5(this.models,this.apiClient),this.caches=new _5(this.apiClient),this.files=new D5(this.apiClient),this.operations=new n9(this.apiClient),this.authTokens=new a9(this.apiClient),this.tunings=new C8(this.apiClient),this.fileSearchStores=new c9(this.apiClient)}}const V8=()=>{const{user:e}=q8(),[t,n]=B.useState([]),[r,i]=B.useState([]),[o,a]=B.useState(""),[s,l]=B.useState(!1);B.useEffect(()=>{if(!e)return;if(CO)return void n([{id:"1",accountId:"1",amount:5e3,type:"expense",category:"",note:"",date:"2024-03-01",createdAt:0},{id:"2",accountId:"1",amount:3e3,type:"expense",category:"",note:"",date:"2024-03-02",createdAt:0},{id:"3",accountId:"1",amount:12e3,type:"income",category:"",note:"",date:"2024-03-05",createdAt:0}]);if(!IO)return;const t=_O(rO(_x(IO,"transactions"),oO("userId","==",e.uid)),e=>{n(e.docs.map(e=>({id:e.id,...e.data()})))}),r=_O(rO(_x(IO,"accounts"),oO("userId","==",e.uid)),e=>{i(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>{t(),r()}},[e]);const u=async()=>{l(!0);const e=await(async(e,t)=>{try{const n=new F8({apiKey:"AIzaSyD9NtKXQLwWDyio4QMYusqHjjaxHCABuIE"}),r={accounts:t.map(e=>({name:e.name,balance:e.balance})),recentTransactions:e.slice(0,15).map(e=>({amount:e.amount,type:e.type,category:e.category,note:e.note,date:e.date}))},i=`\n       SmartFinance AI  3-5 \n      \n      \n      \n      1. \n      2. \n      3.  Markdown \n\n      \n      ${JSON.stringify(r,null,2)}\n    `;return(await n.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{thinkingConfig:{thinkingBudget:32768}}})).text||"AI "}catch(n){return"AI  API "}})(t,r);a(e),l(!1)},c=t.filter(e=>"expense"===e.type).reduce((e,t)=>{const n=e.find(e=>e.name===t.category);return n?n.value+=t.amount:e.push({name:t.category,value:t.amount}),e},[]),d=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return X.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8",children:[X.jsxs("header",{children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),X.jsx("p",{className:"text-slate-500",children:" AI "})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[X.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-100",children:[X.jsxs("h3",{className:"text-lg font-bold mb-8 text-slate-800 flex items-center gap-2",children:[X.jsx(aT,{className:"w-5 h-5 text-rose-500"}),""]}),X.jsx("div",{className:"h-80",children:c.length>0?X.jsx(ZL,{width:"100%",height:"100%",children:X.jsxs(b1,{children:[X.jsx(CY,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:c.map((e,t)=>X.jsx(eU,{fill:d[t%d.length]},`cell-${t}`))}),X.jsx(TL,{}),X.jsx($M,{})]})}):X.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 italic",children:""})})]}),X.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-3xl shadow-xl relative overflow-hidden",children:[X.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:X.jsx(MO,{className:"w-32 h-32"})}),X.jsxs("div",{className:"relative z-10",children:[X.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[X.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-xl flex items-center justify-center",children:X.jsx(iT,{className:"w-6 h-6 text-white"})}),X.jsx("h3",{className:"text-xl font-bold",children:"Gemini 3 Pro AI "})]}),o?X.jsxs("div",{className:"prose prose-invert max-w-none bg-slate-800/50 p-6 rounded-2xl border border-slate-700",children:[X.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-slate-200",children:o}),X.jsx("button",{onClick:u,disabled:s,className:"mt-6 text-sm font-bold text-indigo-400 hover:text-indigo-300 transition-colors",children:s?"...":" "})]}):X.jsxs("div",{className:"text-center py-10",children:[X.jsx("p",{className:"text-slate-400 mb-6",children:""}),X.jsx("button",{onClick:u,disabled:s,className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition-all active:scale-95 disabled:opacity-50",children:s?"AI ...":" AI "})]})]})]})]}),X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[X.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-6",children:""}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"p-4 rounded-2xl bg-emerald-50 border border-emerald-100",children:[X.jsxs("div",{className:"flex items-center gap-3 text-emerald-700 font-bold mb-1",children:[X.jsx(sT,{className:"w-5 h-5"}),X.jsx("span",{children:""})]}),X.jsx("p",{className:"text-sm text-emerald-600/80",children:""})]}),X.jsxs("div",{className:"p-4 rounded-2xl bg-amber-50 border border-amber-100",children:[X.jsxs("div",{className:"flex items-center gap-3 text-amber-700 font-bold mb-1",children:[X.jsx(WO,{className:"w-5 h-5"}),X.jsx("span",{children:""})]}),X.jsx("p",{className:"text-sm text-amber-600/80",children:" 15%"})]})]})]}),X.jsxs("div",{className:"bg-indigo-600 p-6 rounded-3xl shadow-lg text-white",children:[X.jsx("h3",{className:"font-bold mb-2",children:""}),X.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:""}),X.jsx("button",{className:"w-full bg-white/20 hover:bg-white/30 text-white font-bold py-2 rounded-xl transition-all",children:""})]})]})]})]})},B8=B.createContext({user:null,loading:!0,isTestMode:!1,logout:async()=>{},enterTestMode:()=>{}}),q8=()=>B.useContext(B8),z8=()=>{const[e,t]=B.useState(null),[n,r]=B.useState(!0),[i,o]=B.useState(!1);B.useEffect(()=>{if(!AO)return void r(!1);var e,n,o;return e=e=>{i||t(e),r(!1)},Qh(AO).onAuthStateChanged(e,n,o)},[i]);return n?X.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"}),X.jsx("p",{className:"text-lg font-medium",children:"SmartFinance ..."})]})}):X.jsx(B8.Provider,{value:{user:e,loading:n,isTestMode:i,logout:async()=>{var e;i?(o(!1),t(null)):AO&&await(e=AO,Qh(e).signOut())},enterTestMode:()=>{o(!0),t({uid:"test-user-id",email:"tester@smartfinance.demo",displayName:""})}},children:X.jsx(wh,{children:X.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-slate-50",children:[e&&X.jsx(H8,{}),X.jsxs("div",{className:"flex-1 overflow-auto",children:[i&&X.jsxs("div",{className:"bg-indigo-600 text-white px-4 py-2 flex items-center justify-center gap-2 text-sm font-bold sticky top-0 z-50",children:[X.jsx(BO,{className:"w-4 h-4"}),X.jsx("span",{children:""})]}),CO&&!i&&X.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center gap-2 text-amber-800 text-sm",children:[X.jsx(tT,{className:"w-4 h-4"}),X.jsx("span",{children:"Firebase "})]}),X.jsxs(mh,{children:[X.jsx(fh,{path:"/",element:e?X.jsx(w1,{}):X.jsx(hh,{to:"/login"})}),X.jsx(fh,{path:"/login",element:e?X.jsx(hh,{to:"/"}):X.jsx(S1,{})}),X.jsx(fh,{path:"/register",element:e?X.jsx(hh,{to:"/"}):X.jsx(_1,{})}),X.jsx(fh,{path:"/accounts",element:e?X.jsx(O1,{}):X.jsx(hh,{to:"/login"})}),X.jsx(fh,{path:"/transactions",element:e?X.jsx(k1,{}):X.jsx(hh,{to:"/login"})}),X.jsx(fh,{path:"/reports",element:e?X.jsx(V8,{}):X.jsx(hh,{to:"/login"})})]})]})]})})})},H8=()=>{const{logout:e}=q8(),t=th(),n=[{icon:X.jsx(KO,{className:"w-5 h-5"}),label:"",path:"/"},{icon:X.jsx(cT,{className:"w-5 h-5"}),label:"",path:"/accounts"},{icon:X.jsx(eT,{className:"w-5 h-5"}),label:"",path:"/transactions"},{icon:X.jsx(QO,{className:"w-5 h-5"}),label:" AI",path:"/reports"}];return X.jsxs("div",{className:"w-full md:w-64 bg-white border-r border-slate-200 flex flex-col h-auto md:h-screen sticky top-0 z-20",children:[X.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[X.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:X.jsx(cT,{className:"text-white w-5 h-5"})}),X.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-400 bg-clip-text text-transparent",children:"SmartFinance"})]}),X.jsx("nav",{className:"flex-1 p-4 flex flex-row md:flex-col overflow-x-auto md:overflow-x-hidden gap-1",children:n.map(e=>X.jsxs(_h,{to:e.path,className:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover:bg-slate-50 text-slate-600 hover:text-indigo-600 whitespace-nowrap",children:[e.icon,X.jsx("span",{className:"font-medium",children:e.label})]},e.path))}),X.jsx("div",{className:"p-4 border-t border-slate-100 hidden md:block",children:X.jsxs("button",{onClick:async()=>{await e(),t("/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover:bg-red-50 text-red-500 font-medium",children:[X.jsx(YO,{className:"w-5 h-5"}),X.jsx("span",{children:""})]})})]})},G8=document.getElementById("root");if(!G8)throw new Error("Could not find root element to mount to");Q.createRoot(G8).render(X.jsx(q.StrictMode,{children:X.jsx(z8,{})}));
